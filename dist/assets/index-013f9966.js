function IA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function X0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var J0={exports:{}},Dc={},Z0={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var za=Symbol.for("react.element"),RA=Symbol.for("react.portal"),AA=Symbol.for("react.fragment"),CA=Symbol.for("react.strict_mode"),kA=Symbol.for("react.profiler"),NA=Symbol.for("react.provider"),xA=Symbol.for("react.context"),PA=Symbol.for("react.forward_ref"),bA=Symbol.for("react.suspense"),DA=Symbol.for("react.memo"),VA=Symbol.for("react.lazy"),Uy=Symbol.iterator;function LA(t){return t===null||typeof t!="object"?null:(t=Uy&&t[Uy]||t["@@iterator"],typeof t=="function"?t:null)}var ew={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tw=Object.assign,nw={};function Hs(t,e,n){this.props=t,this.context=e,this.refs=nw,this.updater=n||ew}Hs.prototype.isReactComponent={};Hs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Hs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function rw(){}rw.prototype=Hs.prototype;function Hp(t,e,n){this.props=t,this.context=e,this.refs=nw,this.updater=n||ew}var Kp=Hp.prototype=new rw;Kp.constructor=Hp;tw(Kp,Hs.prototype);Kp.isPureReactComponent=!0;var Fy=Array.isArray,iw=Object.prototype.hasOwnProperty,qp={current:null},sw={key:!0,ref:!0,__self:!0,__source:!0};function ow(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)iw.call(e,r)&&!sw.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:za,type:t,key:s,ref:o,props:i,_owner:qp.current}}function OA(t,e){return{$$typeof:za,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Gp(t){return typeof t=="object"&&t!==null&&t.$$typeof===za}function MA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var By=/\/+/g;function rd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?MA(""+t.key):e.toString(36)}function uu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case za:case RA:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+rd(o,0):r,Fy(i)?(n="",t!=null&&(n=t.replace(By,"$&/")+"/"),uu(i,e,n,"",function(u){return u})):i!=null&&(Gp(i)&&(i=OA(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(By,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Fy(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+rd(s,a);o+=uu(s,e,n,l,i)}else if(l=LA(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+rd(s,a++),o+=uu(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function xl(t,e,n){if(t==null)return t;var r=[],i=0;return uu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function $A(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var jt={current:null},cu={transition:null},jA={ReactCurrentDispatcher:jt,ReactCurrentBatchConfig:cu,ReactCurrentOwner:qp};ge.Children={map:xl,forEach:function(t,e,n){xl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xl(t,function(){e++}),e},toArray:function(t){return xl(t,function(e){return e})||[]},only:function(t){if(!Gp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ge.Component=Hs;ge.Fragment=AA;ge.Profiler=kA;ge.PureComponent=Hp;ge.StrictMode=CA;ge.Suspense=bA;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jA;ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=tw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=qp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)iw.call(e,l)&&!sw.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:za,type:t.type,key:i,ref:s,props:r,_owner:o}};ge.createContext=function(t){return t={$$typeof:xA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:NA,_context:t},t.Consumer=t};ge.createElement=ow;ge.createFactory=function(t){var e=ow.bind(null,t);return e.type=t,e};ge.createRef=function(){return{current:null}};ge.forwardRef=function(t){return{$$typeof:PA,render:t}};ge.isValidElement=Gp;ge.lazy=function(t){return{$$typeof:VA,_payload:{_status:-1,_result:t},_init:$A}};ge.memo=function(t,e){return{$$typeof:DA,type:t,compare:e===void 0?null:e}};ge.startTransition=function(t){var e=cu.transition;cu.transition={};try{t()}finally{cu.transition=e}};ge.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ge.useCallback=function(t,e){return jt.current.useCallback(t,e)};ge.useContext=function(t){return jt.current.useContext(t)};ge.useDebugValue=function(){};ge.useDeferredValue=function(t){return jt.current.useDeferredValue(t)};ge.useEffect=function(t,e){return jt.current.useEffect(t,e)};ge.useId=function(){return jt.current.useId()};ge.useImperativeHandle=function(t,e,n){return jt.current.useImperativeHandle(t,e,n)};ge.useInsertionEffect=function(t,e){return jt.current.useInsertionEffect(t,e)};ge.useLayoutEffect=function(t,e){return jt.current.useLayoutEffect(t,e)};ge.useMemo=function(t,e){return jt.current.useMemo(t,e)};ge.useReducer=function(t,e,n){return jt.current.useReducer(t,e,n)};ge.useRef=function(t){return jt.current.useRef(t)};ge.useState=function(t){return jt.current.useState(t)};ge.useSyncExternalStore=function(t,e,n){return jt.current.useSyncExternalStore(t,e,n)};ge.useTransition=function(){return jt.current.useTransition()};ge.version="18.2.0";Z0.exports=ge;var R=Z0.exports;const Ve=X0(R),UA=IA({__proto__:null,default:Ve},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FA=R,BA=Symbol.for("react.element"),zA=Symbol.for("react.fragment"),WA=Object.prototype.hasOwnProperty,HA=FA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KA={key:!0,ref:!0,__self:!0,__source:!0};function aw(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)WA.call(e,r)&&!KA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:BA,type:t,key:s,ref:o,props:i,_owner:HA.current}}Dc.Fragment=zA;Dc.jsx=aw;Dc.jsxs=aw;J0.exports=Dc;var h=J0.exports,lw={exports:{}},rn={},uw={exports:{}},cw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,Q){var ne=O.length;O.push(Q);e:for(;0<ne;){var Ie=ne-1>>>1,I=O[Ie];if(0<i(I,Q))O[Ie]=Q,O[ne]=I,ne=Ie;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var Q=O[0],ne=O.pop();if(ne!==Q){O[0]=ne;e:for(var Ie=0,I=O.length,x=I>>>1;Ie<x;){var P=2*(Ie+1)-1,q=O[P],F=P+1,ue=O[F];if(0>i(q,ne))F<I&&0>i(ue,q)?(O[Ie]=ue,O[F]=ne,Ie=F):(O[Ie]=q,O[P]=ne,Ie=P);else if(F<I&&0>i(ue,ne))O[Ie]=ue,O[F]=ne,Ie=F;else break e}}return Q}function i(O,Q){var ne=O.sortIndex-Q.sortIndex;return ne!==0?ne:O.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,g=!1,y=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(O){for(var Q=n(u);Q!==null;){if(Q.callback===null)r(u);else if(Q.startTime<=O)r(u),Q.sortIndex=Q.expirationTime,e(l,Q);else break;Q=n(u)}}function T(O){if(_=!1,v(O),!y)if(n(l)!==null)y=!0,Ce(A);else{var Q=n(u);Q!==null&&Be(T,Q.startTime-O)}}function A(O,Q){y=!1,_&&(_=!1,m(L),L=-1),g=!0;var ne=f;try{for(v(Q),d=n(l);d!==null&&(!(d.expirationTime>Q)||O&&!G());){var Ie=d.callback;if(typeof Ie=="function"){d.callback=null,f=d.priorityLevel;var I=Ie(d.expirationTime<=Q);Q=t.unstable_now(),typeof I=="function"?d.callback=I:d===n(l)&&r(l),v(Q)}else r(l);d=n(l)}if(d!==null)var x=!0;else{var P=n(u);P!==null&&Be(T,P.startTime-Q),x=!1}return x}finally{d=null,f=ne,g=!1}}var C=!1,N=null,L=-1,Z=5,H=-1;function G(){return!(t.unstable_now()-H<Z)}function ae(){if(N!==null){var O=t.unstable_now();H=O;var Q=!0;try{Q=N(!0,O)}finally{Q?X():(C=!1,N=null)}}else C=!1}var X;if(typeof p=="function")X=function(){p(ae)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,Oe=ye.port2;ye.port1.onmessage=ae,X=function(){Oe.postMessage(null)}}else X=function(){E(ae,0)};function Ce(O){N=O,C||(C=!0,X())}function Be(O,Q){L=E(function(){O(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,Ce(A))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var Q=3;break;default:Q=f}var ne=f;f=Q;try{return O()}finally{f=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,Q){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var ne=f;f=O;try{return Q()}finally{f=ne}},t.unstable_scheduleCallback=function(O,Q,ne){var Ie=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?Ie+ne:Ie):ne=Ie,O){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ne+I,O={id:c++,callback:Q,priorityLevel:O,startTime:ne,expirationTime:I,sortIndex:-1},ne>Ie?(O.sortIndex=ne,e(u,O),n(l)===null&&O===n(u)&&(_?(m(L),L=-1):_=!0,Be(T,ne-Ie))):(O.sortIndex=I,e(l,O),y||g||(y=!0,Ce(A))),O},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(O){var Q=f;return function(){var ne=f;f=Q;try{return O.apply(this,arguments)}finally{f=ne}}}})(cw);uw.exports=cw;var qA=uw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hw=R,en=qA;function D(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dw=new Set,oa={};function Mi(t,e){Is(t,e),Is(t+"Capture",e)}function Is(t,e){for(oa[t]=e,t=0;t<e.length;t++)dw.add(e[t])}var rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),af=Object.prototype.hasOwnProperty,GA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zy={},Wy={};function QA(t){return af.call(Wy,t)?!0:af.call(zy,t)?!1:GA.test(t)?Wy[t]=!0:(zy[t]=!0,!1)}function YA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function XA(t,e,n,r){if(e===null||typeof e>"u"||YA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ut(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vt[t]=new Ut(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vt[e]=new Ut(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vt[t]=new Ut(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vt[t]=new Ut(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vt[t]=new Ut(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vt[t]=new Ut(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vt[t]=new Ut(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vt[t]=new Ut(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vt[t]=new Ut(t,5,!1,t.toLowerCase(),null,!1,!1)});var Qp=/[\-:]([a-z])/g;function Yp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Qp,Yp);vt[e]=new Ut(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Qp,Yp);vt[e]=new Ut(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Qp,Yp);vt[e]=new Ut(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vt[t]=new Ut(t,1,!1,t.toLowerCase(),null,!1,!1)});vt.xlinkHref=new Ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vt[t]=new Ut(t,1,!1,t.toLowerCase(),null,!0,!0)});function Xp(t,e,n,r){var i=vt.hasOwnProperty(e)?vt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(XA(e,n,i,r)&&(n=null),r||i===null?QA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var dr=hw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pl=Symbol.for("react.element"),Ji=Symbol.for("react.portal"),Zi=Symbol.for("react.fragment"),Jp=Symbol.for("react.strict_mode"),lf=Symbol.for("react.profiler"),fw=Symbol.for("react.provider"),pw=Symbol.for("react.context"),Zp=Symbol.for("react.forward_ref"),uf=Symbol.for("react.suspense"),cf=Symbol.for("react.suspense_list"),em=Symbol.for("react.memo"),_r=Symbol.for("react.lazy"),mw=Symbol.for("react.offscreen"),Hy=Symbol.iterator;function po(t){return t===null||typeof t!="object"?null:(t=Hy&&t[Hy]||t["@@iterator"],typeof t=="function"?t:null)}var He=Object.assign,id;function xo(t){if(id===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);id=e&&e[1]||""}return`
`+id+t}var sd=!1;function od(t,e){if(!t||sd)return"";sd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{sd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?xo(t):""}function JA(t){switch(t.tag){case 5:return xo(t.type);case 16:return xo("Lazy");case 13:return xo("Suspense");case 19:return xo("SuspenseList");case 0:case 2:case 15:return t=od(t.type,!1),t;case 11:return t=od(t.type.render,!1),t;case 1:return t=od(t.type,!0),t;default:return""}}function hf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zi:return"Fragment";case Ji:return"Portal";case lf:return"Profiler";case Jp:return"StrictMode";case uf:return"Suspense";case cf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case pw:return(t.displayName||"Context")+".Consumer";case fw:return(t._context.displayName||"Context")+".Provider";case Zp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case em:return e=t.displayName||null,e!==null?e:hf(t.type)||"Memo";case _r:e=t._payload,t=t._init;try{return hf(t(e))}catch{}}return null}function ZA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hf(e);case 8:return e===Jp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Hr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function eC(t){var e=gw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function bl(t){t._valueTracker||(t._valueTracker=eC(t))}function yw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=gw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function xu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function df(t,e){var n=e.checked;return He({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ky(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Hr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function vw(t,e){e=e.checked,e!=null&&Xp(t,"checked",e,!1)}function ff(t,e){vw(t,e);var n=Hr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?pf(t,e.type,n):e.hasOwnProperty("defaultValue")&&pf(t,e.type,Hr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function qy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function pf(t,e,n){(e!=="number"||xu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Po=Array.isArray;function hs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Hr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function mf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(D(91));return He({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Gy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(D(92));if(Po(n)){if(1<n.length)throw Error(D(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Hr(n)}}function _w(t,e){var n=Hr(e.value),r=Hr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Qy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ww(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ww(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Dl,Ew=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Dl=Dl||document.createElement("div"),Dl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Dl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function aa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Bo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tC=["Webkit","ms","Moz","O"];Object.keys(Bo).forEach(function(t){tC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Bo[e]=Bo[t]})});function Tw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Bo.hasOwnProperty(t)&&Bo[t]?(""+e).trim():e+"px"}function Sw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Tw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var nC=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yf(t,e){if(e){if(nC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(D(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(D(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(D(61))}if(e.style!=null&&typeof e.style!="object")throw Error(D(62))}}function vf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _f=null;function tm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wf=null,ds=null,fs=null;function Yy(t){if(t=Ka(t)){if(typeof wf!="function")throw Error(D(280));var e=t.stateNode;e&&(e=$c(e),wf(t.stateNode,t.type,e))}}function Iw(t){ds?fs?fs.push(t):fs=[t]:ds=t}function Rw(){if(ds){var t=ds,e=fs;if(fs=ds=null,Yy(t),e)for(t=0;t<e.length;t++)Yy(e[t])}}function Aw(t,e){return t(e)}function Cw(){}var ad=!1;function kw(t,e,n){if(ad)return t(e,n);ad=!0;try{return Aw(t,e,n)}finally{ad=!1,(ds!==null||fs!==null)&&(Cw(),Rw())}}function la(t,e){var n=t.stateNode;if(n===null)return null;var r=$c(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(D(231,e,typeof n));return n}var Ef=!1;if(rr)try{var mo={};Object.defineProperty(mo,"passive",{get:function(){Ef=!0}}),window.addEventListener("test",mo,mo),window.removeEventListener("test",mo,mo)}catch{Ef=!1}function rC(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var zo=!1,Pu=null,bu=!1,Tf=null,iC={onError:function(t){zo=!0,Pu=t}};function sC(t,e,n,r,i,s,o,a,l){zo=!1,Pu=null,rC.apply(iC,arguments)}function oC(t,e,n,r,i,s,o,a,l){if(sC.apply(this,arguments),zo){if(zo){var u=Pu;zo=!1,Pu=null}else throw Error(D(198));bu||(bu=!0,Tf=u)}}function $i(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Nw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Xy(t){if($i(t)!==t)throw Error(D(188))}function aC(t){var e=t.alternate;if(!e){if(e=$i(t),e===null)throw Error(D(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Xy(i),t;if(s===r)return Xy(i),e;s=s.sibling}throw Error(D(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?t:e}function xw(t){return t=aC(t),t!==null?Pw(t):null}function Pw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Pw(t);if(e!==null)return e;t=t.sibling}return null}var bw=en.unstable_scheduleCallback,Jy=en.unstable_cancelCallback,lC=en.unstable_shouldYield,uC=en.unstable_requestPaint,Qe=en.unstable_now,cC=en.unstable_getCurrentPriorityLevel,nm=en.unstable_ImmediatePriority,Dw=en.unstable_UserBlockingPriority,Du=en.unstable_NormalPriority,hC=en.unstable_LowPriority,Vw=en.unstable_IdlePriority,Vc=null,Mn=null;function dC(t){if(Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(Vc,t,void 0,(t.current.flags&128)===128)}catch{}}var Sn=Math.clz32?Math.clz32:mC,fC=Math.log,pC=Math.LN2;function mC(t){return t>>>=0,t===0?32:31-(fC(t)/pC|0)|0}var Vl=64,Ll=4194304;function bo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=bo(a):(s&=o,s!==0&&(r=bo(s)))}else o=n&~i,o!==0?r=bo(o):s!==0&&(r=bo(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Sn(e),i=1<<n,r|=t[n],e&=~i;return r}function gC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Sn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=gC(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Sf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Lw(){var t=Vl;return Vl<<=1,!(Vl&4194240)&&(Vl=64),t}function ld(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Wa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Sn(e),t[e]=n}function vC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Sn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function rm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Sn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Te=0;function Ow(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Mw,im,$w,jw,Uw,If=!1,Ol=[],Pr=null,br=null,Dr=null,ua=new Map,ca=new Map,Tr=[],_C="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zy(t,e){switch(t){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":br=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":ua.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ca.delete(e.pointerId)}}function go(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ka(e),e!==null&&im(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function wC(t,e,n,r,i){switch(e){case"focusin":return Pr=go(Pr,t,e,n,r,i),!0;case"dragenter":return br=go(br,t,e,n,r,i),!0;case"mouseover":return Dr=go(Dr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ua.set(s,go(ua.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ca.set(s,go(ca.get(s)||null,t,e,n,r,i)),!0}return!1}function Fw(t){var e=di(t.target);if(e!==null){var n=$i(e);if(n!==null){if(e=n.tag,e===13){if(e=Nw(n),e!==null){t.blockedOn=e,Uw(t.priority,function(){$w(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Rf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);_f=r,n.target.dispatchEvent(r),_f=null}else return e=Ka(n),e!==null&&im(e),t.blockedOn=n,!1;e.shift()}return!0}function ev(t,e,n){hu(t)&&n.delete(e)}function EC(){If=!1,Pr!==null&&hu(Pr)&&(Pr=null),br!==null&&hu(br)&&(br=null),Dr!==null&&hu(Dr)&&(Dr=null),ua.forEach(ev),ca.forEach(ev)}function yo(t,e){t.blockedOn===e&&(t.blockedOn=null,If||(If=!0,en.unstable_scheduleCallback(en.unstable_NormalPriority,EC)))}function ha(t){function e(i){return yo(i,t)}if(0<Ol.length){yo(Ol[0],t);for(var n=1;n<Ol.length;n++){var r=Ol[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Pr!==null&&yo(Pr,t),br!==null&&yo(br,t),Dr!==null&&yo(Dr,t),ua.forEach(e),ca.forEach(e),n=0;n<Tr.length;n++)r=Tr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Tr.length&&(n=Tr[0],n.blockedOn===null);)Fw(n),n.blockedOn===null&&Tr.shift()}var ps=dr.ReactCurrentBatchConfig,Lu=!0;function TC(t,e,n,r){var i=Te,s=ps.transition;ps.transition=null;try{Te=1,sm(t,e,n,r)}finally{Te=i,ps.transition=s}}function SC(t,e,n,r){var i=Te,s=ps.transition;ps.transition=null;try{Te=4,sm(t,e,n,r)}finally{Te=i,ps.transition=s}}function sm(t,e,n,r){if(Lu){var i=Rf(t,e,n,r);if(i===null)vd(t,e,r,Ou,n),Zy(t,r);else if(wC(i,t,e,n,r))r.stopPropagation();else if(Zy(t,r),e&4&&-1<_C.indexOf(t)){for(;i!==null;){var s=Ka(i);if(s!==null&&Mw(s),s=Rf(t,e,n,r),s===null&&vd(t,e,r,Ou,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else vd(t,e,r,null,n)}}var Ou=null;function Rf(t,e,n,r){if(Ou=null,t=tm(r),t=di(t),t!==null)if(e=$i(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Nw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ou=t,null}function Bw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cC()){case nm:return 1;case Dw:return 4;case Du:case hC:return 16;case Vw:return 536870912;default:return 16}default:return 16}}var Cr=null,om=null,du=null;function zw(){if(du)return du;var t,e=om,n=e.length,r,i="value"in Cr?Cr.value:Cr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return du=i.slice(t,1<r?1-r:void 0)}function fu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ml(){return!0}function tv(){return!1}function sn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ml:tv,this.isPropagationStopped=tv,this}return He(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ml)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ml)},persist:function(){},isPersistent:Ml}),e}var Ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},am=sn(Ks),Ha=He({},Ks,{view:0,detail:0}),IC=sn(Ha),ud,cd,vo,Lc=He({},Ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vo&&(vo&&t.type==="mousemove"?(ud=t.screenX-vo.screenX,cd=t.screenY-vo.screenY):cd=ud=0,vo=t),ud)},movementY:function(t){return"movementY"in t?t.movementY:cd}}),nv=sn(Lc),RC=He({},Lc,{dataTransfer:0}),AC=sn(RC),CC=He({},Ha,{relatedTarget:0}),hd=sn(CC),kC=He({},Ks,{animationName:0,elapsedTime:0,pseudoElement:0}),NC=sn(kC),xC=He({},Ks,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),PC=sn(xC),bC=He({},Ks,{data:0}),rv=sn(bC),DC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=LC[t])?!!e[t]:!1}function lm(){return OC}var MC=He({},Ha,{key:function(t){if(t.key){var e=DC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?VC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lm,charCode:function(t){return t.type==="keypress"?fu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$C=sn(MC),jC=He({},Lc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iv=sn(jC),UC=He({},Ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lm}),FC=sn(UC),BC=He({},Ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),zC=sn(BC),WC=He({},Lc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),HC=sn(WC),KC=[9,13,27,32],um=rr&&"CompositionEvent"in window,Wo=null;rr&&"documentMode"in document&&(Wo=document.documentMode);var qC=rr&&"TextEvent"in window&&!Wo,Ww=rr&&(!um||Wo&&8<Wo&&11>=Wo),sv=String.fromCharCode(32),ov=!1;function Hw(t,e){switch(t){case"keyup":return KC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var es=!1;function GC(t,e){switch(t){case"compositionend":return Kw(e);case"keypress":return e.which!==32?null:(ov=!0,sv);case"textInput":return t=e.data,t===sv&&ov?null:t;default:return null}}function QC(t,e){if(es)return t==="compositionend"||!um&&Hw(t,e)?(t=zw(),du=om=Cr=null,es=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ww&&e.locale!=="ko"?null:e.data;default:return null}}var YC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function av(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!YC[t.type]:e==="textarea"}function qw(t,e,n,r){Iw(r),e=Mu(e,"onChange"),0<e.length&&(n=new am("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ho=null,da=null;function XC(t){iE(t,0)}function Oc(t){var e=rs(t);if(yw(e))return t}function JC(t,e){if(t==="change")return e}var Gw=!1;if(rr){var dd;if(rr){var fd="oninput"in document;if(!fd){var lv=document.createElement("div");lv.setAttribute("oninput","return;"),fd=typeof lv.oninput=="function"}dd=fd}else dd=!1;Gw=dd&&(!document.documentMode||9<document.documentMode)}function uv(){Ho&&(Ho.detachEvent("onpropertychange",Qw),da=Ho=null)}function Qw(t){if(t.propertyName==="value"&&Oc(da)){var e=[];qw(e,da,t,tm(t)),kw(XC,e)}}function ZC(t,e,n){t==="focusin"?(uv(),Ho=e,da=n,Ho.attachEvent("onpropertychange",Qw)):t==="focusout"&&uv()}function ek(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Oc(da)}function tk(t,e){if(t==="click")return Oc(e)}function nk(t,e){if(t==="input"||t==="change")return Oc(e)}function rk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var An=typeof Object.is=="function"?Object.is:rk;function fa(t,e){if(An(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!af.call(e,i)||!An(t[i],e[i]))return!1}return!0}function cv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hv(t,e){var n=cv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cv(n)}}function Yw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Yw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Xw(){for(var t=window,e=xu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=xu(t.document)}return e}function cm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ik(t){var e=Xw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Yw(n.ownerDocument.documentElement,n)){if(r!==null&&cm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=hv(n,s);var o=hv(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sk=rr&&"documentMode"in document&&11>=document.documentMode,ts=null,Af=null,Ko=null,Cf=!1;function dv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Cf||ts==null||ts!==xu(r)||(r=ts,"selectionStart"in r&&cm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ko&&fa(Ko,r)||(Ko=r,r=Mu(Af,"onSelect"),0<r.length&&(e=new am("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ts)))}function $l(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ns={animationend:$l("Animation","AnimationEnd"),animationiteration:$l("Animation","AnimationIteration"),animationstart:$l("Animation","AnimationStart"),transitionend:$l("Transition","TransitionEnd")},pd={},Jw={};rr&&(Jw=document.createElement("div").style,"AnimationEvent"in window||(delete ns.animationend.animation,delete ns.animationiteration.animation,delete ns.animationstart.animation),"TransitionEvent"in window||delete ns.transitionend.transition);function Mc(t){if(pd[t])return pd[t];if(!ns[t])return t;var e=ns[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Jw)return pd[t]=e[n];return t}var Zw=Mc("animationend"),eE=Mc("animationiteration"),tE=Mc("animationstart"),nE=Mc("transitionend"),rE=new Map,fv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yr(t,e){rE.set(t,e),Mi(e,[t])}for(var md=0;md<fv.length;md++){var gd=fv[md],ok=gd.toLowerCase(),ak=gd[0].toUpperCase()+gd.slice(1);Yr(ok,"on"+ak)}Yr(Zw,"onAnimationEnd");Yr(eE,"onAnimationIteration");Yr(tE,"onAnimationStart");Yr("dblclick","onDoubleClick");Yr("focusin","onFocus");Yr("focusout","onBlur");Yr(nE,"onTransitionEnd");Is("onMouseEnter",["mouseout","mouseover"]);Is("onMouseLeave",["mouseout","mouseover"]);Is("onPointerEnter",["pointerout","pointerover"]);Is("onPointerLeave",["pointerout","pointerover"]);Mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Do="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Do));function pv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,oC(r,e,void 0,t),t.currentTarget=null}function iE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;pv(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;pv(i,a,u),s=l}}}if(bu)throw t=Tf,bu=!1,Tf=null,t}function Ne(t,e){var n=e[bf];n===void 0&&(n=e[bf]=new Set);var r=t+"__bubble";n.has(r)||(sE(e,t,2,!1),n.add(r))}function yd(t,e,n){var r=0;e&&(r|=4),sE(n,t,r,e)}var jl="_reactListening"+Math.random().toString(36).slice(2);function pa(t){if(!t[jl]){t[jl]=!0,dw.forEach(function(n){n!=="selectionchange"&&(lk.has(n)||yd(n,!1,t),yd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[jl]||(e[jl]=!0,yd("selectionchange",!1,e))}}function sE(t,e,n,r){switch(Bw(e)){case 1:var i=TC;break;case 4:i=SC;break;default:i=sm}n=i.bind(null,e,n,t),i=void 0,!Ef||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function vd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=di(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}kw(function(){var u=s,c=tm(n),d=[];e:{var f=rE.get(t);if(f!==void 0){var g=am,y=t;switch(t){case"keypress":if(fu(n)===0)break e;case"keydown":case"keyup":g=$C;break;case"focusin":y="focus",g=hd;break;case"focusout":y="blur",g=hd;break;case"beforeblur":case"afterblur":g=hd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=nv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=AC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=FC;break;case Zw:case eE:case tE:g=NC;break;case nE:g=zC;break;case"scroll":g=IC;break;case"wheel":g=HC;break;case"copy":case"cut":case"paste":g=PC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=iv}var _=(e&4)!==0,E=!_&&t==="scroll",m=_?f!==null?f+"Capture":null:f;_=[];for(var p=u,v;p!==null;){v=p;var T=v.stateNode;if(v.tag===5&&T!==null&&(v=T,m!==null&&(T=la(p,m),T!=null&&_.push(ma(p,T,v)))),E)break;p=p.return}0<_.length&&(f=new g(f,y,null,n,c),d.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==_f&&(y=n.relatedTarget||n.fromElement)&&(di(y)||y[ir]))break e;if((g||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=u,y=y?di(y):null,y!==null&&(E=$i(y),y!==E||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=u),g!==y)){if(_=nv,T="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(_=iv,T="onPointerLeave",m="onPointerEnter",p="pointer"),E=g==null?f:rs(g),v=y==null?f:rs(y),f=new _(T,p+"leave",g,n,c),f.target=E,f.relatedTarget=v,T=null,di(c)===u&&(_=new _(m,p+"enter",y,n,c),_.target=v,_.relatedTarget=E,T=_),E=T,g&&y)t:{for(_=g,m=y,p=0,v=_;v;v=qi(v))p++;for(v=0,T=m;T;T=qi(T))v++;for(;0<p-v;)_=qi(_),p--;for(;0<v-p;)m=qi(m),v--;for(;p--;){if(_===m||m!==null&&_===m.alternate)break t;_=qi(_),m=qi(m)}_=null}else _=null;g!==null&&mv(d,f,g,_,!1),y!==null&&E!==null&&mv(d,E,y,_,!0)}}e:{if(f=u?rs(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var A=JC;else if(av(f))if(Gw)A=nk;else{A=ek;var C=ZC}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(A=tk);if(A&&(A=A(t,u))){qw(d,A,n,c);break e}C&&C(t,f,u),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&pf(f,"number",f.value)}switch(C=u?rs(u):window,t){case"focusin":(av(C)||C.contentEditable==="true")&&(ts=C,Af=u,Ko=null);break;case"focusout":Ko=Af=ts=null;break;case"mousedown":Cf=!0;break;case"contextmenu":case"mouseup":case"dragend":Cf=!1,dv(d,n,c);break;case"selectionchange":if(sk)break;case"keydown":case"keyup":dv(d,n,c)}var N;if(um)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else es?Hw(t,n)&&(L="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(Ww&&n.locale!=="ko"&&(es||L!=="onCompositionStart"?L==="onCompositionEnd"&&es&&(N=zw()):(Cr=c,om="value"in Cr?Cr.value:Cr.textContent,es=!0)),C=Mu(u,L),0<C.length&&(L=new rv(L,t,null,n,c),d.push({event:L,listeners:C}),N?L.data=N:(N=Kw(n),N!==null&&(L.data=N)))),(N=qC?GC(t,n):QC(t,n))&&(u=Mu(u,"onBeforeInput"),0<u.length&&(c=new rv("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=N))}iE(d,e)})}function ma(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Mu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=la(t,n),s!=null&&r.unshift(ma(t,s,i)),s=la(t,e),s!=null&&r.push(ma(t,s,i))),t=t.return}return r}function qi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function mv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=la(n,s),l!=null&&o.unshift(ma(n,l,a))):i||(l=la(n,s),l!=null&&o.push(ma(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var uk=/\r\n?/g,ck=/\u0000|\uFFFD/g;function gv(t){return(typeof t=="string"?t:""+t).replace(uk,`
`).replace(ck,"")}function Ul(t,e,n){if(e=gv(e),gv(t)!==e&&n)throw Error(D(425))}function $u(){}var kf=null,Nf=null;function xf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Pf=typeof setTimeout=="function"?setTimeout:void 0,hk=typeof clearTimeout=="function"?clearTimeout:void 0,yv=typeof Promise=="function"?Promise:void 0,dk=typeof queueMicrotask=="function"?queueMicrotask:typeof yv<"u"?function(t){return yv.resolve(null).then(t).catch(fk)}:Pf;function fk(t){setTimeout(function(){throw t})}function _d(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ha(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ha(e)}function Vr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function vv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var qs=Math.random().toString(36).slice(2),Dn="__reactFiber$"+qs,ga="__reactProps$"+qs,ir="__reactContainer$"+qs,bf="__reactEvents$"+qs,pk="__reactListeners$"+qs,mk="__reactHandles$"+qs;function di(t){var e=t[Dn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ir]||n[Dn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=vv(t);t!==null;){if(n=t[Dn])return n;t=vv(t)}return e}t=n,n=t.parentNode}return null}function Ka(t){return t=t[Dn]||t[ir],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function rs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(D(33))}function $c(t){return t[ga]||null}var Df=[],is=-1;function Xr(t){return{current:t}}function De(t){0>is||(t.current=Df[is],Df[is]=null,is--)}function ke(t,e){is++,Df[is]=t.current,t.current=e}var Kr={},xt=Xr(Kr),Ht=Xr(!1),Si=Kr;function Rs(t,e){var n=t.type.contextTypes;if(!n)return Kr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Kt(t){return t=t.childContextTypes,t!=null}function ju(){De(Ht),De(xt)}function _v(t,e,n){if(xt.current!==Kr)throw Error(D(168));ke(xt,e),ke(Ht,n)}function oE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(D(108,ZA(t)||"Unknown",i));return He({},n,r)}function Uu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Kr,Si=xt.current,ke(xt,t),ke(Ht,Ht.current),!0}function wv(t,e,n){var r=t.stateNode;if(!r)throw Error(D(169));n?(t=oE(t,e,Si),r.__reactInternalMemoizedMergedChildContext=t,De(Ht),De(xt),ke(xt,t)):De(Ht),ke(Ht,n)}var Gn=null,jc=!1,wd=!1;function aE(t){Gn===null?Gn=[t]:Gn.push(t)}function gk(t){jc=!0,aE(t)}function Jr(){if(!wd&&Gn!==null){wd=!0;var t=0,e=Te;try{var n=Gn;for(Te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Gn=null,jc=!1}catch(i){throw Gn!==null&&(Gn=Gn.slice(t+1)),bw(nm,Jr),i}finally{Te=e,wd=!1}}return null}var ss=[],os=0,Fu=null,Bu=0,ln=[],un=0,Ii=null,Yn=1,Xn="";function li(t,e){ss[os++]=Bu,ss[os++]=Fu,Fu=t,Bu=e}function lE(t,e,n){ln[un++]=Yn,ln[un++]=Xn,ln[un++]=Ii,Ii=t;var r=Yn;t=Xn;var i=32-Sn(r)-1;r&=~(1<<i),n+=1;var s=32-Sn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yn=1<<32-Sn(e)+i|n<<i|r,Xn=s+t}else Yn=1<<s|n<<i|r,Xn=t}function hm(t){t.return!==null&&(li(t,1),lE(t,1,0))}function dm(t){for(;t===Fu;)Fu=ss[--os],ss[os]=null,Bu=ss[--os],ss[os]=null;for(;t===Ii;)Ii=ln[--un],ln[un]=null,Xn=ln[--un],ln[un]=null,Yn=ln[--un],ln[un]=null}var Zt=null,Xt=null,Ue=!1,Tn=null;function uE(t,e){var n=hn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ev(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Zt=t,Xt=Vr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Zt=t,Xt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ii!==null?{id:Yn,overflow:Xn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=hn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Zt=t,Xt=null,!0):!1;default:return!1}}function Vf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Lf(t){if(Ue){var e=Xt;if(e){var n=e;if(!Ev(t,e)){if(Vf(t))throw Error(D(418));e=Vr(n.nextSibling);var r=Zt;e&&Ev(t,e)?uE(r,n):(t.flags=t.flags&-4097|2,Ue=!1,Zt=t)}}else{if(Vf(t))throw Error(D(418));t.flags=t.flags&-4097|2,Ue=!1,Zt=t}}}function Tv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zt=t}function Fl(t){if(t!==Zt)return!1;if(!Ue)return Tv(t),Ue=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!xf(t.type,t.memoizedProps)),e&&(e=Xt)){if(Vf(t))throw cE(),Error(D(418));for(;e;)uE(t,e),e=Vr(e.nextSibling)}if(Tv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(D(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Xt=Vr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Xt=null}}else Xt=Zt?Vr(t.stateNode.nextSibling):null;return!0}function cE(){for(var t=Xt;t;)t=Vr(t.nextSibling)}function As(){Xt=Zt=null,Ue=!1}function fm(t){Tn===null?Tn=[t]:Tn.push(t)}var yk=dr.ReactCurrentBatchConfig;function wn(t,e){if(t&&t.defaultProps){e=He({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var zu=Xr(null),Wu=null,as=null,pm=null;function mm(){pm=as=Wu=null}function gm(t){var e=zu.current;De(zu),t._currentValue=e}function Of(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ms(t,e){Wu=t,pm=as=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Wt=!0),t.firstContext=null)}function fn(t){var e=t._currentValue;if(pm!==t)if(t={context:t,memoizedValue:e,next:null},as===null){if(Wu===null)throw Error(D(308));as=t,Wu.dependencies={lanes:0,firstContext:t}}else as=as.next=t;return e}var fi=null;function ym(t){fi===null?fi=[t]:fi.push(t)}function hE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ym(e)):(n.next=i.next,i.next=n),e.interleaved=n,sr(t,r)}function sr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var wr=!1;function vm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function tr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Lr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,_e&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,sr(t,n)}return i=r.interleaved,i===null?(e.next=e,ym(r)):(e.next=i.next,i.next=e),r.interleaved=e,sr(t,n)}function pu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rm(t,n)}}function Sv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hu(t,e,n,r){var i=t.updateQueue;wr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,g=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,_=a;switch(f=e,g=n,_.tag){case 1:if(y=_.payload,typeof y=="function"){d=y.call(g,d,f);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=_.payload,f=typeof y=="function"?y.call(g,d,f):y,f==null)break e;d=He({},d,f);break e;case 2:wr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=g,l=d):c=c.next=g,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ai|=o,t.lanes=o,t.memoizedState=d}}function Iv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(D(191,i));i.call(r)}}}var fE=new hw.Component().refs;function Mf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:He({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Uc={isMounted:function(t){return(t=t._reactInternals)?$i(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Mt(),i=Mr(t),s=tr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Lr(t,s,i),e!==null&&(In(e,t,i,r),pu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Mt(),i=Mr(t),s=tr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Lr(t,s,i),e!==null&&(In(e,t,i,r),pu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Mt(),r=Mr(t),i=tr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Lr(t,i,r),e!==null&&(In(e,t,r,n),pu(e,t,r))}};function Rv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!fa(n,r)||!fa(i,s):!0}function pE(t,e,n){var r=!1,i=Kr,s=e.contextType;return typeof s=="object"&&s!==null?s=fn(s):(i=Kt(e)?Si:xt.current,r=e.contextTypes,s=(r=r!=null)?Rs(t,i):Kr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Uc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Av(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Uc.enqueueReplaceState(e,e.state,null)}function $f(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=fE,vm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=fn(s):(s=Kt(e)?Si:xt.current,i.context=Rs(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Mf(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Uc.enqueueReplaceState(i,i.state,null),Hu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function _o(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===fE&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,t))}return t}function Bl(t,e){throw t=Object.prototype.toString.call(e),Error(D(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Cv(t){var e=t._init;return e(t._payload)}function mE(t){function e(m,p){if(t){var v=m.deletions;v===null?(m.deletions=[p],m.flags|=16):v.push(p)}}function n(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function i(m,p){return m=$r(m,p),m.index=0,m.sibling=null,m}function s(m,p,v){return m.index=v,t?(v=m.alternate,v!==null?(v=v.index,v<p?(m.flags|=2,p):v):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,p,v,T){return p===null||p.tag!==6?(p=Cd(v,m.mode,T),p.return=m,p):(p=i(p,v),p.return=m,p)}function l(m,p,v,T){var A=v.type;return A===Zi?c(m,p,v.props.children,T,v.key):p!==null&&(p.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===_r&&Cv(A)===p.type)?(T=i(p,v.props),T.ref=_o(m,p,v),T.return=m,T):(T=wu(v.type,v.key,v.props,null,m.mode,T),T.ref=_o(m,p,v),T.return=m,T)}function u(m,p,v,T){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=kd(v,m.mode,T),p.return=m,p):(p=i(p,v.children||[]),p.return=m,p)}function c(m,p,v,T,A){return p===null||p.tag!==7?(p=wi(v,m.mode,T,A),p.return=m,p):(p=i(p,v),p.return=m,p)}function d(m,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Cd(""+p,m.mode,v),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Pl:return v=wu(p.type,p.key,p.props,null,m.mode,v),v.ref=_o(m,null,p),v.return=m,v;case Ji:return p=kd(p,m.mode,v),p.return=m,p;case _r:var T=p._init;return d(m,T(p._payload),v)}if(Po(p)||po(p))return p=wi(p,m.mode,v,null),p.return=m,p;Bl(m,p)}return null}function f(m,p,v,T){var A=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return A!==null?null:a(m,p,""+v,T);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Pl:return v.key===A?l(m,p,v,T):null;case Ji:return v.key===A?u(m,p,v,T):null;case _r:return A=v._init,f(m,p,A(v._payload),T)}if(Po(v)||po(v))return A!==null?null:c(m,p,v,T,null);Bl(m,v)}return null}function g(m,p,v,T,A){if(typeof T=="string"&&T!==""||typeof T=="number")return m=m.get(v)||null,a(p,m,""+T,A);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Pl:return m=m.get(T.key===null?v:T.key)||null,l(p,m,T,A);case Ji:return m=m.get(T.key===null?v:T.key)||null,u(p,m,T,A);case _r:var C=T._init;return g(m,p,v,C(T._payload),A)}if(Po(T)||po(T))return m=m.get(v)||null,c(p,m,T,A,null);Bl(p,T)}return null}function y(m,p,v,T){for(var A=null,C=null,N=p,L=p=0,Z=null;N!==null&&L<v.length;L++){N.index>L?(Z=N,N=null):Z=N.sibling;var H=f(m,N,v[L],T);if(H===null){N===null&&(N=Z);break}t&&N&&H.alternate===null&&e(m,N),p=s(H,p,L),C===null?A=H:C.sibling=H,C=H,N=Z}if(L===v.length)return n(m,N),Ue&&li(m,L),A;if(N===null){for(;L<v.length;L++)N=d(m,v[L],T),N!==null&&(p=s(N,p,L),C===null?A=N:C.sibling=N,C=N);return Ue&&li(m,L),A}for(N=r(m,N);L<v.length;L++)Z=g(N,m,L,v[L],T),Z!==null&&(t&&Z.alternate!==null&&N.delete(Z.key===null?L:Z.key),p=s(Z,p,L),C===null?A=Z:C.sibling=Z,C=Z);return t&&N.forEach(function(G){return e(m,G)}),Ue&&li(m,L),A}function _(m,p,v,T){var A=po(v);if(typeof A!="function")throw Error(D(150));if(v=A.call(v),v==null)throw Error(D(151));for(var C=A=null,N=p,L=p=0,Z=null,H=v.next();N!==null&&!H.done;L++,H=v.next()){N.index>L?(Z=N,N=null):Z=N.sibling;var G=f(m,N,H.value,T);if(G===null){N===null&&(N=Z);break}t&&N&&G.alternate===null&&e(m,N),p=s(G,p,L),C===null?A=G:C.sibling=G,C=G,N=Z}if(H.done)return n(m,N),Ue&&li(m,L),A;if(N===null){for(;!H.done;L++,H=v.next())H=d(m,H.value,T),H!==null&&(p=s(H,p,L),C===null?A=H:C.sibling=H,C=H);return Ue&&li(m,L),A}for(N=r(m,N);!H.done;L++,H=v.next())H=g(N,m,L,H.value,T),H!==null&&(t&&H.alternate!==null&&N.delete(H.key===null?L:H.key),p=s(H,p,L),C===null?A=H:C.sibling=H,C=H);return t&&N.forEach(function(ae){return e(m,ae)}),Ue&&li(m,L),A}function E(m,p,v,T){if(typeof v=="object"&&v!==null&&v.type===Zi&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Pl:e:{for(var A=v.key,C=p;C!==null;){if(C.key===A){if(A=v.type,A===Zi){if(C.tag===7){n(m,C.sibling),p=i(C,v.props.children),p.return=m,m=p;break e}}else if(C.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===_r&&Cv(A)===C.type){n(m,C.sibling),p=i(C,v.props),p.ref=_o(m,C,v),p.return=m,m=p;break e}n(m,C);break}else e(m,C);C=C.sibling}v.type===Zi?(p=wi(v.props.children,m.mode,T,v.key),p.return=m,m=p):(T=wu(v.type,v.key,v.props,null,m.mode,T),T.ref=_o(m,p,v),T.return=m,m=T)}return o(m);case Ji:e:{for(C=v.key;p!==null;){if(p.key===C)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){n(m,p.sibling),p=i(p,v.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else e(m,p);p=p.sibling}p=kd(v,m.mode,T),p.return=m,m=p}return o(m);case _r:return C=v._init,E(m,p,C(v._payload),T)}if(Po(v))return y(m,p,v,T);if(po(v))return _(m,p,v,T);Bl(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(n(m,p.sibling),p=i(p,v),p.return=m,m=p):(n(m,p),p=Cd(v,m.mode,T),p.return=m,m=p),o(m)):n(m,p)}return E}var Cs=mE(!0),gE=mE(!1),qa={},$n=Xr(qa),ya=Xr(qa),va=Xr(qa);function pi(t){if(t===qa)throw Error(D(174));return t}function _m(t,e){switch(ke(va,e),ke(ya,t),ke($n,qa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:gf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=gf(e,t)}De($n),ke($n,e)}function ks(){De($n),De(ya),De(va)}function yE(t){pi(va.current);var e=pi($n.current),n=gf(e,t.type);e!==n&&(ke(ya,t),ke($n,n))}function wm(t){ya.current===t&&(De($n),De(ya))}var ze=Xr(0);function Ku(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ed=[];function Em(){for(var t=0;t<Ed.length;t++)Ed[t]._workInProgressVersionPrimary=null;Ed.length=0}var mu=dr.ReactCurrentDispatcher,Td=dr.ReactCurrentBatchConfig,Ri=0,We=null,nt=null,lt=null,qu=!1,qo=!1,_a=0,vk=0;function wt(){throw Error(D(321))}function Tm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!An(t[n],e[n]))return!1;return!0}function Sm(t,e,n,r,i,s){if(Ri=s,We=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,mu.current=t===null||t.memoizedState===null?Tk:Sk,t=n(r,i),qo){s=0;do{if(qo=!1,_a=0,25<=s)throw Error(D(301));s+=1,lt=nt=null,e.updateQueue=null,mu.current=Ik,t=n(r,i)}while(qo)}if(mu.current=Gu,e=nt!==null&&nt.next!==null,Ri=0,lt=nt=We=null,qu=!1,e)throw Error(D(300));return t}function Im(){var t=_a!==0;return _a=0,t}function bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?We.memoizedState=lt=t:lt=lt.next=t,lt}function pn(){if(nt===null){var t=We.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var e=lt===null?We.memoizedState:lt.next;if(e!==null)lt=e,nt=t;else{if(t===null)throw Error(D(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},lt===null?We.memoizedState=lt=t:lt=lt.next=t}return lt}function wa(t,e){return typeof e=="function"?e(t):e}function Sd(t){var e=pn(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=nt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Ri&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,We.lanes|=c,Ai|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,An(r,e.memoizedState)||(Wt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,We.lanes|=s,Ai|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Id(t){var e=pn(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);An(s,e.memoizedState)||(Wt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function vE(){}function _E(t,e){var n=We,r=pn(),i=e(),s=!An(r.memoizedState,i);if(s&&(r.memoizedState=i,Wt=!0),r=r.queue,Rm(TE.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||lt!==null&&lt.memoizedState.tag&1){if(n.flags|=2048,Ea(9,EE.bind(null,n,r,i,e),void 0,null),ct===null)throw Error(D(349));Ri&30||wE(n,e,i)}return i}function wE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function EE(t,e,n,r){e.value=n,e.getSnapshot=r,SE(e)&&IE(t)}function TE(t,e,n){return n(function(){SE(e)&&IE(t)})}function SE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!An(t,n)}catch{return!0}}function IE(t){var e=sr(t,1);e!==null&&In(e,t,1,-1)}function kv(t){var e=bn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:t},e.queue=t,t=t.dispatch=Ek.bind(null,We,t),[e.memoizedState,t]}function Ea(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function RE(){return pn().memoizedState}function gu(t,e,n,r){var i=bn();We.flags|=t,i.memoizedState=Ea(1|e,n,void 0,r===void 0?null:r)}function Fc(t,e,n,r){var i=pn();r=r===void 0?null:r;var s=void 0;if(nt!==null){var o=nt.memoizedState;if(s=o.destroy,r!==null&&Tm(r,o.deps)){i.memoizedState=Ea(e,n,s,r);return}}We.flags|=t,i.memoizedState=Ea(1|e,n,s,r)}function Nv(t,e){return gu(8390656,8,t,e)}function Rm(t,e){return Fc(2048,8,t,e)}function AE(t,e){return Fc(4,2,t,e)}function CE(t,e){return Fc(4,4,t,e)}function kE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function NE(t,e,n){return n=n!=null?n.concat([t]):null,Fc(4,4,kE.bind(null,e,t),n)}function Am(){}function xE(t,e){var n=pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Tm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function PE(t,e){var n=pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Tm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function bE(t,e,n){return Ri&21?(An(n,e)||(n=Lw(),We.lanes|=n,Ai|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Wt=!0),t.memoizedState=n)}function _k(t,e){var n=Te;Te=n!==0&&4>n?n:4,t(!0);var r=Td.transition;Td.transition={};try{t(!1),e()}finally{Te=n,Td.transition=r}}function DE(){return pn().memoizedState}function wk(t,e,n){var r=Mr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},VE(t))LE(e,n);else if(n=hE(t,e,n,r),n!==null){var i=Mt();In(n,t,r,i),OE(n,e,r)}}function Ek(t,e,n){var r=Mr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(VE(t))LE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,An(a,o)){var l=e.interleaved;l===null?(i.next=i,ym(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=hE(t,e,i,r),n!==null&&(i=Mt(),In(n,t,r,i),OE(n,e,r))}}function VE(t){var e=t.alternate;return t===We||e!==null&&e===We}function LE(t,e){qo=qu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function OE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rm(t,n)}}var Gu={readContext:fn,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useInsertionEffect:wt,useLayoutEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useMutableSource:wt,useSyncExternalStore:wt,useId:wt,unstable_isNewReconciler:!1},Tk={readContext:fn,useCallback:function(t,e){return bn().memoizedState=[t,e===void 0?null:e],t},useContext:fn,useEffect:Nv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,gu(4194308,4,kE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return gu(4194308,4,t,e)},useInsertionEffect:function(t,e){return gu(4,2,t,e)},useMemo:function(t,e){var n=bn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=bn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=wk.bind(null,We,t),[r.memoizedState,t]},useRef:function(t){var e=bn();return t={current:t},e.memoizedState=t},useState:kv,useDebugValue:Am,useDeferredValue:function(t){return bn().memoizedState=t},useTransition:function(){var t=kv(!1),e=t[0];return t=_k.bind(null,t[1]),bn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=We,i=bn();if(Ue){if(n===void 0)throw Error(D(407));n=n()}else{if(n=e(),ct===null)throw Error(D(349));Ri&30||wE(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Nv(TE.bind(null,r,s,t),[t]),r.flags|=2048,Ea(9,EE.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=bn(),e=ct.identifierPrefix;if(Ue){var n=Xn,r=Yn;n=(r&~(1<<32-Sn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=_a++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=vk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Sk={readContext:fn,useCallback:xE,useContext:fn,useEffect:Rm,useImperativeHandle:NE,useInsertionEffect:AE,useLayoutEffect:CE,useMemo:PE,useReducer:Sd,useRef:RE,useState:function(){return Sd(wa)},useDebugValue:Am,useDeferredValue:function(t){var e=pn();return bE(e,nt.memoizedState,t)},useTransition:function(){var t=Sd(wa)[0],e=pn().memoizedState;return[t,e]},useMutableSource:vE,useSyncExternalStore:_E,useId:DE,unstable_isNewReconciler:!1},Ik={readContext:fn,useCallback:xE,useContext:fn,useEffect:Rm,useImperativeHandle:NE,useInsertionEffect:AE,useLayoutEffect:CE,useMemo:PE,useReducer:Id,useRef:RE,useState:function(){return Id(wa)},useDebugValue:Am,useDeferredValue:function(t){var e=pn();return nt===null?e.memoizedState=t:bE(e,nt.memoizedState,t)},useTransition:function(){var t=Id(wa)[0],e=pn().memoizedState;return[t,e]},useMutableSource:vE,useSyncExternalStore:_E,useId:DE,unstable_isNewReconciler:!1};function Ns(t,e){try{var n="",r=e;do n+=JA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Rd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function jf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Rk=typeof WeakMap=="function"?WeakMap:Map;function ME(t,e,n){n=tr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Yu||(Yu=!0,Qf=r),jf(t,e)},n}function $E(t,e,n){n=tr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){jf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){jf(t,e),typeof r!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function xv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Rk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=jk.bind(null,t,e,n),e.then(t,t))}function Pv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function bv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=tr(-1,1),e.tag=2,Lr(n,e,1))),n.lanes|=1),t)}var Ak=dr.ReactCurrentOwner,Wt=!1;function Lt(t,e,n,r){e.child=t===null?gE(e,null,n,r):Cs(e,t.child,n,r)}function Dv(t,e,n,r,i){n=n.render;var s=e.ref;return ms(e,i),r=Sm(t,e,n,r,s,i),n=Im(),t!==null&&!Wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,or(t,e,i)):(Ue&&n&&hm(e),e.flags|=1,Lt(t,e,r,i),e.child)}function Vv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Vm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,jE(t,e,s,r,i)):(t=wu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:fa,n(o,r)&&t.ref===e.ref)return or(t,e,i)}return e.flags|=1,t=$r(s,r),t.ref=e.ref,t.return=e,e.child=t}function jE(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(fa(s,r)&&t.ref===e.ref)if(Wt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Wt=!0);else return e.lanes=t.lanes,or(t,e,i)}return Uf(t,e,n,r,i)}function UE(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(us,Yt),Yt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ke(us,Yt),Yt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ke(us,Yt),Yt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ke(us,Yt),Yt|=r;return Lt(t,e,i,n),e.child}function FE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Uf(t,e,n,r,i){var s=Kt(n)?Si:xt.current;return s=Rs(e,s),ms(e,i),n=Sm(t,e,n,r,s,i),r=Im(),t!==null&&!Wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,or(t,e,i)):(Ue&&r&&hm(e),e.flags|=1,Lt(t,e,n,i),e.child)}function Lv(t,e,n,r,i){if(Kt(n)){var s=!0;Uu(e)}else s=!1;if(ms(e,i),e.stateNode===null)yu(t,e),pE(e,n,r),$f(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=fn(u):(u=Kt(n)?Si:xt.current,u=Rs(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Av(e,o,r,u),wr=!1;var f=e.memoizedState;o.state=f,Hu(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Ht.current||wr?(typeof c=="function"&&(Mf(e,n,c,r),l=e.memoizedState),(a=wr||Rv(e,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,dE(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:wn(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=fn(l):(l=Kt(n)?Si:xt.current,l=Rs(e,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Av(e,o,r,l),wr=!1,f=e.memoizedState,o.state=f,Hu(e,r,o,i);var y=e.memoizedState;a!==d||f!==y||Ht.current||wr?(typeof g=="function"&&(Mf(e,n,g,r),y=e.memoizedState),(u=wr||Rv(e,n,u,r,f,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Ff(t,e,n,r,s,i)}function Ff(t,e,n,r,i,s){FE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&wv(e,n,!1),or(t,e,s);r=e.stateNode,Ak.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Cs(e,t.child,null,s),e.child=Cs(e,null,a,s)):Lt(t,e,a,s),e.memoizedState=r.state,i&&wv(e,n,!0),e.child}function BE(t){var e=t.stateNode;e.pendingContext?_v(t,e.pendingContext,e.pendingContext!==e.context):e.context&&_v(t,e.context,!1),_m(t,e.containerInfo)}function Ov(t,e,n,r,i){return As(),fm(i),e.flags|=256,Lt(t,e,n,r),e.child}var Bf={dehydrated:null,treeContext:null,retryLane:0};function zf(t){return{baseLanes:t,cachePool:null,transitions:null}}function zE(t,e,n){var r=e.pendingProps,i=ze.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ke(ze,i&1),t===null)return Lf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Wc(o,r,0,null),t=wi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=zf(n),e.memoizedState=Bf,t):Cm(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Ck(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=$r(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=$r(a,s):(s=wi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?zf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Bf,r}return s=t.child,t=s.sibling,r=$r(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Cm(t,e){return e=Wc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function zl(t,e,n,r){return r!==null&&fm(r),Cs(e,t.child,null,n),t=Cm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ck(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Rd(Error(D(422))),zl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Wc({mode:"visible",children:r.children},i,0,null),s=wi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Cs(e,t.child,null,o),e.child.memoizedState=zf(o),e.memoizedState=Bf,s);if(!(e.mode&1))return zl(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(D(419)),r=Rd(s,r,void 0),zl(t,e,o,r)}if(a=(o&t.childLanes)!==0,Wt||a){if(r=ct,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,sr(t,i),In(r,t,i,-1))}return Dm(),r=Rd(Error(D(421))),zl(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Uk.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Xt=Vr(i.nextSibling),Zt=e,Ue=!0,Tn=null,t!==null&&(ln[un++]=Yn,ln[un++]=Xn,ln[un++]=Ii,Yn=t.id,Xn=t.overflow,Ii=e),e=Cm(e,r.children),e.flags|=4096,e)}function Mv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Of(t.return,e,n)}function Ad(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function WE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Lt(t,e,r.children,n),r=ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Mv(t,n,e);else if(t.tag===19)Mv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ke(ze,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ku(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ad(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ku(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ad(e,!0,n,null,s);break;case"together":Ad(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function yu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function or(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ai|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(D(153));if(e.child!==null){for(t=e.child,n=$r(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=$r(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function kk(t,e,n){switch(e.tag){case 3:BE(e),As();break;case 5:yE(e);break;case 1:Kt(e.type)&&Uu(e);break;case 4:_m(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ke(zu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ke(ze,ze.current&1),e.flags|=128,null):n&e.child.childLanes?zE(t,e,n):(ke(ze,ze.current&1),t=or(t,e,n),t!==null?t.sibling:null);ke(ze,ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return WE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ke(ze,ze.current),r)break;return null;case 22:case 23:return e.lanes=0,UE(t,e,n)}return or(t,e,n)}var HE,Wf,KE,qE;HE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wf=function(){};KE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,pi($n.current);var s=null;switch(n){case"input":i=df(t,i),r=df(t,r),s=[];break;case"select":i=He({},i,{value:void 0}),r=He({},r,{value:void 0}),s=[];break;case"textarea":i=mf(t,i),r=mf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=$u)}yf(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(oa.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(oa.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ne("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};qE=function(t,e,n,r){n!==r&&(e.flags|=4)};function wo(t,e){if(!Ue)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Et(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Nk(t,e,n){var r=e.pendingProps;switch(dm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(e),null;case 1:return Kt(e.type)&&ju(),Et(e),null;case 3:return r=e.stateNode,ks(),De(Ht),De(xt),Em(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Fl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Tn!==null&&(Jf(Tn),Tn=null))),Wf(t,e),Et(e),null;case 5:wm(e);var i=pi(va.current);if(n=e.type,t!==null&&e.stateNode!=null)KE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(D(166));return Et(e),null}if(t=pi($n.current),Fl(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Dn]=e,r[ga]=s,t=(e.mode&1)!==0,n){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(i=0;i<Do.length;i++)Ne(Do[i],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":Ky(r,s),Ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ne("invalid",r);break;case"textarea":Gy(r,s),Ne("invalid",r)}yf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ul(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ul(r.textContent,a,t),i=["children",""+a]):oa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ne("scroll",r)}switch(n){case"input":bl(r),qy(r,s,!0);break;case"textarea":bl(r),Qy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=$u)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ww(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Dn]=e,t[ga]=r,HE(t,e,!1,!1),e.stateNode=t;e:{switch(o=vf(n,r),n){case"dialog":Ne("cancel",t),Ne("close",t),i=r;break;case"iframe":case"object":case"embed":Ne("load",t),i=r;break;case"video":case"audio":for(i=0;i<Do.length;i++)Ne(Do[i],t);i=r;break;case"source":Ne("error",t),i=r;break;case"img":case"image":case"link":Ne("error",t),Ne("load",t),i=r;break;case"details":Ne("toggle",t),i=r;break;case"input":Ky(t,r),i=df(t,r),Ne("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=He({},r,{value:void 0}),Ne("invalid",t);break;case"textarea":Gy(t,r),i=mf(t,r),Ne("invalid",t);break;default:i=r}yf(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Sw(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ew(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&aa(t,l):typeof l=="number"&&aa(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(oa.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ne("scroll",t):l!=null&&Xp(t,s,l,o))}switch(n){case"input":bl(t),qy(t,r,!1);break;case"textarea":bl(t),Qy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Hr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?hs(t,!!r.multiple,s,!1):r.defaultValue!=null&&hs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=$u)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Et(e),null;case 6:if(t&&e.stateNode!=null)qE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(D(166));if(n=pi(va.current),pi($n.current),Fl(e)){if(r=e.stateNode,n=e.memoizedProps,r[Dn]=e,(s=r.nodeValue!==n)&&(t=Zt,t!==null))switch(t.tag){case 3:Ul(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ul(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Dn]=e,e.stateNode=r}return Et(e),null;case 13:if(De(ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ue&&Xt!==null&&e.mode&1&&!(e.flags&128))cE(),As(),e.flags|=98560,s=!1;else if(s=Fl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(D(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(D(317));s[Dn]=e}else As(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Et(e),s=!1}else Tn!==null&&(Jf(Tn),Tn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ze.current&1?rt===0&&(rt=3):Dm())),e.updateQueue!==null&&(e.flags|=4),Et(e),null);case 4:return ks(),Wf(t,e),t===null&&pa(e.stateNode.containerInfo),Et(e),null;case 10:return gm(e.type._context),Et(e),null;case 17:return Kt(e.type)&&ju(),Et(e),null;case 19:if(De(ze),s=e.memoizedState,s===null)return Et(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)wo(s,!1);else{if(rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ku(t),o!==null){for(e.flags|=128,wo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ke(ze,ze.current&1|2),e.child}t=t.sibling}s.tail!==null&&Qe()>xs&&(e.flags|=128,r=!0,wo(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ku(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),wo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ue)return Et(e),null}else 2*Qe()-s.renderingStartTime>xs&&n!==1073741824&&(e.flags|=128,r=!0,wo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Qe(),e.sibling=null,n=ze.current,ke(ze,r?n&1|2:n&1),e):(Et(e),null);case 22:case 23:return bm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yt&1073741824&&(Et(e),e.subtreeFlags&6&&(e.flags|=8192)):Et(e),null;case 24:return null;case 25:return null}throw Error(D(156,e.tag))}function xk(t,e){switch(dm(e),e.tag){case 1:return Kt(e.type)&&ju(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ks(),De(Ht),De(xt),Em(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return wm(e),null;case 13:if(De(ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(D(340));As()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return De(ze),null;case 4:return ks(),null;case 10:return gm(e.type._context),null;case 22:case 23:return bm(),null;case 24:return null;default:return null}}var Wl=!1,It=!1,Pk=typeof WeakSet=="function"?WeakSet:Set,z=null;function ls(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qe(t,e,r)}else n.current=null}function Hf(t,e,n){try{n()}catch(r){qe(t,e,r)}}var $v=!1;function bk(t,e){if(kf=Lu,t=Xw(),cm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Nf={focusedElem:t,selectionRange:n},Lu=!1,z=e;z!==null;)if(e=z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,z=t;else for(;z!==null;){e=z;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var _=y.memoizedProps,E=y.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?_:wn(e.type,_),E);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(T){qe(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,z=t;break}z=e.return}return y=$v,$v=!1,y}function Go(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Hf(e,n,s)}i=i.next}while(i!==r)}}function Bc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Kf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function GE(t){var e=t.alternate;e!==null&&(t.alternate=null,GE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Dn],delete e[ga],delete e[bf],delete e[pk],delete e[mk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function QE(t){return t.tag===5||t.tag===3||t.tag===4}function jv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||QE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=$u));else if(r!==4&&(t=t.child,t!==null))for(qf(t,e,n),t=t.sibling;t!==null;)qf(t,e,n),t=t.sibling}function Gf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Gf(t,e,n),t=t.sibling;t!==null;)Gf(t,e,n),t=t.sibling}var ft=null,En=!1;function gr(t,e,n){for(n=n.child;n!==null;)YE(t,e,n),n=n.sibling}function YE(t,e,n){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(Vc,n)}catch{}switch(n.tag){case 5:It||ls(n,e);case 6:var r=ft,i=En;ft=null,gr(t,e,n),ft=r,En=i,ft!==null&&(En?(t=ft,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ft.removeChild(n.stateNode));break;case 18:ft!==null&&(En?(t=ft,n=n.stateNode,t.nodeType===8?_d(t.parentNode,n):t.nodeType===1&&_d(t,n),ha(t)):_d(ft,n.stateNode));break;case 4:r=ft,i=En,ft=n.stateNode.containerInfo,En=!0,gr(t,e,n),ft=r,En=i;break;case 0:case 11:case 14:case 15:if(!It&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Hf(n,e,o),i=i.next}while(i!==r)}gr(t,e,n);break;case 1:if(!It&&(ls(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){qe(n,e,a)}gr(t,e,n);break;case 21:gr(t,e,n);break;case 22:n.mode&1?(It=(r=It)||n.memoizedState!==null,gr(t,e,n),It=r):gr(t,e,n);break;default:gr(t,e,n)}}function Uv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Pk),e.forEach(function(r){var i=Fk.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function vn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ft=a.stateNode,En=!1;break e;case 3:ft=a.stateNode.containerInfo,En=!0;break e;case 4:ft=a.stateNode.containerInfo,En=!0;break e}a=a.return}if(ft===null)throw Error(D(160));YE(s,o,i),ft=null,En=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){qe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)XE(e,t),e=e.sibling}function XE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vn(e,t),xn(t),r&4){try{Go(3,t,t.return),Bc(3,t)}catch(_){qe(t,t.return,_)}try{Go(5,t,t.return)}catch(_){qe(t,t.return,_)}}break;case 1:vn(e,t),xn(t),r&512&&n!==null&&ls(n,n.return);break;case 5:if(vn(e,t),xn(t),r&512&&n!==null&&ls(n,n.return),t.flags&32){var i=t.stateNode;try{aa(i,"")}catch(_){qe(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&vw(i,s),vf(a,o);var u=vf(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?Sw(i,d):c==="dangerouslySetInnerHTML"?Ew(i,d):c==="children"?aa(i,d):Xp(i,c,d,u)}switch(a){case"input":ff(i,s);break;case"textarea":_w(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?hs(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?hs(i,!!s.multiple,s.defaultValue,!0):hs(i,!!s.multiple,s.multiple?[]:"",!1))}i[ga]=s}catch(_){qe(t,t.return,_)}}break;case 6:if(vn(e,t),xn(t),r&4){if(t.stateNode===null)throw Error(D(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){qe(t,t.return,_)}}break;case 3:if(vn(e,t),xn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ha(e.containerInfo)}catch(_){qe(t,t.return,_)}break;case 4:vn(e,t),xn(t);break;case 13:vn(e,t),xn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(xm=Qe())),r&4&&Uv(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(It=(u=It)||c,vn(e,t),It=u):vn(e,t),xn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(z=t,c=t.child;c!==null;){for(d=z=c;z!==null;){switch(f=z,g=f.child,f.tag){case 0:case 11:case 14:case 15:Go(4,f,f.return);break;case 1:ls(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(_){qe(r,n,_)}}break;case 5:ls(f,f.return);break;case 22:if(f.memoizedState!==null){Bv(d);continue}}g!==null?(g.return=f,z=g):Bv(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Tw("display",o))}catch(_){qe(t,t.return,_)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(_){qe(t,t.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vn(e,t),xn(t),r&4&&Uv(t);break;case 21:break;default:vn(e,t),xn(t)}}function xn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(QE(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(aa(i,""),r.flags&=-33);var s=jv(t);Gf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=jv(t);qf(t,a,o);break;default:throw Error(D(161))}}catch(l){qe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Dk(t,e,n){z=t,JE(t)}function JE(t,e,n){for(var r=(t.mode&1)!==0;z!==null;){var i=z,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Wl;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||It;a=Wl;var u=It;if(Wl=o,(It=l)&&!u)for(z=i;z!==null;)o=z,l=o.child,o.tag===22&&o.memoizedState!==null?zv(i):l!==null?(l.return=o,z=l):zv(i);for(;s!==null;)z=s,JE(s),s=s.sibling;z=i,Wl=a,It=u}Fv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,z=s):Fv(t)}}function Fv(t){for(;z!==null;){var e=z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:It||Bc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!It)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:wn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Iv(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Iv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&ha(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}It||e.flags&512&&Kf(e)}catch(f){qe(e,e.return,f)}}if(e===t){z=null;break}if(n=e.sibling,n!==null){n.return=e.return,z=n;break}z=e.return}}function Bv(t){for(;z!==null;){var e=z;if(e===t){z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,z=n;break}z=e.return}}function zv(t){for(;z!==null;){var e=z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Bc(4,e)}catch(l){qe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){qe(e,i,l)}}var s=e.return;try{Kf(e)}catch(l){qe(e,s,l)}break;case 5:var o=e.return;try{Kf(e)}catch(l){qe(e,o,l)}}}catch(l){qe(e,e.return,l)}if(e===t){z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,z=a;break}z=e.return}}var Vk=Math.ceil,Qu=dr.ReactCurrentDispatcher,km=dr.ReactCurrentOwner,dn=dr.ReactCurrentBatchConfig,_e=0,ct=null,Ze=null,gt=0,Yt=0,us=Xr(0),rt=0,Ta=null,Ai=0,zc=0,Nm=0,Qo=null,Bt=null,xm=0,xs=1/0,qn=null,Yu=!1,Qf=null,Or=null,Hl=!1,kr=null,Xu=0,Yo=0,Yf=null,vu=-1,_u=0;function Mt(){return _e&6?Qe():vu!==-1?vu:vu=Qe()}function Mr(t){return t.mode&1?_e&2&&gt!==0?gt&-gt:yk.transition!==null?(_u===0&&(_u=Lw()),_u):(t=Te,t!==0||(t=window.event,t=t===void 0?16:Bw(t.type)),t):1}function In(t,e,n,r){if(50<Yo)throw Yo=0,Yf=null,Error(D(185));Wa(t,n,r),(!(_e&2)||t!==ct)&&(t===ct&&(!(_e&2)&&(zc|=n),rt===4&&Sr(t,gt)),qt(t,r),n===1&&_e===0&&!(e.mode&1)&&(xs=Qe()+500,jc&&Jr()))}function qt(t,e){var n=t.callbackNode;yC(t,e);var r=Vu(t,t===ct?gt:0);if(r===0)n!==null&&Jy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Jy(n),e===1)t.tag===0?gk(Wv.bind(null,t)):aE(Wv.bind(null,t)),dk(function(){!(_e&6)&&Jr()}),n=null;else{switch(Ow(r)){case 1:n=nm;break;case 4:n=Dw;break;case 16:n=Du;break;case 536870912:n=Vw;break;default:n=Du}n=oT(n,ZE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ZE(t,e){if(vu=-1,_u=0,_e&6)throw Error(D(327));var n=t.callbackNode;if(gs()&&t.callbackNode!==n)return null;var r=Vu(t,t===ct?gt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ju(t,r);else{e=r;var i=_e;_e|=2;var s=tT();(ct!==t||gt!==e)&&(qn=null,xs=Qe()+500,_i(t,e));do try{Mk();break}catch(a){eT(t,a)}while(1);mm(),Qu.current=s,_e=i,Ze!==null?e=0:(ct=null,gt=0,e=rt)}if(e!==0){if(e===2&&(i=Sf(t),i!==0&&(r=i,e=Xf(t,i))),e===1)throw n=Ta,_i(t,0),Sr(t,r),qt(t,Qe()),n;if(e===6)Sr(t,r);else{if(i=t.current.alternate,!(r&30)&&!Lk(i)&&(e=Ju(t,r),e===2&&(s=Sf(t),s!==0&&(r=s,e=Xf(t,s))),e===1))throw n=Ta,_i(t,0),Sr(t,r),qt(t,Qe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(D(345));case 2:ui(t,Bt,qn);break;case 3:if(Sr(t,r),(r&130023424)===r&&(e=xm+500-Qe(),10<e)){if(Vu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Mt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Pf(ui.bind(null,t,Bt,qn),e);break}ui(t,Bt,qn);break;case 4:if(Sr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Sn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Vk(r/1960))-r,10<r){t.timeoutHandle=Pf(ui.bind(null,t,Bt,qn),r);break}ui(t,Bt,qn);break;case 5:ui(t,Bt,qn);break;default:throw Error(D(329))}}}return qt(t,Qe()),t.callbackNode===n?ZE.bind(null,t):null}function Xf(t,e){var n=Qo;return t.current.memoizedState.isDehydrated&&(_i(t,e).flags|=256),t=Ju(t,e),t!==2&&(e=Bt,Bt=n,e!==null&&Jf(e)),t}function Jf(t){Bt===null?Bt=t:Bt.push.apply(Bt,t)}function Lk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!An(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Sr(t,e){for(e&=~Nm,e&=~zc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Sn(e),r=1<<n;t[n]=-1,e&=~r}}function Wv(t){if(_e&6)throw Error(D(327));gs();var e=Vu(t,0);if(!(e&1))return qt(t,Qe()),null;var n=Ju(t,e);if(t.tag!==0&&n===2){var r=Sf(t);r!==0&&(e=r,n=Xf(t,r))}if(n===1)throw n=Ta,_i(t,0),Sr(t,e),qt(t,Qe()),n;if(n===6)throw Error(D(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ui(t,Bt,qn),qt(t,Qe()),null}function Pm(t,e){var n=_e;_e|=1;try{return t(e)}finally{_e=n,_e===0&&(xs=Qe()+500,jc&&Jr())}}function Ci(t){kr!==null&&kr.tag===0&&!(_e&6)&&gs();var e=_e;_e|=1;var n=dn.transition,r=Te;try{if(dn.transition=null,Te=1,t)return t()}finally{Te=r,dn.transition=n,_e=e,!(_e&6)&&Jr()}}function bm(){Yt=us.current,De(us)}function _i(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,hk(n)),Ze!==null)for(n=Ze.return;n!==null;){var r=n;switch(dm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ju();break;case 3:ks(),De(Ht),De(xt),Em();break;case 5:wm(r);break;case 4:ks();break;case 13:De(ze);break;case 19:De(ze);break;case 10:gm(r.type._context);break;case 22:case 23:bm()}n=n.return}if(ct=t,Ze=t=$r(t.current,null),gt=Yt=e,rt=0,Ta=null,Nm=zc=Ai=0,Bt=Qo=null,fi!==null){for(e=0;e<fi.length;e++)if(n=fi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}fi=null}return t}function eT(t,e){do{var n=Ze;try{if(mm(),mu.current=Gu,qu){for(var r=We.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}qu=!1}if(Ri=0,lt=nt=We=null,qo=!1,_a=0,km.current=null,n===null||n.return===null){rt=1,Ta=e,Ze=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=gt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=Pv(o);if(g!==null){g.flags&=-257,bv(g,o,a,s,e),g.mode&1&&xv(s,u,e),e=g,l=u;var y=e.updateQueue;if(y===null){var _=new Set;_.add(l),e.updateQueue=_}else y.add(l);break e}else{if(!(e&1)){xv(s,u,e),Dm();break e}l=Error(D(426))}}else if(Ue&&a.mode&1){var E=Pv(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),bv(E,o,a,s,e),fm(Ns(l,a));break e}}s=l=Ns(l,a),rt!==4&&(rt=2),Qo===null?Qo=[s]:Qo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=ME(s,l,e);Sv(s,m);break e;case 1:a=l;var p=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Or===null||!Or.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var T=$E(s,a,e);Sv(s,T);break e}}s=s.return}while(s!==null)}rT(n)}catch(A){e=A,Ze===n&&n!==null&&(Ze=n=n.return);continue}break}while(1)}function tT(){var t=Qu.current;return Qu.current=Gu,t===null?Gu:t}function Dm(){(rt===0||rt===3||rt===2)&&(rt=4),ct===null||!(Ai&268435455)&&!(zc&268435455)||Sr(ct,gt)}function Ju(t,e){var n=_e;_e|=2;var r=tT();(ct!==t||gt!==e)&&(qn=null,_i(t,e));do try{Ok();break}catch(i){eT(t,i)}while(1);if(mm(),_e=n,Qu.current=r,Ze!==null)throw Error(D(261));return ct=null,gt=0,rt}function Ok(){for(;Ze!==null;)nT(Ze)}function Mk(){for(;Ze!==null&&!lC();)nT(Ze)}function nT(t){var e=sT(t.alternate,t,Yt);t.memoizedProps=t.pendingProps,e===null?rT(t):Ze=e,km.current=null}function rT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=xk(n,e),n!==null){n.flags&=32767,Ze=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rt=6,Ze=null;return}}else if(n=Nk(n,e,Yt),n!==null){Ze=n;return}if(e=e.sibling,e!==null){Ze=e;return}Ze=e=t}while(e!==null);rt===0&&(rt=5)}function ui(t,e,n){var r=Te,i=dn.transition;try{dn.transition=null,Te=1,$k(t,e,n,r)}finally{dn.transition=i,Te=r}return null}function $k(t,e,n,r){do gs();while(kr!==null);if(_e&6)throw Error(D(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(D(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(vC(t,s),t===ct&&(Ze=ct=null,gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Hl||(Hl=!0,oT(Du,function(){return gs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=dn.transition,dn.transition=null;var o=Te;Te=1;var a=_e;_e|=4,km.current=null,bk(t,n),XE(n,t),ik(Nf),Lu=!!kf,Nf=kf=null,t.current=n,Dk(n),uC(),_e=a,Te=o,dn.transition=s}else t.current=n;if(Hl&&(Hl=!1,kr=t,Xu=i),s=t.pendingLanes,s===0&&(Or=null),dC(n.stateNode),qt(t,Qe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Yu)throw Yu=!1,t=Qf,Qf=null,t;return Xu&1&&t.tag!==0&&gs(),s=t.pendingLanes,s&1?t===Yf?Yo++:(Yo=0,Yf=t):Yo=0,Jr(),null}function gs(){if(kr!==null){var t=Ow(Xu),e=dn.transition,n=Te;try{if(dn.transition=null,Te=16>t?16:t,kr===null)var r=!1;else{if(t=kr,kr=null,Xu=0,_e&6)throw Error(D(331));var i=_e;for(_e|=4,z=t.current;z!==null;){var s=z,o=s.child;if(z.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(z=u;z!==null;){var c=z;switch(c.tag){case 0:case 11:case 15:Go(8,c,s)}var d=c.child;if(d!==null)d.return=c,z=d;else for(;z!==null;){c=z;var f=c.sibling,g=c.return;if(GE(c),c===u){z=null;break}if(f!==null){f.return=g,z=f;break}z=g}}}var y=s.alternate;if(y!==null){var _=y.child;if(_!==null){y.child=null;do{var E=_.sibling;_.sibling=null,_=E}while(_!==null)}}z=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,z=o;else e:for(;z!==null;){if(s=z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Go(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,z=m;break e}z=s.return}}var p=t.current;for(z=p;z!==null;){o=z;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,z=v;else e:for(o=p;z!==null;){if(a=z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Bc(9,a)}}catch(A){qe(a,a.return,A)}if(a===o){z=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,z=T;break e}z=a.return}}if(_e=i,Jr(),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(Vc,t)}catch{}r=!0}return r}finally{Te=n,dn.transition=e}}return!1}function Hv(t,e,n){e=Ns(n,e),e=ME(t,e,1),t=Lr(t,e,1),e=Mt(),t!==null&&(Wa(t,1,e),qt(t,e))}function qe(t,e,n){if(t.tag===3)Hv(t,t,n);else for(;e!==null;){if(e.tag===3){Hv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Or===null||!Or.has(r))){t=Ns(n,t),t=$E(e,t,1),e=Lr(e,t,1),t=Mt(),e!==null&&(Wa(e,1,t),qt(e,t));break}}e=e.return}}function jk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Mt(),t.pingedLanes|=t.suspendedLanes&n,ct===t&&(gt&n)===n&&(rt===4||rt===3&&(gt&130023424)===gt&&500>Qe()-xm?_i(t,0):Nm|=n),qt(t,e)}function iT(t,e){e===0&&(t.mode&1?(e=Ll,Ll<<=1,!(Ll&130023424)&&(Ll=4194304)):e=1);var n=Mt();t=sr(t,e),t!==null&&(Wa(t,e,n),qt(t,n))}function Uk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),iT(t,n)}function Fk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(e),iT(t,n)}var sT;sT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ht.current)Wt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Wt=!1,kk(t,e,n);Wt=!!(t.flags&131072)}else Wt=!1,Ue&&e.flags&1048576&&lE(e,Bu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;yu(t,e),t=e.pendingProps;var i=Rs(e,xt.current);ms(e,n),i=Sm(null,e,r,t,i,n);var s=Im();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Kt(r)?(s=!0,Uu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,vm(e),i.updater=Uc,e.stateNode=i,i._reactInternals=e,$f(e,r,t,n),e=Ff(null,e,r,!0,s,n)):(e.tag=0,Ue&&s&&hm(e),Lt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(yu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=zk(r),t=wn(r,t),i){case 0:e=Uf(null,e,r,t,n);break e;case 1:e=Lv(null,e,r,t,n);break e;case 11:e=Dv(null,e,r,t,n);break e;case 14:e=Vv(null,e,r,wn(r.type,t),n);break e}throw Error(D(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),Uf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),Lv(t,e,r,i,n);case 3:e:{if(BE(e),t===null)throw Error(D(387));r=e.pendingProps,s=e.memoizedState,i=s.element,dE(t,e),Hu(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ns(Error(D(423)),e),e=Ov(t,e,r,n,i);break e}else if(r!==i){i=Ns(Error(D(424)),e),e=Ov(t,e,r,n,i);break e}else for(Xt=Vr(e.stateNode.containerInfo.firstChild),Zt=e,Ue=!0,Tn=null,n=gE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(As(),r===i){e=or(t,e,n);break e}Lt(t,e,r,n)}e=e.child}return e;case 5:return yE(e),t===null&&Lf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,xf(r,i)?o=null:s!==null&&xf(r,s)&&(e.flags|=32),FE(t,e),Lt(t,e,o,n),e.child;case 6:return t===null&&Lf(e),null;case 13:return zE(t,e,n);case 4:return _m(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Cs(e,null,r,n):Lt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),Dv(t,e,r,i,n);case 7:return Lt(t,e,e.pendingProps,n),e.child;case 8:return Lt(t,e,e.pendingProps.children,n),e.child;case 12:return Lt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ke(zu,r._currentValue),r._currentValue=o,s!==null)if(An(s.value,o)){if(s.children===i.children&&!Ht.current){e=or(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=tr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Of(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(D(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Of(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Lt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ms(e,n),i=fn(i),r=r(i),e.flags|=1,Lt(t,e,r,n),e.child;case 14:return r=e.type,i=wn(r,e.pendingProps),i=wn(r.type,i),Vv(t,e,r,i,n);case 15:return jE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),yu(t,e),e.tag=1,Kt(r)?(t=!0,Uu(e)):t=!1,ms(e,n),pE(e,r,i),$f(e,r,i,n),Ff(null,e,r,!0,t,n);case 19:return WE(t,e,n);case 22:return UE(t,e,n)}throw Error(D(156,e.tag))};function oT(t,e){return bw(t,e)}function Bk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,e,n,r){return new Bk(t,e,n,r)}function Vm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zk(t){if(typeof t=="function")return Vm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Zp)return 11;if(t===em)return 14}return 2}function $r(t,e){var n=t.alternate;return n===null?(n=hn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function wu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Vm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Zi:return wi(n.children,i,s,e);case Jp:o=8,i|=8;break;case lf:return t=hn(12,n,e,i|2),t.elementType=lf,t.lanes=s,t;case uf:return t=hn(13,n,e,i),t.elementType=uf,t.lanes=s,t;case cf:return t=hn(19,n,e,i),t.elementType=cf,t.lanes=s,t;case mw:return Wc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fw:o=10;break e;case pw:o=9;break e;case Zp:o=11;break e;case em:o=14;break e;case _r:o=16,r=null;break e}throw Error(D(130,t==null?t:typeof t,""))}return e=hn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function wi(t,e,n,r){return t=hn(7,t,r,e),t.lanes=n,t}function Wc(t,e,n,r){return t=hn(22,t,r,e),t.elementType=mw,t.lanes=n,t.stateNode={isHidden:!1},t}function Cd(t,e,n){return t=hn(6,t,null,e),t.lanes=n,t}function kd(t,e,n){return e=hn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Wk(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ld(0),this.expirationTimes=ld(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ld(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Lm(t,e,n,r,i,s,o,a,l){return t=new Wk(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=hn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vm(s),t}function Hk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ji,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function aT(t){if(!t)return Kr;t=t._reactInternals;e:{if($i(t)!==t||t.tag!==1)throw Error(D(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Kt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(D(171))}if(t.tag===1){var n=t.type;if(Kt(n))return oE(t,n,e)}return e}function lT(t,e,n,r,i,s,o,a,l){return t=Lm(n,r,!0,t,i,s,o,a,l),t.context=aT(null),n=t.current,r=Mt(),i=Mr(n),s=tr(r,i),s.callback=e??null,Lr(n,s,i),t.current.lanes=i,Wa(t,i,r),qt(t,r),t}function Hc(t,e,n,r){var i=e.current,s=Mt(),o=Mr(i);return n=aT(n),e.context===null?e.context=n:e.pendingContext=n,e=tr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Lr(i,e,o),t!==null&&(In(t,i,o,s),pu(t,i,o)),o}function Zu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Kv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Om(t,e){Kv(t,e),(t=t.alternate)&&Kv(t,e)}function Kk(){return null}var uT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Mm(t){this._internalRoot=t}Kc.prototype.render=Mm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(D(409));Hc(t,e,null,null)};Kc.prototype.unmount=Mm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ci(function(){Hc(null,t,null,null)}),e[ir]=null}};function Kc(t){this._internalRoot=t}Kc.prototype.unstable_scheduleHydration=function(t){if(t){var e=jw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Tr.length&&e!==0&&e<Tr[n].priority;n++);Tr.splice(n,0,t),n===0&&Fw(t)}};function $m(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function qv(){}function qk(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Zu(o);s.call(u)}}var o=lT(e,r,t,0,null,!1,!1,"",qv);return t._reactRootContainer=o,t[ir]=o.current,pa(t.nodeType===8?t.parentNode:t),Ci(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Zu(l);a.call(u)}}var l=Lm(t,0,!1,null,null,!1,!1,"",qv);return t._reactRootContainer=l,t[ir]=l.current,pa(t.nodeType===8?t.parentNode:t),Ci(function(){Hc(e,l,n,r)}),l}function Gc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Zu(o);a.call(l)}}Hc(e,o,t,i)}else o=qk(n,e,t,i,r);return Zu(o)}Mw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=bo(e.pendingLanes);n!==0&&(rm(e,n|1),qt(e,Qe()),!(_e&6)&&(xs=Qe()+500,Jr()))}break;case 13:Ci(function(){var r=sr(t,1);if(r!==null){var i=Mt();In(r,t,1,i)}}),Om(t,1)}};im=function(t){if(t.tag===13){var e=sr(t,134217728);if(e!==null){var n=Mt();In(e,t,134217728,n)}Om(t,134217728)}};$w=function(t){if(t.tag===13){var e=Mr(t),n=sr(t,e);if(n!==null){var r=Mt();In(n,t,e,r)}Om(t,e)}};jw=function(){return Te};Uw=function(t,e){var n=Te;try{return Te=t,e()}finally{Te=n}};wf=function(t,e,n){switch(e){case"input":if(ff(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=$c(r);if(!i)throw Error(D(90));yw(r),ff(r,i)}}}break;case"textarea":_w(t,n);break;case"select":e=n.value,e!=null&&hs(t,!!n.multiple,e,!1)}};Aw=Pm;Cw=Ci;var Gk={usingClientEntryPoint:!1,Events:[Ka,rs,$c,Iw,Rw,Pm]},Eo={findFiberByHostInstance:di,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Qk={bundleType:Eo.bundleType,version:Eo.version,rendererPackageName:Eo.rendererPackageName,rendererConfig:Eo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:dr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=xw(t),t===null?null:t.stateNode},findFiberByHostInstance:Eo.findFiberByHostInstance||Kk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kl.isDisabled&&Kl.supportsFiber)try{Vc=Kl.inject(Qk),Mn=Kl}catch{}}rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gk;rn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$m(e))throw Error(D(200));return Hk(t,e,null,n)};rn.createRoot=function(t,e){if(!$m(t))throw Error(D(299));var n=!1,r="",i=uT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Lm(t,1,!1,null,null,n,!1,r,i),t[ir]=e.current,pa(t.nodeType===8?t.parentNode:t),new Mm(e)};rn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(D(188)):(t=Object.keys(t).join(","),Error(D(268,t)));return t=xw(e),t=t===null?null:t.stateNode,t};rn.flushSync=function(t){return Ci(t)};rn.hydrate=function(t,e,n){if(!qc(e))throw Error(D(200));return Gc(null,t,e,!0,n)};rn.hydrateRoot=function(t,e,n){if(!$m(t))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=uT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=lT(e,null,t,1,n??null,i,!1,s,o),t[ir]=e.current,pa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Kc(e)};rn.render=function(t,e,n){if(!qc(e))throw Error(D(200));return Gc(null,t,e,!1,n)};rn.unmountComponentAtNode=function(t){if(!qc(t))throw Error(D(40));return t._reactRootContainer?(Ci(function(){Gc(null,null,t,!1,function(){t._reactRootContainer=null,t[ir]=null})}),!0):!1};rn.unstable_batchedUpdates=Pm;rn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!qc(n))throw Error(D(200));if(t==null||t._reactInternals===void 0)throw Error(D(38));return Gc(t,e,n,!1,r)};rn.version="18.2.0-next-9e3b772b8-20220608";function cT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cT)}catch(t){console.error(t)}}cT(),lw.exports=rn;var hT=lw.exports;const Yk=X0(hT);var dT,Gv=hT;dT=Gv.createRoot,Gv.hydrateRoot;function Xk(t){const e=new Error(t);if(e.stack===void 0)try{throw e}catch{}return e}var Jk=Xk,de=Jk;function Zk(t){return!!t&&typeof t.then=="function"}var be=Zk;function eN(t,e){if(t!=null)return t;throw de(e??"Got unexpected null or undefined")}var Fe=eN;function ce(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Qc{getValue(){throw de("BaseLoadable")}toPromise(){throw de("BaseLoadable")}valueMaybe(){throw de("BaseLoadable")}valueOrThrow(){throw de(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw de("BaseLoadable")}promiseOrThrow(){throw de(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw de("BaseLoadable")}errorOrThrow(){throw de(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw de("BaseLoadable")}}class tN extends Qc{constructor(e){super(),ce(this,"state","hasValue"),ce(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const n=e(this.contents);return be(n)?ki(n):Ps(n)?n:Ga(n)}catch(n){return be(n)?ki(n.next(()=>this.map(e))):Yc(n)}}}class nN extends Qc{constructor(e){super(),ce(this,"state","hasError"),ce(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class fT extends Qc{constructor(e){super(),ce(this,"state","loading"),ce(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return ki(this.contents.then(n=>{const r=e(n);if(Ps(r)){const i=r;switch(i.state){case"hasValue":return i.contents;case"hasError":throw i.contents;case"loading":return i.contents}}return r}).catch(n=>{if(be(n))return n.then(()=>this.map(e).contents);throw n}))}}function Ga(t){return Object.freeze(new tN(t))}function Yc(t){return Object.freeze(new nN(t))}function ki(t){return Object.freeze(new fT(t))}function pT(){return Object.freeze(new fT(new Promise(()=>{})))}function rN(t){return t.every(e=>e.state==="hasValue")?Ga(t.map(e=>e.contents)):t.some(e=>e.state==="hasError")?Yc(Fe(t.find(e=>e.state==="hasError"),"Invalid loadable passed to loadableAll").contents):ki(Promise.all(t.map(e=>e.contents)))}function mT(t){const n=(Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(i=>t[i])).map(i=>Ps(i)?i:be(i)?ki(i):Ga(i)),r=rN(n);return Array.isArray(t)?r:r.map(i=>Object.getOwnPropertyNames(t).reduce((s,o,a)=>({...s,[o]:i[a]}),{}))}function Ps(t){return t instanceof Qc}const iN={of:t=>be(t)?ki(t):Ps(t)?t:Ga(t),error:t=>Yc(t),loading:()=>pT(),all:mT,isLoadable:Ps};var ji={loadableWithValue:Ga,loadableWithError:Yc,loadableWithPromise:ki,loadableLoading:pT,loadableAll:mT,isLoadable:Ps,RecoilLoadable:iN},sN=ji.loadableWithValue,oN=ji.loadableWithError,aN=ji.loadableWithPromise,lN=ji.loadableLoading,uN=ji.loadableAll,cN=ji.isLoadable,hN=ji.RecoilLoadable,Qa=Object.freeze({__proto__:null,loadableWithValue:sN,loadableWithError:oN,loadableWithPromise:aN,loadableLoading:lN,loadableAll:uN,isLoadable:cN,RecoilLoadable:hN});const Zf={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function dN(t,e){var n,r;const i=(n={}[t])===null||n===void 0||(r=n.toLowerCase())===null||r===void 0?void 0:r.trim();if(i==null||i==="")return;if(!["true","false"].includes(i))throw de(`{}.${t} value must be 'true', 'false', or empty: ${i}`);e(i==="true")}function fN(t,e){var n;const r=(n={}[t])===null||n===void 0?void 0:n.trim();r==null||r===""||e(r.split(/\s*,\s*|\s+/))}function pN(){var t;typeof process>"u"||((t=process)===null||t===void 0?void 0:t.env)!=null&&(dN("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",e=>{Zf.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=e}),fN("RECOIL_GKS_ENABLED",e=>{e.forEach(n=>{Zf.RECOIL_GKS_ENABLED.add(n)})}))}pN();var Gs=Zf;function Xc(t){return Gs.RECOIL_GKS_ENABLED.has(t)}Xc.setPass=t=>{Gs.RECOIL_GKS_ENABLED.add(t)};Xc.setFail=t=>{Gs.RECOIL_GKS_ENABLED.delete(t)};Xc.clear=()=>{Gs.RECOIL_GKS_ENABLED.clear()};var Ae=Xc;function mN(t,e,{error:n}={}){return null}var gN=mN,jm=gN,Nd,xd,Pd;const yN=(Nd=Ve.createMutableSource)!==null&&Nd!==void 0?Nd:Ve.unstable_createMutableSource,gT=(xd=Ve.useMutableSource)!==null&&xd!==void 0?xd:Ve.unstable_useMutableSource,yT=(Pd=Ve.useSyncExternalStore)!==null&&Pd!==void 0?Pd:Ve.unstable_useSyncExternalStore;function vN(){var t;const{ReactCurrentDispatcher:e,ReactCurrentOwner:n}=Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;return((t=e==null?void 0:e.current)!==null&&t!==void 0?t:n.currentDispatcher).useSyncExternalStore!=null}function _N(){return Ae("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:Ae("recoil_sync_external_store")&&yT!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:Ae("recoil_mutable_source")&&gT!=null&&typeof window<"u"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?Ae("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:Ae("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function wN(){return!1}var Ya={createMutableSource:yN,useMutableSource:gT,useSyncExternalStore:yT,currentRendererSupportsUseSyncExternalStore:vN,reactMode:_N,isFastRefreshEnabled:wN};class Um{constructor(e){ce(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class vT extends Um{}class _T extends Um{}function EN(t){return t instanceof vT||t instanceof _T}var Jc={AbstractRecoilValue:Um,RecoilState:vT,RecoilValueReadOnly:_T,isRecoilValue:EN},TN=Jc.AbstractRecoilValue,SN=Jc.RecoilState,IN=Jc.RecoilValueReadOnly,RN=Jc.isRecoilValue,bs=Object.freeze({__proto__:null,AbstractRecoilValue:TN,RecoilState:SN,RecoilValueReadOnly:IN,isRecoilValue:RN});function AN(t,e){return function*(){let n=0;for(const r of t)yield e(r,n++)}()}var Zc=AN;class wT{}const CN=new wT,Ni=new Map,Fm=new Map;function kN(t){return Zc(t,e=>Fe(Fm.get(e)))}function NN(t){if(Ni.has(t)){const e=`Duplicate atom key "${t}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(e)}}function xN(t){Gs.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&NN(t.key),Ni.set(t.key,t);const e=t.set==null?new bs.RecoilValueReadOnly(t.key):new bs.RecoilState(t.key);return Fm.set(t.key,e),e}class ET extends Error{}function PN(t){const e=Ni.get(t);if(e==null)throw new ET(`Missing definition for RecoilValue: "${t}""`);return e}function bN(t){return Ni.get(t)}const ec=new Map;function DN(t){var e;if(!Ae("recoil_memory_managament_2020"))return;const n=Ni.get(t);if(n!=null&&(e=n.shouldDeleteConfigOnRelease)!==null&&e!==void 0&&e.call(n)){var r;Ni.delete(t),(r=TT(t))===null||r===void 0||r(),ec.delete(t)}}function VN(t,e){Ae("recoil_memory_managament_2020")&&(e===void 0?ec.delete(t):ec.set(t,e))}function TT(t){return ec.get(t)}var Qt={nodes:Ni,recoilValues:Fm,registerNode:xN,getNode:PN,getNodeMaybe:bN,deleteNodeConfigIfPossible:DN,setConfigDeletionHandler:VN,getConfigDeletionHandler:TT,recoilValuesForKeys:kN,NodeMissingError:ET,DefaultValue:wT,DEFAULT_VALUE:CN};function LN(t,e){e()}var ON={enqueueExecution:LN};function MN(t,e){return e={exports:{}},t(e,e.exports),e.exports}var $N=MN(function(t){var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},n={},r=5,i=Math.pow(2,r),s=i-1,o=i/2,a=i/4,l={},u=function(w){return function(){return w}},c=n.hash=function(S){var w=typeof S>"u"?"undefined":e(S);if(w==="number")return S;w!=="string"&&(S+="");for(var b=0,j=0,U=S.length;j<U;++j){var W=S.charCodeAt(j);b=(b<<5)-b+W|0}return b},d=function(w){return w-=w>>1&1431655765,w=(w&858993459)+(w>>2&858993459),w=w+(w>>4)&252645135,w+=w>>8,w+=w>>16,w&127},f=function(w,b){return b>>>w&s},g=function(w){return 1<<w},y=function(w,b){return d(w&b-1)},_=function(w,b,j,U){var W=U;if(!w){var re=U.length;W=new Array(re);for(var ee=0;ee<re;++ee)W[ee]=U[ee]}return W[b]=j,W},E=function(w,b,j){var U=j.length-1,W=0,re=0,ee=j;if(w)W=re=b;else for(ee=new Array(U);W<b;)ee[re++]=j[W++];for(++W;W<=U;)ee[re++]=j[W++];return w&&(ee.length=U),ee},m=function(w,b,j,U){var W=U.length;if(w){for(var re=W;re>=b;)U[re--]=U[re];return U[b]=j,U}for(var ee=0,te=0,pe=new Array(W+1);ee<b;)pe[te++]=U[ee++];for(pe[b]=j;ee<W;)pe[++te]=U[ee++];return pe},p=1,v=2,T=3,A=4,C={__hamt_isEmpty:!0},N=function(w){return w===C||w&&w.__hamt_isEmpty},L=function(w,b,j,U){return{type:p,edit:w,hash:b,key:j,value:U,_modify:O}},Z=function(w,b,j){return{type:v,edit:w,hash:b,children:j,_modify:Q}},H=function(w,b,j){return{type:T,edit:w,mask:b,children:j,_modify:ne}},G=function(w,b,j){return{type:A,edit:w,size:b,children:j,_modify:Ie}},ae=function(w){return w===C||w.type===p||w.type===v},X=function(w,b,j,U,W){for(var re=[],ee=U,te=0,pe=0;ee;++pe)ee&1&&(re[pe]=W[te++]),ee>>>=1;return re[b]=j,G(w,te+1,re)},ye=function(w,b,j,U){for(var W=new Array(b-1),re=0,ee=0,te=0,pe=U.length;te<pe;++te)if(te!==j){var je=U[te];je&&!N(je)&&(W[re++]=je,ee|=1<<te)}return H(w,ee,W)},Oe=function S(w,b,j,U,W,re){if(j===W)return Z(w,j,[re,U]);var ee=f(b,j),te=f(b,W);return H(w,g(ee)|g(te),ee===te?[S(w,b+r,j,U,W,re)]:ee<te?[U,re]:[re,U])},Ce=function(w,b,j,U,W,re,ee,te){for(var pe=W.length,je=0;je<pe;++je){var Ft=W[je];if(j(ee,Ft.key)){var ot=Ft.value,an=re(ot);return an===ot?W:an===l?(--te.value,E(w,je,W)):_(w,je,L(b,U,ee,an),W)}}var yn=re();return yn===l?W:(++te.value,_(w,pe,L(b,U,ee,yn),W))},Be=function(w,b){return w===b.edit},O=function(w,b,j,U,W,re,ee){if(b(re,this.key)){var te=U(this.value);return te===this.value?this:te===l?(--ee.value,C):Be(w,this)?(this.value=te,this):L(w,W,re,te)}var pe=U();return pe===l?this:(++ee.value,Oe(w,j,this.hash,this,W,L(w,W,re,pe)))},Q=function(w,b,j,U,W,re,ee){if(W===this.hash){var te=Be(w,this),pe=Ce(te,w,b,this.hash,this.children,U,re,ee);return pe===this.children?this:pe.length>1?Z(w,this.hash,pe):pe[0]}var je=U();return je===l?this:(++ee.value,Oe(w,j,this.hash,this,W,L(w,W,re,je)))},ne=function(w,b,j,U,W,re,ee){var te=this.mask,pe=this.children,je=f(j,W),Ft=g(je),ot=y(te,Ft),an=te&Ft,yn=an?pe[ot]:C,Ki=yn._modify(w,b,j+r,U,W,re,ee);if(yn===Ki)return this;var Nl=Be(w,this),ho=te,fo=void 0;if(an&&N(Ki)){if(ho&=~Ft,!ho)return C;if(pe.length<=2&&ae(pe[ot^1]))return pe[ot^1];fo=E(Nl,ot,pe)}else if(!an&&!N(Ki)){if(pe.length>=o)return X(w,je,Ki,te,pe);ho|=Ft,fo=m(Nl,ot,Ki,pe)}else fo=_(Nl,ot,Ki,pe);return Nl?(this.mask=ho,this.children=fo,this):H(w,ho,fo)},Ie=function(w,b,j,U,W,re,ee){var te=this.size,pe=this.children,je=f(j,W),Ft=pe[je],ot=(Ft||C)._modify(w,b,j+r,U,W,re,ee);if(Ft===ot)return this;var an=Be(w,this),yn=void 0;if(N(Ft)&&!N(ot))++te,yn=_(an,je,ot,pe);else if(!N(Ft)&&N(ot)){if(--te,te<=a)return ye(w,te,je,pe);yn=_(an,je,C,pe)}else yn=_(an,je,ot,pe);return an?(this.size=te,this.children=yn,this):G(w,te,yn)};C._modify=function(S,w,b,j,U,W,re){var ee=j();return ee===l?C:(++re.value,L(S,U,W,ee))};function I(S,w,b,j,U){this._editable=S,this._edit=w,this._config=b,this._root=j,this._size=U}I.prototype.setTree=function(S,w){return this._editable?(this._root=S,this._size=w,this):S===this._root?this:new I(this._editable,this._edit,this._config,S,w)};var x=n.tryGetHash=function(S,w,b,j){for(var U=j._root,W=0,re=j._config.keyEq;;)switch(U.type){case p:return re(b,U.key)?U.value:S;case v:{if(w===U.hash)for(var ee=U.children,te=0,pe=ee.length;te<pe;++te){var je=ee[te];if(re(b,je.key))return je.value}return S}case T:{var Ft=f(W,w),ot=g(Ft);if(U.mask&ot){U=U.children[y(U.mask,ot)],W+=r;break}return S}case A:{if(U=U.children[f(W,w)],U){W+=r;break}return S}default:return S}};I.prototype.tryGetHash=function(S,w,b){return x(S,w,b,this)};var P=n.tryGet=function(S,w,b){return x(S,b._config.hash(w),w,b)};I.prototype.tryGet=function(S,w){return P(S,w,this)};var q=n.getHash=function(S,w,b){return x(void 0,S,w,b)};I.prototype.getHash=function(S,w){return q(S,w,this)},n.get=function(S,w){return x(void 0,w._config.hash(S),S,w)},I.prototype.get=function(S,w){return P(w,S,this)};var F=n.has=function(S,w,b){return x(l,S,w,b)!==l};I.prototype.hasHash=function(S,w){return F(S,w,this)};var ue=n.has=function(S,w){return F(w._config.hash(S),S,w)};I.prototype.has=function(S){return ue(S,this)};var fe=function(w,b){return w===b};n.make=function(S){return new I(0,0,{keyEq:S&&S.keyEq||fe,hash:S&&S.hash||c},C,0)},n.empty=n.make();var J=n.isEmpty=function(S){return S&&!!N(S._root)};I.prototype.isEmpty=function(){return J(this)};var Me=n.modifyHash=function(S,w,b,j){var U={value:j._size},W=j._root._modify(j._editable?j._edit:NaN,j._config.keyEq,0,S,w,b,U);return j.setTree(W,U.value)};I.prototype.modifyHash=function(S,w,b){return Me(b,S,w,this)};var st=n.modify=function(S,w,b){return Me(S,b._config.hash(w),w,b)};I.prototype.modify=function(S,w){return st(w,S,this)};var Re=n.setHash=function(S,w,b,j){return Me(u(b),S,w,j)};I.prototype.setHash=function(S,w,b){return Re(S,w,b,this)};var $e=n.set=function(S,w,b){return Re(b._config.hash(S),S,w,b)};I.prototype.set=function(S,w){return $e(S,w,this)};var on=u(l),Kn=n.removeHash=function(S,w,b){return Me(on,S,w,b)};I.prototype.removeHash=I.prototype.deleteHash=function(S,w){return Kn(S,w,this)};var Vt=n.remove=function(S,w){return Kn(w._config.hash(S),S,w)};I.prototype.remove=I.prototype.delete=function(S){return Vt(S,this)};var _t=n.beginMutation=function(S){return new I(S._editable+1,S._edit+1,S._config,S._root,S._size)};I.prototype.beginMutation=function(){return _t(this)};var kl=n.endMutation=function(S){return S._editable=S._editable&&S._editable-1,S};I.prototype.endMutation=function(){return kl(this)};var pA=n.mutate=function(S,w){var b=_t(w);return S(b),kl(b)};I.prototype.mutate=function(S){return pA(S,this)};var ed=function(w){return w&&My(w[0],w[1],w[2],w[3],w[4])},My=function(w,b,j,U,W){for(;j<w;){var re=b[j++];if(re&&!N(re))return $y(re,U,[w,b,j,U,W])}return ed(W)},$y=function(w,b,j){switch(w.type){case p:return{value:b(w),rest:j};case v:case A:case T:var U=w.children;return My(U.length,U,0,b,j);default:return ed(j)}},mA={done:!0};function td(S){this.v=S}td.prototype.next=function(){if(!this.v)return mA;var S=this.v;return this.v=ed(S.rest),S},td.prototype[Symbol.iterator]=function(){return this};var nd=function(w,b){return new td($y(w._root,b))},gA=function(w){return[w.key,w.value]},yA=n.entries=function(S){return nd(S,gA)};I.prototype.entries=I.prototype[Symbol.iterator]=function(){return yA(this)};var vA=function(w){return w.key},_A=n.keys=function(S){return nd(S,vA)};I.prototype.keys=function(){return _A(this)};var wA=function(w){return w.value},EA=n.values=I.prototype.values=function(S){return nd(S,wA)};I.prototype.values=function(){return EA(this)};var jy=n.fold=function(S,w,b){var j=b._root;if(j.type===p)return S(w,j.value,j.key);for(var U=[j.children],W=void 0;W=U.pop();)for(var re=0,ee=W.length;re<ee;){var te=W[re++];te&&te.type&&(te.type===p?w=S(w,te.value,te.key):U.push(te.children))}return w};I.prototype.fold=function(S,w){return jy(S,w,this)};var TA=n.forEach=function(S,w){return jy(function(b,j,U){return S(j,U,w)},null,w)};I.prototype.forEach=function(S){return TA(S,this)};var SA=n.count=function(S){return S._size};I.prototype.count=function(){return SA(this)},Object.defineProperty(I.prototype,"size",{get:I.prototype.count}),t.exports?t.exports=n:(void 0).hamt=n});class jN{constructor(e){ce(this,"_map",void 0),this._map=new Map(e==null?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,n){return this._map.set(e,n),this}delete(e){return this._map.delete(e),this}clone(){return zm(this)}toMap(){return new Map(this._map)}}class Bm{constructor(e){if(ce(this,"_hamt",$N.empty.beginMutation()),e instanceof Bm){const n=e._hamt.endMutation();e._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(e)for(const[n,r]of e.entries())this._hamt.set(n,r)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,n){return this._hamt.set(e,n),this}delete(e){return this._hamt.delete(e),this}clone(){return zm(this)}toMap(){return new Map(this._hamt)}}function zm(t){return Ae("recoil_hamt_2020")?new Bm(t):new jN(t)}var UN={persistentMap:zm},FN=UN.persistentMap,BN=Object.freeze({__proto__:null,persistentMap:FN});function zN(t,...e){const n=new Set;e:for(const r of t){for(const i of e)if(i.has(r))continue e;n.add(r)}return n}var Xo=zN;function WN(t,e){const n=new Map;return t.forEach((r,i)=>{n.set(i,e(r,i))}),n}var tc=WN;function HN(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function KN(t){return{nodeDeps:tc(t.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:tc(t.nodeToNodeSubscriptions,e=>new Set(e))}}function bd(t,e,n,r){const{nodeDeps:i,nodeToNodeSubscriptions:s}=n,o=i.get(t);if(o&&r&&o!==r.nodeDeps.get(t))return;i.set(t,e);const a=o==null?e:Xo(e,o);for(const l of a)s.has(l)||s.set(l,new Set),Fe(s.get(l)).add(t);if(o){const l=Xo(o,e);for(const u of l){if(!s.has(u))return;const c=Fe(s.get(u));c.delete(t),c.size===0&&s.delete(u)}}}function qN(t,e,n,r){var i,s,o,a;const l=n.getState();r===l.currentTree.version||r===((i=l.nextTree)===null||i===void 0?void 0:i.version)||((s=l.previousTree)===null||s===void 0||s.version);const u=n.getGraph(r);if(bd(t,e,u),r===((o=l.previousTree)===null||o===void 0?void 0:o.version)){const d=n.getGraph(l.currentTree.version);bd(t,e,d,u)}if(r===((a=l.previousTree)===null||a===void 0?void 0:a.version)||r===l.currentTree.version){var c;const d=(c=l.nextTree)===null||c===void 0?void 0:c.version;if(d!==void 0){const f=n.getGraph(d);bd(t,e,f,u)}}}var Xa={cloneGraph:KN,graph:HN,saveDepsToStore:qN};let GN=0;const QN=()=>GN++;let YN=0;const XN=()=>YN++;let JN=0;const ZN=()=>JN++;var eh={getNextTreeStateVersion:QN,getNextStoreID:XN,getNextComponentID:ZN};const{persistentMap:Qv}=BN,{graph:ex}=Xa,{getNextTreeStateVersion:ST}=eh;function IT(){const t=ST();return{version:t,stateID:t,transactionMetadata:{},dirtyAtoms:new Set,atomValues:Qv(),nonvalidatedAtoms:Qv()}}function tx(){const t=IT();return{currentTree:t,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(t.version,ex()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var RT={makeEmptyTreeState:IT,makeEmptyStoreState:tx,getNextTreeStateVersion:ST};class AT{}function nx(){return new AT}var th={RetentionZone:AT,retentionZone:nx};function rx(t,e){const n=new Set(t);return n.add(e),n}function ix(t,e){const n=new Set(t);return n.delete(e),n}function sx(t,e,n){const r=new Map(t);return r.set(e,n),r}function ox(t,e,n){const r=new Map(t);return r.set(e,n(r.get(e))),r}function ax(t,e){const n=new Map(t);return n.delete(e),n}function lx(t,e){const n=new Map(t);return e.forEach(r=>n.delete(r)),n}var CT={setByAddingToSet:rx,setByDeletingFromSet:ix,mapBySettingInMap:sx,mapByUpdatingInMap:ox,mapByDeletingFromMap:ax,mapByDeletingMultipleFromMap:lx};function*ux(t,e){let n=0;for(const r of t)e(r,n++)&&(yield r)}var Wm=ux;function cx(t,e){return new Proxy(t,{get:(r,i)=>(!(i in r)&&i in e&&(r[i]=e[i]()),r[i]),ownKeys:r=>Object.keys(r)})}var kT=cx;const{getNode:Ja,getNodeMaybe:hx,recoilValuesForKeys:Yv}=Qt,{RetentionZone:Xv}=th,{setByAddingToSet:dx}=CT,fx=Object.freeze(new Set);class px extends Error{}function mx(t,e,n){if(!Ae("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=t.getState().retention;function i(s){let o=r.get(s);o||r.set(s,o=new Set),o.add(e)}if(n instanceof Xv)i(n);else if(Array.isArray(n))for(const s of n)i(s);return()=>{if(!Ae("recoil_memory_managament_2020"))return;const{retention:s}=t.getState();function o(a){const l=s.nodesRetainedByZone.get(a);l==null||l.delete(e),l&&l.size===0&&s.nodesRetainedByZone.delete(a)}if(n instanceof Xv)o(n);else if(Array.isArray(n))for(const a of n)o(a)}}function Hm(t,e,n,r){const i=t.getState();if(i.nodeCleanupFunctions.has(n))return;const s=Ja(n),o=mx(t,n,s.retainedBy),a=s.init(t,e,r);i.nodeCleanupFunctions.set(n,()=>{a(),o()})}function gx(t,e,n){Hm(t,t.getState().currentTree,e,n)}function yx(t,e){var n;const r=t.getState();(n=r.nodeCleanupFunctions.get(e))===null||n===void 0||n(),r.nodeCleanupFunctions.delete(e)}function vx(t,e,n){return Hm(t,e,n,"get"),Ja(n).get(t,e)}function NT(t,e,n){return Ja(n).peek(t,e)}function _x(t,e,n){var r;const i=hx(e);return i==null||(r=i.invalidate)===null||r===void 0||r.call(i,t),{...t,atomValues:t.atomValues.clone().delete(e),nonvalidatedAtoms:t.nonvalidatedAtoms.clone().set(e,n),dirtyAtoms:dx(t.dirtyAtoms,e)}}function wx(t,e,n,r){const i=Ja(n);if(i.set==null)throw new px(`Attempt to set read-only RecoilValue: ${n}`);const s=i.set;return Hm(t,e,n,"set"),s(t,e,r)}function Ex(t,e,n){const r=t.getState(),i=t.getGraph(e.version),s=Ja(n).nodeType;return kT({type:s},{loadable:()=>NT(t,e,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>s==="selector"?!1:e.atomValues.has(n),isModified:()=>e.dirtyAtoms.has(n),deps:()=>{var o;return Yv((o=i.nodeDeps.get(n))!==null&&o!==void 0?o:[])},subscribers:()=>{var o,a;return{nodes:Yv(Wm(xT(t,e,new Set([n])),l=>l!==n)),components:Zc((o=(a=r.nodeToComponentSubscriptions.get(n))===null||a===void 0?void 0:a.values())!==null&&o!==void 0?o:[],([l])=>({name:l}))}}})}function xT(t,e,n){const r=new Set,i=Array.from(n),s=t.getGraph(e.version);for(let a=i.pop();a;a=i.pop()){var o;r.add(a);const l=(o=s.nodeToNodeSubscriptions.get(a))!==null&&o!==void 0?o:fx;for(const u of l)r.has(u)||i.push(u)}return r}var Zr={getNodeLoadable:vx,peekNodeLoadable:NT,setNodeValue:wx,initializeNode:gx,cleanUpNode:yx,setUnvalidatedAtomValue_DEPRECATED:_x,peekNodeInfo:Ex,getDownstreamNodes:xT};let PT=null;function Tx(t){PT=t}function Sx(){var t;(t=PT)===null||t===void 0||t()}var bT={setInvalidateMemoizedSnapshot:Tx,invalidateMemoizedSnapshot:Sx};const{getDownstreamNodes:Ix,getNodeLoadable:DT,setNodeValue:Rx}=Zr,{getNextComponentID:Ax}=eh,{getNode:Cx,getNodeMaybe:VT}=Qt,{DefaultValue:Km}=Qt,{reactMode:kx}=Ya,{AbstractRecoilValue:Nx,RecoilState:xx,RecoilValueReadOnly:Px,isRecoilValue:bx}=bs,{invalidateMemoizedSnapshot:Dx}=bT;function Vx(t,{key:e},n=t.getState().currentTree){var r,i;const s=t.getState();n.version===s.currentTree.version||n.version===((r=s.nextTree)===null||r===void 0?void 0:r.version)||(n.version,(i=s.previousTree)===null||i===void 0||i.version);const o=DT(t,n,e);return o.state==="loading"&&o.contents.catch(()=>{}),o}function Lx(t,e){const n=t.clone();return e.forEach((r,i)=>{r.state==="hasValue"&&r.contents instanceof Km?n.delete(i):n.set(i,r)}),n}function Ox(t,e,{key:n},r){if(typeof r=="function"){const i=DT(t,e,n);if(i.state==="loading"){const s=`Tried to set atom or selector "${n}" using an updater function while the current state is pending, this is not currently supported.`;throw de(s)}else if(i.state==="hasError")throw i.contents;return r(i.contents)}else return r}function Mx(t,e,n){if(n.type==="set"){const{recoilValue:i,valueOrUpdater:s}=n,o=Ox(t,e,i,s),a=Rx(t,e,i.key,o);for(const[l,u]of a.entries())ep(e,l,u)}else if(n.type==="setLoadable"){const{recoilValue:{key:i},loadable:s}=n;ep(e,i,s)}else if(n.type==="markModified"){const{recoilValue:{key:i}}=n;e.dirtyAtoms.add(i)}else if(n.type==="setUnvalidated"){var r;const{recoilValue:{key:i},unvalidatedValue:s}=n,o=VT(i);o==null||(r=o.invalidate)===null||r===void 0||r.call(o,e),e.atomValues.delete(i),e.nonvalidatedAtoms.set(i,s),e.dirtyAtoms.add(i)}else jm(`Unknown action ${n.type}`)}function ep(t,e,n){n.state==="hasValue"&&n.contents instanceof Km?t.atomValues.delete(e):t.atomValues.set(e,n),t.dirtyAtoms.add(e),t.nonvalidatedAtoms.delete(e)}function LT(t,e){t.replaceState(n=>{const r=OT(n);for(const i of e)Mx(t,r,i);return MT(t,r),Dx(),r})}function nh(t,e){if(Jo.length){const n=Jo[Jo.length-1];let r=n.get(t);r||n.set(t,r=[]),r.push(e)}else LT(t,[e])}const Jo=[];function $x(){const t=new Map;return Jo.push(t),()=>{for(const[e,n]of t)LT(e,n);Jo.pop()}}function OT(t){return{...t,atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(t.dirtyAtoms)}}function MT(t,e){const n=Ix(t,e,e.dirtyAtoms);for(const s of n){var r,i;(r=VT(s))===null||r===void 0||(i=r.invalidate)===null||i===void 0||i.call(r,e)}}function $T(t,e,n){nh(t,{type:"set",recoilValue:e,valueOrUpdater:n})}function jx(t,e,n){if(n instanceof Km)return $T(t,e,n);nh(t,{type:"setLoadable",recoilValue:e,loadable:n})}function Ux(t,e){nh(t,{type:"markModified",recoilValue:e})}function Fx(t,e,n){nh(t,{type:"setUnvalidated",recoilValue:e,unvalidatedValue:n})}function Bx(t,{key:e},n,r=null){const i=Ax(),s=t.getState();s.nodeToComponentSubscriptions.has(e)||s.nodeToComponentSubscriptions.set(e,new Map),Fe(s.nodeToComponentSubscriptions.get(e)).set(i,[r??"<not captured>",n]);const o=kx();if(o.early&&(o.mode==="LEGACY"||o.mode==="MUTABLE_SOURCE")){const a=t.getState().nextTree;a&&a.dirtyAtoms.has(e)&&n(a)}return{release:()=>{const a=t.getState(),l=a.nodeToComponentSubscriptions.get(e);l===void 0||!l.has(i)||(l.delete(i),l.size===0&&a.nodeToComponentSubscriptions.delete(e))}}}function zx(t,e){var n;const{currentTree:r}=t.getState(),i=Cx(e.key);(n=i.clearCache)===null||n===void 0||n.call(i,t,r)}var Wn={RecoilValueReadOnly:Px,AbstractRecoilValue:Nx,RecoilState:xx,getRecoilValueAsLoadable:Vx,setRecoilValue:$T,setRecoilValueLoadable:jx,markRecoilValueModified:Ux,setUnvalidatedRecoilValue:Fx,subscribeToRecoilValue:Bx,isRecoilValue:bx,applyAtomValueWrites:Lx,batchStart:$x,writeLoadableToTreeState:ep,invalidateDownstreams:MT,copyTreeState:OT,refreshRecoilValue:zx};function Wx(t,e,n){const r=t.entries();let i=r.next();for(;!i.done;){const s=i.value;if(e.call(n,s[1],s[0],t))return!0;i=r.next()}return!1}var Hx=Wx;const{cleanUpNode:Kx}=Zr,{deleteNodeConfigIfPossible:qx,getNode:jT}=Qt,{RetentionZone:UT}=th,Gx=12e4,FT=new Set;function BT(t,e){const n=t.getState(),r=n.currentTree;if(n.nextTree)return;const i=new Set;for(const o of e)if(o instanceof UT)for(const a of Jx(n,o))i.add(a);else i.add(o);const s=Qx(t,i);for(const o of s)Xx(t,r,o)}function Qx(t,e){const n=t.getState(),r=n.currentTree,i=t.getGraph(r.version),s=new Set,o=new Set;return a(e),s;function a(l){const u=new Set,c=Yx(t,r,l,s,o);for(const y of c){var d;if(jT(y).retainedBy==="recoilRoot"){o.add(y);continue}if(((d=n.retention.referenceCounts.get(y))!==null&&d!==void 0?d:0)>0){o.add(y);continue}if(zT(y).some(E=>n.retention.referenceCounts.get(E))){o.add(y);continue}const _=i.nodeToNodeSubscriptions.get(y);if(_&&Hx(_,E=>o.has(E))){o.add(y);continue}s.add(y),u.add(y)}const f=new Set;for(const y of u)for(const _ of(g=i.nodeDeps.get(y))!==null&&g!==void 0?g:FT){var g;s.has(_)||f.add(_)}f.size&&a(f)}}function Yx(t,e,n,r,i){const s=t.getGraph(e.version),o=[],a=new Set;for(;n.size>0;)l(Fe(n.values().next().value));return o;function l(u){if(r.has(u)||i.has(u)){n.delete(u);return}if(a.has(u))return;const c=s.nodeToNodeSubscriptions.get(u);if(c)for(const d of c)l(d);a.add(u),n.delete(u),o.push(u)}}function Xx(t,e,n){if(!Ae("recoil_memory_managament_2020"))return;Kx(t,n);const r=t.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const i=zT(n);for(const l of i){var s;(s=r.retention.nodesRetainedByZone.get(l))===null||s===void 0||s.delete(n)}e.atomValues.delete(n),e.dirtyAtoms.delete(n),e.nonvalidatedAtoms.delete(n);const o=r.graphsByVersion.get(e.version);if(o){const l=o.nodeDeps.get(n);if(l!==void 0){o.nodeDeps.delete(n);for(const u of l){var a;(a=o.nodeToNodeSubscriptions.get(u))===null||a===void 0||a.delete(n)}}o.nodeToNodeSubscriptions.delete(n)}qx(n)}function Jx(t,e){var n;return(n=t.retention.nodesRetainedByZone.get(e))!==null&&n!==void 0?n:FT}function zT(t){const e=jT(t).retainedBy;return e===void 0||e==="components"||e==="recoilRoot"?[]:e instanceof UT?[e]:e}function Zx(t,e){const n=t.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(e):BT(t,new Set([e]))}function eP(t,e,n){var r;if(!Ae("recoil_memory_managament_2020"))return;const i=t.getState().retention.referenceCounts,s=((r=i.get(e))!==null&&r!==void 0?r:0)+n;s===0?WT(t,e):i.set(e,s)}function WT(t,e){if(!Ae("recoil_memory_managament_2020"))return;t.getState().retention.referenceCounts.delete(e),Zx(t,e)}function tP(t){if(!Ae("recoil_memory_managament_2020"))return;const e=t.getState();BT(t,e.retention.retainablesToCheckForRelease),e.retention.retainablesToCheckForRelease.clear()}function nP(t){return t===void 0?"recoilRoot":t}var Ui={SUSPENSE_TIMEOUT_MS:Gx,updateRetainCount:eP,updateRetainCountToZero:WT,releaseScheduledRetainablesNow:tP,retainedByOptionWithDefault:nP};const{unstable_batchedUpdates:rP}=Yk;var iP={unstable_batchedUpdates:rP};const{unstable_batchedUpdates:sP}=iP;var oP={unstable_batchedUpdates:sP};const{batchStart:aP}=Wn,{unstable_batchedUpdates:lP}=oP;let qm=lP||(t=>t());const uP=t=>{qm=t},cP=()=>qm,hP=t=>{qm(()=>{let e=()=>{};try{e=aP(),t()}finally{e()}})};var rh={getBatcher:cP,setBatcher:uP,batchUpdates:hP};function*dP(t){for(const e of t)for(const n of e)yield n}var HT=dP;const KT=typeof Window>"u"||typeof window>"u",fP=t=>!KT&&(t===window||t instanceof Window),pP=typeof navigator<"u"&&navigator.product==="ReactNative";var ih={isSSR:KT,isReactNative:pP,isWindow:fP};function mP(t,e){let n;return(...r)=>{n||(n={});const i=e(...r);return Object.hasOwnProperty.call(n,i)||(n[i]=t(...r)),n[i]}}function gP(t,e){let n,r;return(...i)=>{const s=e(...i);return n===s||(n=s,r=t(...i)),r}}function yP(t,e){let n,r;return[(...o)=>{const a=e(...o);return n===a||(n=a,r=t(...o)),r},()=>{n=null}]}var vP={memoizeWithArgsHash:mP,memoizeOneWithArgsHash:gP,memoizeOneWithArgsHashAndInvalidation:yP};const{batchUpdates:tp}=rh,{initializeNode:_P,peekNodeInfo:wP}=Zr,{graph:EP}=Xa,{getNextStoreID:TP}=eh,{DEFAULT_VALUE:SP,recoilValues:Jv,recoilValuesForKeys:Zv}=Qt,{AbstractRecoilValue:IP,getRecoilValueAsLoadable:RP,setRecoilValue:e_,setUnvalidatedRecoilValue:AP}=Wn,{updateRetainCount:Eu}=Ui,{setInvalidateMemoizedSnapshot:CP}=bT,{getNextTreeStateVersion:kP,makeEmptyStoreState:NP}=RT,{isSSR:xP}=ih,{memoizeOneWithArgsHashAndInvalidation:PP}=vP;class sh{constructor(e,n){ce(this,"_store",void 0),ce(this,"_refCount",1),ce(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),RP(this._store,r))),ce(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),ce(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];const o=this._store.getState().currentTree;return Zv(o.dirtyAtoms)}const i=this._store.getState().knownAtoms,s=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?Jv.values():r.isInitialized===!0?Zv(HT([i,s])):Wm(Jv.values(),({key:o})=>!i.has(o)&&!s.has(o))}),ce(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),wP(this._store,this._store.getState().currentTree,r))),ce(this,"map",r=>{this.checkRefCount_INTERNAL();const i=new np(this,tp);return r(i),i}),ce(this,"asyncMap",async r=>{this.checkRefCount_INTERNAL();const i=new np(this,tp);return i.retain(),await r(i),i.autoRelease_INTERNAL(),i}),this._store={storeID:TP(),parentStoreID:n,getState:()=>e,replaceState:r=>{e.currentTree=r(e.currentTree)},getGraph:r=>{const i=e.graphsByVersion;if(i.has(r))return Fe(i.get(r));const s=EP();return i.set(r,s),s},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw de("Cannot subscribe to Snapshots")}};for(const r of this._store.getState().knownAtoms)_P(this._store,r,"get"),Eu(this._store,r,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0,this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){xP||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(e=>e()),this._store.getState().nodeCleanupFunctions.clear(),!Ae("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){Ae("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function qT(t,e,n=!1){const r=t.getState(),i=n?kP():e.version;return{currentTree:{version:n?i:e.version,stateID:n?i:e.stateID,transactionMetadata:{...e.transactionMetadata},dirtyAtoms:new Set(e.dirtyAtoms),atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(i,t.getGraph(e.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(Zc(r.nodeCleanupFunctions.entries(),([s])=>[s,()=>{}]))}}function bP(t){const e=new sh(NP());return t!=null?e.map(t):e}const[t_,GT]=PP((t,e)=>{var n;const r=t.getState(),i=e==="latest"?(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree:Fe(r.previousTree);return new sh(qT(t,i),t.storeID)},(t,e)=>{var n,r;return String(e)+String(t.storeID)+String((n=t.getState().nextTree)===null||n===void 0?void 0:n.version)+String(t.getState().currentTree.version)+String((r=t.getState().previousTree)===null||r===void 0?void 0:r.version)});CP(GT);function DP(t,e="latest"){const n=t_(t,e);return n.isRetained()?n:(GT(),t_(t,e))}class np extends sh{constructor(e,n){super(qT(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),ce(this,"_batch",void 0),ce(this,"set",(r,i)=>{this.checkRefCount_INTERNAL();const s=this.getStore_INTERNAL();this._batch(()=>{Eu(s,r.key,1),e_(this.getStore_INTERNAL(),r,i)})}),ce(this,"reset",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();this._batch(()=>{Eu(i,r.key,1),e_(this.getStore_INTERNAL(),r,SP)})}),ce(this,"setUnvalidatedAtomValues_DEPRECATED",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();tp(()=>{for(const[s,o]of r.entries())Eu(i,s,1),AP(i,new IP(s),o)})}),this._batch=n}}var oh={Snapshot:sh,MutableSnapshot:np,freshSnapshot:bP,cloneSnapshot:DP},VP=oh.Snapshot,LP=oh.MutableSnapshot,OP=oh.freshSnapshot,MP=oh.cloneSnapshot,ah=Object.freeze({__proto__:null,Snapshot:VP,MutableSnapshot:LP,freshSnapshot:OP,cloneSnapshot:MP});function $P(...t){const e=new Set;for(const n of t)for(const r of n)e.add(r);return e}var jP=$P;const{useRef:UP}=Ve;function FP(t){const e=UP(t);return e.current===t&&typeof t=="function"&&(e.current=t()),e}var n_=FP;const{getNextTreeStateVersion:BP,makeEmptyStoreState:QT}=RT,{cleanUpNode:zP,getDownstreamNodes:WP,initializeNode:HP,setNodeValue:KP,setUnvalidatedAtomValue_DEPRECATED:qP}=Zr,{graph:GP}=Xa,{cloneGraph:QP}=Xa,{getNextStoreID:YT}=eh,{createMutableSource:Dd,reactMode:XT}=Ya,{applyAtomValueWrites:YP}=Wn,{releaseScheduledRetainablesNow:JT}=Ui,{freshSnapshot:XP}=ah,{useCallback:JP,useContext:ZT,useEffect:rp,useMemo:ZP,useRef:eb,useState:tb}=Ve;function To(){throw de("This component must be used inside a <RecoilRoot> component.")}const eS=Object.freeze({storeID:YT(),getState:To,replaceState:To,getGraph:To,subscribeToTransactions:To,addTransactionMetadata:To});let ip=!1;function r_(t){if(ip)throw de("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const e=t.getState();if(e.nextTree===null){Ae("recoil_memory_managament_2020")&&Ae("recoil_release_on_cascading_update_killswitch_2021")&&e.commitDepth>0&&JT(t);const n=e.currentTree.version,r=BP();e.nextTree={...e.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},e.graphsByVersion.set(r,QP(Fe(e.graphsByVersion.get(n))))}}const tS=Ve.createContext({current:eS}),lh=()=>ZT(tS),nS=Ve.createContext(null);function nb(){return ZT(nS)}function Gm(t,e,n){const r=WP(t,n,n.dirtyAtoms);for(const i of r){const s=e.nodeToComponentSubscriptions.get(i);if(s)for(const[o,[a,l]]of s)l(n)}}function rS(t){const e=t.getState(),n=e.currentTree,r=n.dirtyAtoms;if(r.size){for(const[i,s]of e.nodeTransactionSubscriptions)if(r.has(i))for(const[o,a]of s)a(t);for(const[i,s]of e.transactionSubscriptions)s(t);(!XT().early||e.suspendedComponentResolvers.size>0)&&(Gm(t,e,n),e.suspendedComponentResolvers.forEach(i=>i()),e.suspendedComponentResolvers.clear())}e.queuedComponentCallbacks_DEPRECATED.forEach(i=>i(n)),e.queuedComponentCallbacks_DEPRECATED.splice(0,e.queuedComponentCallbacks_DEPRECATED.length)}function rb(t){const e=t.getState();e.commitDepth++;try{const{nextTree:n}=e;if(n==null)return;e.previousTree=e.currentTree,e.currentTree=n,e.nextTree=null,rS(t),e.previousTree!=null?e.graphsByVersion.delete(e.previousTree.version):jm("Ended batch with no previous state, which is unexpected","recoil"),e.previousTree=null,Ae("recoil_memory_managament_2020")&&n==null&&JT(t)}finally{e.commitDepth--}}function ib({setNotifyBatcherOfChange:t}){const e=lh(),[,n]=tb([]);return t(()=>n({})),rp(()=>(t(()=>n({})),()=>{t(()=>{})}),[t]),rp(()=>{ON.enqueueExecution("Batcher",()=>{rb(e.current)})}),null}function sb(t,e){const n=QT();return e({set:(r,i)=>{const s=n.currentTree,o=KP(t,s,r.key,i),a=new Set(o.keys()),l=s.nonvalidatedAtoms.clone();for(const u of a)l.delete(u);n.currentTree={...s,dirtyAtoms:jP(s.dirtyAtoms,a),atomValues:YP(s.atomValues,o),nonvalidatedAtoms:l}},setUnvalidatedAtomValues:r=>{r.forEach((i,s)=>{n.currentTree=qP(n.currentTree,s,i)})}}),n}function ob(t){const e=XP(t),n=e.getStore_INTERNAL().getState();return e.retain(),n.nodeCleanupFunctions.forEach(r=>r()),n.nodeCleanupFunctions.clear(),n}let i_=0;function ab({initializeState_DEPRECATED:t,initializeState:e,store_INTERNAL:n,children:r}){let i;const s=g=>{const y=i.current.graphsByVersion;if(y.has(g))return Fe(y.get(g));const _=GP();return y.set(g,_),_},o=(g,y)=>{if(y==null){const{transactionSubscriptions:_}=d.current.getState(),E=i_++;return _.set(E,g),{release:()=>{_.delete(E)}}}else{const{nodeTransactionSubscriptions:_}=d.current.getState();_.has(y)||_.set(y,new Map);const E=i_++;return Fe(_.get(y)).set(E,g),{release:()=>{const m=_.get(y);m&&(m.delete(E),m.size===0&&_.delete(y))}}}},a=g=>{r_(d.current);for(const y of Object.keys(g))Fe(d.current.getState().nextTree).transactionMetadata[y]=g[y]},l=g=>{r_(d.current);const y=Fe(i.current.nextTree);let _;try{ip=!0,_=g(y)}finally{ip=!1}_!==y&&(i.current.nextTree=_,XT().early&&Gm(d.current,i.current,_),Fe(u.current)())},u=eb(null),c=JP(g=>{u.current=g},[u]),d=n_(()=>n??{storeID:YT(),getState:()=>i.current,replaceState:l,getGraph:s,subscribeToTransactions:o,addTransactionMetadata:a});n!=null&&(d.current=n),i=n_(()=>t!=null?sb(d.current,t):e!=null?ob(e):QT());const f=ZP(()=>Dd==null?void 0:Dd(i,()=>i.current.currentTree.version),[i]);return rp(()=>{const g=d.current;for(const y of new Set(g.getState().knownAtoms))HP(g,y,"get");return()=>{for(const y of g.getState().knownAtoms)zP(g,y)}},[d]),Ve.createElement(tS.Provider,{value:d},Ve.createElement(nS.Provider,{value:f},Ve.createElement(ib,{setNotifyBatcherOfChange:c}),r))}function lb(t){const{override:e,...n}=t,r=lh();return e===!1&&r.current!==eS?t.children:Ve.createElement(ab,n)}function ub(){return lh().current.storeID}var fr={RecoilRoot:lb,useStoreRef:lh,useRecoilMutableSource:nb,useRecoilStoreID:ub,notifyComponents_FOR_TESTING:Gm,sendEndOfBatchNotifications_FOR_TESTING:rS};function cb(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}var hb=cb;const{useEffect:db,useRef:fb}=Ve;function pb(t){const e=fb();return db(()=>{e.current=t}),e.current}var iS=pb;const{useStoreRef:mb}=fr,{SUSPENSE_TIMEOUT_MS:gb}=Ui,{updateRetainCount:So}=Ui,{RetentionZone:yb}=th,{useEffect:vb,useRef:_b}=Ve,{isSSR:s_}=ih;function wb(t){if(Ae("recoil_memory_managament_2020"))return Eb(t)}function Eb(t){const n=(Array.isArray(t)?t:[t]).map(o=>o instanceof yb?o:o.key),r=mb();vb(()=>{if(!Ae("recoil_memory_managament_2020"))return;const o=r.current;if(i.current&&!s_)window.clearTimeout(i.current),i.current=null;else for(const a of n)So(o,a,1);return()=>{for(const a of n)So(o,a,-1)}},[r,...n]);const i=_b(),s=iS(n);if(!s_&&(s===void 0||!hb(s,n))){const o=r.current;for(const a of n)So(o,a,1);if(s)for(const a of s)So(o,a,-1);i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{i.current=null;for(const a of n)So(o,a,-1)},gb)}}var Qm=wb;function Tb(){return"<component name not available>"}var Za=Tb;const{batchUpdates:Sb}=rh,{DEFAULT_VALUE:sS}=Qt,{currentRendererSupportsUseSyncExternalStore:Ib,reactMode:Qs,useMutableSource:Rb,useSyncExternalStore:Ab}=Ya,{useRecoilMutableSource:Cb,useStoreRef:Hn}=fr,{AbstractRecoilValue:sp,getRecoilValueAsLoadable:el,setRecoilValue:nc,setUnvalidatedRecoilValue:kb,subscribeToRecoilValue:Ds}=Wn,{useCallback:Gt,useEffect:Vs,useMemo:oS,useRef:Zo,useState:Ym}=Ve,{setByAddingToSet:Nb}=CT,{isSSR:xb}=ih;function Xm(t,e,n){if(t.state==="hasValue")return t.contents;throw t.state==="loading"?new Promise(i=>{const s=n.current.getState().suspendedComponentResolvers;s.add(i),xb&&be(t.contents)&&t.contents.finally(()=>{s.delete(i)})}):t.state==="hasError"?t.contents:de(`Invalid value of loadable atom "${e.key}"`)}function Pb(){const t=Za(),e=Hn(),[,n]=Ym([]),r=Zo(new Set);r.current=new Set;const i=Zo(new Set),s=Zo(new Map),o=Gt(l=>{const u=s.current.get(l);u&&(u.release(),s.current.delete(l))},[s]),a=Gt((l,u)=>{s.current.has(u)&&n([])},[]);return Vs(()=>{const l=e.current;Xo(r.current,i.current).forEach(u=>{if(s.current.has(u))return;const c=Ds(l,new sp(u),f=>a(f,u),t);s.current.set(u,c),l.getState().nextTree?l.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{a(l.getState(),u)}):a(l.getState(),u)}),Xo(i.current,r.current).forEach(u=>{o(u)}),i.current=r.current}),Vs(()=>{const l=s.current;return Xo(r.current,new Set(l.keys())).forEach(u=>{const c=Ds(e.current,new sp(u),d=>a(d,u),t);l.set(u,c)}),()=>l.forEach((u,c)=>o(c))},[t,e,o,a]),oS(()=>{function l(y){return _=>{nc(e.current,y,_)}}function u(y){return()=>nc(e.current,y,sS)}function c(y){var _;r.current.has(y.key)||(r.current=Nb(r.current,y.key));const E=e.current.getState();return el(e.current,y,Qs().early&&(_=E.nextTree)!==null&&_!==void 0?_:E.currentTree)}function d(y){const _=c(y);return Xm(_,y,e)}function f(y){return[d(y),l(y)]}function g(y){return[c(y),l(y)]}return{getRecoilValue:d,getRecoilValueLoadable:c,getRecoilState:f,getRecoilStateLoadable:g,getSetRecoilState:l,getResetRecoilState:u}},[r,e])}const bb={current:0};function Db(t){const e=Hn(),n=Za(),r=Gt(()=>{var a;const l=e.current,u=l.getState(),c=Qs().early&&(a=u.nextTree)!==null&&a!==void 0?a:u.currentTree;return{loadable:el(l,t,c),key:t.key}},[e,t]),i=Gt(a=>{let l;return()=>{var u,c;const d=a();return(u=l)!==null&&u!==void 0&&u.loadable.is(d.loadable)&&((c=l)===null||c===void 0?void 0:c.key)===d.key?l:(l=d,d)}},[]),s=oS(()=>i(r),[r,i]),o=Gt(a=>{const l=e.current;return Ds(l,t,a,n).release},[e,t,n]);return Ab(o,s,s).loadable}function Vb(t){const e=Hn(),n=Gt(()=>{var u;const c=e.current,d=c.getState(),f=Qs().early&&(u=d.nextTree)!==null&&u!==void 0?u:d.currentTree;return el(c,t,f)},[e,t]),r=Gt(()=>n(),[n]),i=Za(),s=Gt((u,c)=>{const d=e.current;return Ds(d,t,()=>{if(!Ae("recoil_suppress_rerender_in_callback"))return c();const g=n();l.current.is(g)||c(),l.current=g},i).release},[e,t,i,n]),o=Cb();if(o==null)throw de("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const a=Rb(o,r,s),l=Zo(a);return Vs(()=>{l.current=a}),a}function op(t){const e=Hn(),n=Za(),r=Gt(()=>{var l;const u=e.current,c=u.getState(),d=Qs().early&&(l=c.nextTree)!==null&&l!==void 0?l:c.currentTree;return el(u,t,d)},[e,t]),i=Gt(()=>({loadable:r(),key:t.key}),[r,t.key]),s=Gt(l=>{const u=i();return l.loadable.is(u.loadable)&&l.key===u.key?l:u},[i]);Vs(()=>{const l=Ds(e.current,t,u=>{a(s)},n);return a(s),l.release},[n,t,e,s]);const[o,a]=Ym(i);return o.key!==t.key?i().loadable:o.loadable}function Lb(t){const e=Hn(),[,n]=Ym([]),r=Za(),i=Gt(()=>{var a;const l=e.current,u=l.getState(),c=Qs().early&&(a=u.nextTree)!==null&&a!==void 0?a:u.currentTree;return el(l,t,c)},[e,t]),s=i(),o=Zo(s);return Vs(()=>{o.current=s}),Vs(()=>{const a=e.current,l=a.getState(),u=Ds(a,t,d=>{var f;if(!Ae("recoil_suppress_rerender_in_callback"))return n([]);const g=i();(f=o.current)!==null&&f!==void 0&&f.is(g)||n(g),o.current=g},r);if(l.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{o.current=null,n([])});else{var c;if(!Ae("recoil_suppress_rerender_in_callback"))return n([]);const d=i();(c=o.current)!==null&&c!==void 0&&c.is(d)||n(d),o.current=d}return u.release},[r,i,t,e]),s}function Jm(t){return Ae("recoil_memory_managament_2020")&&Qm(t),{TRANSITION_SUPPORT:op,SYNC_EXTERNAL_STORE:Ib()?Db:op,MUTABLE_SOURCE:Vb,LEGACY:Lb}[Qs().mode](t)}function aS(t){const e=Hn(),n=Jm(t);return Xm(n,t,e)}function uh(t){const e=Hn();return Gt(n=>{nc(e.current,t,n)},[e,t])}function Ob(t){const e=Hn();return Gt(()=>{nc(e.current,t,sS)},[e,t])}function Mb(t){return[aS(t),uh(t)]}function $b(t){return[Jm(t),uh(t)]}function jb(){const t=Hn();return(e,n={})=>{Sb(()=>{t.current.addTransactionMetadata(n),e.forEach((r,i)=>kb(t.current,new sp(i),r))})}}function lS(t){return Ae("recoil_memory_managament_2020")&&Qm(t),op(t)}function uS(t){const e=Hn(),n=lS(t);return Xm(n,t,e)}function Ub(t){return[uS(t),uh(t)]}var Fb={recoilComponentGetRecoilValueCount_FOR_TESTING:bb,useRecoilInterface:Pb,useRecoilState:Mb,useRecoilStateLoadable:$b,useRecoilValue:aS,useRecoilValueLoadable:Jm,useResetRecoilState:Ob,useSetRecoilState:uh,useSetUnvalidatedAtomValues:jb,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:lS,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:uS,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:Ub};function Bb(t,e){const n=new Map;for(const[r,i]of t)e(i,r)&&n.set(r,i);return n}var zb=Bb;function Wb(t,e){const n=new Set;for(const r of t)e(r)&&n.add(r);return n}var Hb=Wb;function Kb(...t){const e=new Map;for(let n=0;n<t.length;n++){const r=t[n].keys();let i;for(;!(i=r.next()).done;)e.set(i.value,t[n].get(i.value))}return e}var qb=Kb;const{batchUpdates:Gb}=rh,{DEFAULT_VALUE:Qb,getNode:cS,nodes:Yb}=Qt,{useStoreRef:Zm}=fr,{AbstractRecoilValue:Xb,setRecoilValueLoadable:Jb}=Wn,{SUSPENSE_TIMEOUT_MS:Zb}=Ui,{cloneSnapshot:rc}=ah,{useCallback:ch,useEffect:hS,useRef:o_,useState:eD}=Ve,{isSSR:a_}=ih;function hh(t){const e=Zm();hS(()=>e.current.subscribeToTransactions(t).release,[t,e])}function l_(t){const e=t.atomValues.toMap(),n=tc(zb(e,(r,i)=>{const o=cS(i).persistence_UNSTABLE;return o!=null&&o.type!=="none"&&r.state==="hasValue"}),r=>r.contents);return qb(t.nonvalidatedAtoms.toMap(),n)}function tD(t){hh(ch(e=>{let n=e.getState().previousTree;const r=e.getState().currentTree;n||(n=e.getState().currentTree);const i=l_(r),s=l_(n),o=tc(Yb,l=>{var u,c,d,f;return{persistence_UNSTABLE:{type:(u=(c=l.persistence_UNSTABLE)===null||c===void 0?void 0:c.type)!==null&&u!==void 0?u:"none",backButton:(d=(f=l.persistence_UNSTABLE)===null||f===void 0?void 0:f.backButton)!==null&&d!==void 0?d:!1}}}),a=Hb(r.dirtyAtoms,l=>i.has(l)||s.has(l));t({atomValues:i,previousAtomValues:s,atomInfo:o,modifiedAtoms:a,transactionMetadata:{...r.transactionMetadata}})},[t]))}function nD(t){hh(ch(e=>{const n=rc(e,"latest"),r=rc(e,"previous");t({snapshot:n,previousSnapshot:r})},[t]))}function rD(){const t=Zm(),[e,n]=eD(()=>rc(t.current)),r=iS(e),i=o_(),s=o_();if(hh(ch(a=>n(rc(a)),[])),hS(()=>{const a=e.retain();if(i.current&&!a_){var l;window.clearTimeout(i.current),i.current=null,(l=s.current)===null||l===void 0||l.call(s),s.current=null}return()=>{window.setTimeout(a,10)}},[e]),r!==e&&!a_){if(i.current){var o;window.clearTimeout(i.current),i.current=null,(o=s.current)===null||o===void 0||o.call(s),s.current=null}s.current=e.retain(),i.current=window.setTimeout(()=>{var a;i.current=null,(a=s.current)===null||a===void 0||a.call(s),s.current=null},Zb)}return e}function dS(t,e){var n;const r=t.getState(),i=(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree,s=e.getStore_INTERNAL().getState().currentTree;Gb(()=>{const o=new Set;for(const u of[i.atomValues.keys(),s.atomValues.keys()])for(const c of u){var a,l;((a=i.atomValues.get(c))===null||a===void 0?void 0:a.contents)!==((l=s.atomValues.get(c))===null||l===void 0?void 0:l.contents)&&cS(c).shouldRestoreFromSnapshots&&o.add(c)}o.forEach(u=>{Jb(t,new Xb(u),s.atomValues.has(u)?Fe(s.atomValues.get(u)):Qb)}),t.replaceState(u=>({...u,stateID:e.getID()}))})}function iD(){const t=Zm();return ch(e=>dS(t.current,e),[t])}var fS={useRecoilSnapshot:rD,gotoSnapshot:dS,useGotoRecoilSnapshot:iD,useRecoilTransactionObserver:nD,useTransactionObservation_DEPRECATED:tD,useTransactionSubscription_DEPRECATED:hh};const{peekNodeInfo:sD}=Zr,{useStoreRef:oD}=fr;function aD(){const t=oD();return({key:e})=>sD(t.current,t.current.getState().currentTree,e)}var lD=aD;const{reactMode:uD}=Ya,{RecoilRoot:cD,useStoreRef:hD}=fr,{useMemo:dD}=Ve;function fD(){uD().mode==="MUTABLE_SOURCE"&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const t=hD().current;return dD(()=>{function e({children:n}){return Ve.createElement(cD,{store_INTERNAL:t},n)}return e},[t])}var pD=fD;const{loadableWithValue:mD}=Qa,{initializeNode:gD}=Zr,{DEFAULT_VALUE:yD,getNode:vD}=Qt,{copyTreeState:_D,getRecoilValueAsLoadable:wD,invalidateDownstreams:ED,writeLoadableToTreeState:TD}=Wn;function u_(t){return vD(t.key).nodeType==="atom"}class SD{constructor(e,n){ce(this,"_store",void 0),ce(this,"_treeState",void 0),ce(this,"_changes",void 0),ce(this,"get",r=>{if(this._changes.has(r.key))return this._changes.get(r.key);if(!u_(r))throw de("Reading selectors within atomicUpdate is not supported");const i=wD(this._store,r,this._treeState);if(i.state==="hasValue")return i.contents;throw i.state==="hasError"?i.contents:de(`Expected Recoil atom ${r.key} to have a value, but it is in a loading state.`)}),ce(this,"set",(r,i)=>{if(!u_(r))throw de("Setting selectors within atomicUpdate is not supported");if(typeof i=="function"){const s=this.get(r);this._changes.set(r.key,i(s))}else gD(this._store,r.key,"set"),this._changes.set(r.key,i)}),ce(this,"reset",r=>{this.set(r,yD)}),this._store=e,this._treeState=n,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const e=_D(this._treeState);for(const[n,r]of this._changes)TD(e,n,mD(r));return ED(this._store,e),e}}function ID(t){return e=>{t.replaceState(n=>{const r=new SD(t,n);return e(r),r.newTreeState_INTERNAL()})}}var RD={atomicUpdater:ID},AD=RD.atomicUpdater,pS=Object.freeze({__proto__:null,atomicUpdater:AD});function CD(t,e){if(!t)throw new Error(e)}var kD=CD,Vo=kD;const{atomicUpdater:ND}=pS,{batchUpdates:xD}=rh,{DEFAULT_VALUE:PD}=Qt,{useStoreRef:bD}=fr,{refreshRecoilValue:DD,setRecoilValue:c_}=Wn,{cloneSnapshot:VD}=ah,{gotoSnapshot:LD}=fS,{useCallback:OD}=Ve;class mS{}const MD=new mS;function gS(t,e,n,r){let i=MD,s;if(xD(()=>{const a="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw de(a);const l=kT({...r??{},set:(c,d)=>c_(t,c,d),reset:c=>c_(t,c,PD),refresh:c=>DD(t,c),gotoSnapshot:c=>LD(t,c),transact_UNSTABLE:c=>ND(t)(c)},{snapshot:()=>{const c=VD(t);return s=c.retain(),c}}),u=e(l);if(typeof u!="function")throw de(a);i=u(...n)}),i instanceof mS&&Vo(!1),be(i))i=i.finally(()=>{var a;(a=s)===null||a===void 0||a()});else{var o;(o=s)===null||o===void 0||o()}return i}function $D(t,e){const n=bD();return OD((...r)=>gS(n.current,t,r),e!=null?[...e,n]:void 0)}var yS={recoilCallback:gS,useRecoilCallback:$D};const{useStoreRef:jD}=fr,{refreshRecoilValue:UD}=Wn,{useCallback:FD}=Ve;function BD(t){const e=jD();return FD(()=>{const n=e.current;UD(n,t)},[t,e])}var zD=BD;const{atomicUpdater:WD}=pS,{useStoreRef:HD}=fr,{useMemo:KD}=Ve;function qD(t,e){const n=HD();return KD(()=>(...r)=>{WD(n.current)(s=>{t(s)(...r)})},e!=null?[...e,n]:void 0)}var GD=qD;class QD{constructor(e){ce(this,"value",void 0),this.value=e}}var YD={WrappedValue:QD},XD=YD.WrappedValue,vS=Object.freeze({__proto__:null,WrappedValue:XD});const{isFastRefreshEnabled:JD}=Ya;class h_ extends Error{}class ZD{constructor(e){var n,r,i;ce(this,"_name",void 0),ce(this,"_numLeafs",void 0),ce(this,"_root",void 0),ce(this,"_onHit",void 0),ce(this,"_onSet",void 0),ce(this,"_mapNodeValue",void 0),this._name=e==null?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=(n=e==null?void 0:e.onHit)!==null&&n!==void 0?n:()=>{},this._onSet=(r=e==null?void 0:e.onSet)!==null&&r!==void 0?r:()=>{},this._mapNodeValue=(i=e==null?void 0:e.mapNodeValue)!==null&&i!==void 0?i:s=>s}size(){return this._numLeafs}root(){return this._root}get(e,n){var r;return(r=this.getLeafNode(e,n))===null||r===void 0?void 0:r.value}getLeafNode(e,n){if(this._root==null)return;let r=this._root;for(;r;){if(n==null||n.onNodeVisit(r),r.type==="leaf")return this._onHit(r),r;const i=this._mapNodeValue(e(r.nodeKey));r=r.branches.get(i)}}set(e,n,r){const i=()=>{var s,o,a,l;let u,c;for(const[E,m]of e){var d,f,g;const p=this._root;if((p==null?void 0:p.type)==="leaf")throw this.invalidCacheError();const v=u;if(u=v?v.branches.get(c):p,u=(d=u)!==null&&d!==void 0?d:{type:"branch",nodeKey:E,parent:v,branches:new Map,branchKey:c},u.type!=="branch"||u.nodeKey!==E)throw this.invalidCacheError();v==null||v.branches.set(c,u),r==null||(f=r.onNodeVisit)===null||f===void 0||f.call(r,u),c=this._mapNodeValue(m),this._root=(g=this._root)!==null&&g!==void 0?g:u}const y=u?(s=u)===null||s===void 0?void 0:s.branches.get(c):this._root;if(y!=null&&(y.type!=="leaf"||y.branchKey!==c))throw this.invalidCacheError();const _={type:"leaf",value:n,parent:u,branchKey:c};(o=u)===null||o===void 0||o.branches.set(c,_),this._root=(a=this._root)!==null&&a!==void 0?a:_,this._numLeafs++,this._onSet(_),r==null||(l=r.onNodeVisit)===null||l===void 0||l.call(r,_)};try{i()}catch(s){if(s instanceof h_)this.clear(),i();else throw s}}delete(e){const n=this.root();if(!n)return!1;if(e===n)return this._root=null,this._numLeafs=0,!0;let r=e.parent,i=e.branchKey;for(;r;){var s;if(r.branches.delete(i),r===n)return r.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(r.branches.size>0)break;i=(s=r)===null||s===void 0?void 0:s.branchKey,r=r.parent}for(;r!==n;r=r.parent)if(r==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const e=JD()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw jm(e+(this._name!=null?` - ${this._name}`:"")),new h_}}var e2={TreeCache:ZD},t2=e2.TreeCache,_S=Object.freeze({__proto__:null,TreeCache:t2});class n2{constructor(e){var n;ce(this,"_maxSize",void 0),ce(this,"_size",void 0),ce(this,"_head",void 0),ce(this,"_tail",void 0),ce(this,"_map",void 0),ce(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(n=e.mapKey)!==null&&n!==void 0?n:r=>r}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const n=this._keyMapper(e),r=this._map.get(n);if(r)return this.set(e,r.value),r.value}set(e,n){const r=this._keyMapper(e);this._map.get(r)&&this.delete(e);const s=this.head(),o={key:e,right:s,left:null,value:n};s?s.left=o:this._tail=o,this._map.set(r,o),this._head=o,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const n=this._keyMapper(e);if(!this._size||!this._map.has(n))return;const r=Fe(this._map.get(n)),i=r.right,s=r.left;i&&(i.left=r.left),s&&(s.right=r.right),r===this.head()&&(this._head=i),r===this.tail()&&(this._tail=s),this._map.delete(n),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var r2={LRUCache:n2},i2=r2.LRUCache,wS=Object.freeze({__proto__:null,LRUCache:i2});const{LRUCache:s2}=wS,{TreeCache:o2}=_S;function a2({name:t,maxSize:e,mapNodeValue:n=r=>r}){const r=new s2({maxSize:e}),i=new o2({name:t,mapNodeValue:n,onHit:s=>{r.set(s,!0)},onSet:s=>{const o=r.tail();r.set(s,!0),o&&i.size()>e&&i.delete(o.key)}});return i}var d_=a2;function _n(t,e,n){if(typeof t=="string"&&!t.includes('"')&&!t.includes("\\"))return`"${t}"`;switch(typeof t){case"undefined":return"";case"boolean":return t?"true":"false";case"number":case"symbol":return String(t);case"string":return JSON.stringify(t);case"function":if((e==null?void 0:e.allowFunctions)!==!0)throw de("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${t.name})__`}if(t===null)return"null";if(typeof t!="object"){var r;return(r=JSON.stringify(t))!==null&&r!==void 0?r:""}if(be(t))return"__PROMISE__";if(Array.isArray(t))return`[${t.map((i,s)=>_n(i,e,s.toString()))}]`;if(typeof t.toJSON=="function")return _n(t.toJSON(n),e,n);if(t instanceof Map){const i={};for(const[s,o]of t)i[typeof s=="string"?s:_n(s,e)]=o;return _n(i,e,n)}return t instanceof Set?_n(Array.from(t).sort((i,s)=>_n(i,e).localeCompare(_n(s,e))),e,n):Symbol!==void 0&&t[Symbol.iterator]!=null&&typeof t[Symbol.iterator]=="function"?_n(Array.from(t),e,n):`{${Object.keys(t).filter(i=>t[i]!==void 0).sort().map(i=>`${_n(i,e)}:${_n(t[i],e,i)}`).join(",")}}`}function l2(t,e={allowFunctions:!1}){return _n(t,e)}var dh=l2;const{TreeCache:u2}=_S,ql={equality:"reference",eviction:"keep-all",maxSize:1/0};function c2({equality:t=ql.equality,eviction:e=ql.eviction,maxSize:n=ql.maxSize}=ql,r){const i=h2(t);return d2(e,n,i,r)}function h2(t){switch(t){case"reference":return e=>e;case"value":return e=>dh(e)}throw de(`Unrecognized equality policy ${t}`)}function d2(t,e,n,r){switch(t){case"keep-all":return new u2({name:r,mapNodeValue:n});case"lru":return d_({name:r,maxSize:Fe(e),mapNodeValue:n});case"most-recent":return d_({name:r,maxSize:1,mapNodeValue:n})}throw de(`Unrecognized eviction policy ${t}`)}var f2=c2;function p2(t){return()=>null}var m2={startPerfBlock:p2};const{isLoadable:g2,loadableWithError:Gl,loadableWithPromise:y2,loadableWithValue:Vd}=Qa,{WrappedValue:ES}=vS,{getNodeLoadable:Ql,peekNodeLoadable:v2,setNodeValue:_2}=Zr,{saveDepsToStore:w2}=Xa,{DEFAULT_VALUE:E2,getConfigDeletionHandler:T2,getNode:S2,registerNode:f_}=Qt,{isRecoilValue:I2}=bs,{markRecoilValueModified:p_}=Wn,{retainedByOptionWithDefault:R2}=Ui,{recoilCallback:A2}=yS,{startPerfBlock:C2}=m2;class TS{}const Io=new TS,Ro=[],Yl=new Map,k2=(()=>{let t=0;return()=>t++})();function SS(t){let e=null;const{key:n,get:r,cachePolicy_UNSTABLE:i}=t,s=t.set!=null?t.set:void 0,o=new Set,a=f2(i??{equality:"reference",eviction:"keep-all"},n),l=R2(t.retainedBy_UNSTABLE),u=new Map;let c=0;function d(){return!Ae("recoil_memory_managament_2020")||c>0}function f(I){return I.getState().knownSelectors.add(n),c++,()=>{c--}}function g(){return T2(n)!==void 0&&!d()}function y(I,x,P,q,F){Ce(x,q,F),_(I,P)}function _(I,x){ye(I,x)&&X(I),m(x,!0)}function E(I,x){ye(I,x)&&(Fe(H(I)).stateVersions.clear(),m(x,!1))}function m(I,x){const P=Yl.get(I);if(P!=null){for(const q of P)p_(q,Fe(e));x&&Yl.delete(I)}}function p(I,x){let P=Yl.get(x);P==null&&Yl.set(x,P=new Set),P.add(I)}function v(I,x,P,q,F,ue){return x.then(fe=>{if(!d())throw X(I),Io;const J=Vd(fe);return y(I,P,F,J,q),fe}).catch(fe=>{if(!d())throw X(I),Io;if(be(fe))return T(I,fe,P,q,F,ue);const J=Gl(fe);throw y(I,P,F,J,q),fe})}function T(I,x,P,q,F,ue){return x.then(fe=>{if(!d())throw X(I),Io;ue.loadingDepKey!=null&&ue.loadingDepPromise===x?P.atomValues.set(ue.loadingDepKey,Vd(fe)):I.getState().knownSelectors.forEach(Re=>{P.atomValues.delete(Re)});const J=N(I,P);if(J&&J.state!=="loading"){if((ye(I,F)||H(I)==null)&&_(I,F),J.state==="hasValue")return J.contents;throw J.contents}if(!ye(I,F)){const Re=Z(I,P);if(Re!=null)return Re.loadingLoadable.contents}const[Me,st]=C(I,P,F);if(Me.state!=="loading"&&y(I,P,F,Me,st),Me.state==="hasError")throw Me.contents;return Me.contents}).catch(fe=>{if(fe instanceof TS)throw Io;if(!d())throw X(I),Io;const J=Gl(fe);throw y(I,P,F,J,q),fe})}function A(I,x,P,q){var F,ue,fe,J;if(ye(I,q)||x.version===((F=I.getState())===null||F===void 0||(ue=F.currentTree)===null||ue===void 0?void 0:ue.version)||x.version===((fe=I.getState())===null||fe===void 0||(J=fe.nextTree)===null||J===void 0?void 0:J.version)){var Me,st,Re;w2(n,P,I,(Me=(st=I.getState())===null||st===void 0||(Re=st.nextTree)===null||Re===void 0?void 0:Re.version)!==null&&Me!==void 0?Me:I.getState().currentTree.version)}for(const $e of P)o.add($e)}function C(I,x,P){const q=C2(n);let F=!0,ue=!0;const fe=()=>{q(),ue=!1};let J,Me=!1,st;const Re={loadingDepKey:null,loadingDepPromise:null},$e=new Map;function on({key:Vt}){const _t=Ql(I,x,Vt);switch($e.set(Vt,_t),F||(A(I,x,new Set($e.keys()),P),E(I,P)),_t.state){case"hasValue":return _t.contents;case"hasError":throw _t.contents;case"loading":throw Re.loadingDepKey=Vt,Re.loadingDepPromise=_t.contents,_t.contents}throw de("Invalid Loadable state")}const Kn=Vt=>(..._t)=>{if(ue)throw de("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return e==null&&Vo(!1),A2(I,Vt,_t,{node:e})};try{J=r({get:on,getCallback:Kn}),J=I2(J)?on(J):J,g2(J)&&(J.state==="hasError"&&(Me=!0),J=J.contents),be(J)?J=v(I,J,x,$e,P,Re).finally(fe):fe(),J=J instanceof ES?J.value:J}catch(Vt){J=Vt,be(J)?J=T(I,J,x,$e,P,Re).finally(fe):(Me=!0,fe())}return Me?st=Gl(J):be(J)?st=y2(J):st=Vd(J),F=!1,ae(I,P,$e),A(I,x,new Set($e.keys()),P),[st,$e]}function N(I,x){let P=x.atomValues.get(n);if(P!=null)return P;const q=new Set;try{P=a.get(ue=>(typeof ue!="string"&&Vo(!1),Ql(I,x,ue).contents),{onNodeVisit:ue=>{ue.type==="branch"&&ue.nodeKey!==n&&q.add(ue.nodeKey)}})}catch(ue){throw de(`Problem with cache lookup for selector "${n}": ${ue.message}`)}if(P){var F;x.atomValues.set(n,P),A(I,x,q,(F=H(I))===null||F===void 0?void 0:F.executionID)}return P}function L(I,x){const P=N(I,x);if(P!=null)return X(I),P;const q=Z(I,x);if(q!=null){var F;return((F=q.loadingLoadable)===null||F===void 0?void 0:F.state)==="loading"&&p(I,q.executionID),q.loadingLoadable}const ue=k2(),[fe,J]=C(I,x,ue);return fe.state==="loading"?(G(I,ue,fe,J,x),p(I,ue)):(X(I),Ce(x,fe,J)),fe}function Z(I,x){const P=HT([u.has(I)?[Fe(u.get(I))]:[],Zc(Wm(u,([F])=>F!==I),([,F])=>F)]);function q(F){for(const[ue,fe]of F)if(!Ql(I,x,ue).is(fe))return!0;return!1}for(const F of P){if(F.stateVersions.get(x.version)||!q(F.depValuesDiscoveredSoFarDuringAsyncWork))return F.stateVersions.set(x.version,!0),F;F.stateVersions.set(x.version,!1)}}function H(I){return u.get(I)}function G(I,x,P,q,F){u.set(I,{depValuesDiscoveredSoFarDuringAsyncWork:q,executionID:x,loadingLoadable:P,stateVersions:new Map([[F.version,!0]])})}function ae(I,x,P){if(ye(I,x)){const q=H(I);q!=null&&(q.depValuesDiscoveredSoFarDuringAsyncWork=P)}}function X(I){u.delete(I)}function ye(I,x){var P;return x===((P=H(I))===null||P===void 0?void 0:P.executionID)}function Oe(I){return Array.from(I.entries()).map(([x,P])=>[x,P.contents])}function Ce(I,x,P){I.atomValues.set(n,x);try{a.set(Oe(P),x)}catch(q){throw de(`Problem with setting cache for selector "${n}": ${q.message}`)}}function Be(I){if(Ro.includes(n)){const x=`Recoil selector has circular dependencies: ${Ro.slice(Ro.indexOf(n)).join("  ")}`;return Gl(de(x))}Ro.push(n);try{return I()}finally{Ro.pop()}}function O(I,x){const P=x.atomValues.get(n);return P??a.get(q=>{var F;return typeof q!="string"&&Vo(!1),(F=v2(I,x,q))===null||F===void 0?void 0:F.contents})}function Q(I,x){return Be(()=>L(I,x))}function ne(I){I.atomValues.delete(n)}function Ie(I,x){e==null&&Vo(!1);for(const q of o){var P;const F=S2(q);(P=F.clearCache)===null||P===void 0||P.call(F,I,x)}o.clear(),ne(x),a.clear(),p_(I,e)}return s!=null?e=f_({key:n,nodeType:"selector",peek:O,get:Q,set:(x,P,q)=>{let F=!1;const ue=new Map;function fe({key:Re}){if(F)throw de("Recoil: Async selector sets are not currently supported.");const $e=Ql(x,P,Re);if($e.state==="hasValue")return $e.contents;if($e.state==="loading"){const on=`Getting value of asynchronous atom or selector "${Re}" in a pending state while setting selector "${n}" is not yet supported.`;throw de(on)}else throw $e.contents}function J(Re,$e){if(F)throw de("Recoil: Async selector sets are not currently supported.");const on=typeof $e=="function"?$e(fe(Re)):$e;_2(x,P,Re.key,on).forEach((Vt,_t)=>ue.set(_t,Vt))}function Me(Re){J(Re,E2)}const st=s({set:J,get:fe,reset:Me},q);if(st!==void 0)throw be(st)?de("Recoil: Async selector sets are not currently supported."):de("Recoil: selector set should be a void function.");return F=!0,ue},init:f,invalidate:ne,clearCache:Ie,shouldDeleteConfigOnRelease:g,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l}):e=f_({key:n,nodeType:"selector",peek:O,get:Q,init:f,invalidate:ne,clearCache:Ie,shouldDeleteConfigOnRelease:g,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}SS.value=t=>new ES(t);var Ls=SS;const{isLoadable:N2,loadableWithError:Ld,loadableWithPromise:Od,loadableWithValue:Gi}=Qa,{WrappedValue:IS}=vS,{peekNodeInfo:x2}=Zr,{DEFAULT_VALUE:hi,DefaultValue:Er,getConfigDeletionHandler:RS,registerNode:P2,setConfigDeletionHandler:b2}=Qt,{isRecoilValue:D2}=bs,{getRecoilValueAsLoadable:V2,markRecoilValueModified:L2,setRecoilValue:m_,setRecoilValueLoadable:O2}=Wn,{retainedByOptionWithDefault:M2}=Ui,Ao=t=>t instanceof IS?t.value:t;function $2(t){const{key:e,persistence_UNSTABLE:n}=t,r=M2(t.retainedBy_UNSTABLE);let i=0;function s(p){return Od(p.then(v=>(o=Gi(v),v)).catch(v=>{throw o=Ld(v),v}))}let o=be(t.default)?s(t.default):N2(t.default)?t.default.state==="loading"?s(t.default.contents):t.default:Gi(Ao(t.default));o.contents;let a;const l=new Map;function u(p){return p}function c(p,v){const T=v.then(A=>{var C,N;return((N=((C=p.getState().nextTree)!==null&&C!==void 0?C:p.getState().currentTree).atomValues.get(e))===null||N===void 0?void 0:N.contents)===T&&m_(p,m,A),A}).catch(A=>{var C,N;throw((N=((C=p.getState().nextTree)!==null&&C!==void 0?C:p.getState().currentTree).atomValues.get(e))===null||N===void 0?void 0:N.contents)===T&&O2(p,m,Ld(A)),A});return T}function d(p,v,T){var A;i++;const C=()=>{var X;i--,(X=l.get(p))===null||X===void 0||X.forEach(ye=>ye()),l.delete(p)};if(p.getState().knownAtoms.add(e),o.state==="loading"){const X=()=>{var ye;((ye=p.getState().nextTree)!==null&&ye!==void 0?ye:p.getState().currentTree).atomValues.has(e)||L2(p,m)};o.contents.finally(X)}const N=(A=t.effects)!==null&&A!==void 0?A:t.effects_UNSTABLE;if(N!=null){let Be=function(x){if(ye&&x.key===e){const P=X;return P instanceof Er?f(p,v):be(P)?Od(P.then(q=>q instanceof Er?o.toPromise():q)):Gi(P)}return V2(p,x)},O=function(x){return Be(x).toPromise()},Q=function(x){var P;const q=x2(p,(P=p.getState().nextTree)!==null&&P!==void 0?P:p.getState().currentTree,x.key);return ye&&x.key===e&&!(X instanceof Er)?{...q,isSet:!0,loadable:Be(x)}:q};var H=Be,G=O,ae=Q;let X=hi,ye=!0,Oe=!1,Ce=null;const ne=x=>P=>{if(ye){const q=Be(m),F=q.state==="hasValue"?q.contents:hi;X=typeof P=="function"?P(F):P,be(X)&&(X=X.then(ue=>(Ce={effect:x,value:ue},ue)))}else{if(be(P))throw de("Setting atoms to async values is not implemented.");typeof P!="function"&&(Ce={effect:x,value:Ao(P)}),m_(p,m,typeof P=="function"?q=>{const F=Ao(P(q));return Ce={effect:x,value:F},F}:Ao(P))}},Ie=x=>()=>ne(x)(hi),I=x=>P=>{var q;const{release:F}=p.subscribeToTransactions(ue=>{var fe;let{currentTree:J,previousTree:Me}=ue.getState();Me||(Me=J);const st=(fe=J.atomValues.get(e))!==null&&fe!==void 0?fe:o;if(st.state==="hasValue"){var Re,$e,on,Kn;const Vt=st.contents,_t=(Re=Me.atomValues.get(e))!==null&&Re!==void 0?Re:o,kl=_t.state==="hasValue"?_t.contents:hi;(($e=Ce)===null||$e===void 0?void 0:$e.effect)!==x||((on=Ce)===null||on===void 0?void 0:on.value)!==Vt?P(Vt,kl,!J.atomValues.has(e)):((Kn=Ce)===null||Kn===void 0?void 0:Kn.effect)===x&&(Ce=null)}},e);l.set(p,[...(q=l.get(p))!==null&&q!==void 0?q:[],F])};for(const x of N)try{const P=x({node:m,storeID:p.storeID,parentStoreID_UNSTABLE:p.parentStoreID,trigger:T,setSelf:ne(x),resetSelf:Ie(x),onSet:I(x),getPromise:O,getLoadable:Be,getInfo_UNSTABLE:Q});if(P!=null){var L;l.set(p,[...(L=l.get(p))!==null&&L!==void 0?L:[],P])}}catch(P){X=P,Oe=!0}if(ye=!1,!(X instanceof Er)){var Z;const x=Oe?Ld(X):be(X)?Od(c(p,X)):Gi(Ao(X));x.contents,v.atomValues.set(e,x),(Z=p.getState().nextTree)===null||Z===void 0||Z.atomValues.set(e,x)}}return C}function f(p,v){var T,A;return(T=(A=v.atomValues.get(e))!==null&&A!==void 0?A:a)!==null&&T!==void 0?T:o}function g(p,v){if(v.atomValues.has(e))return Fe(v.atomValues.get(e));if(v.nonvalidatedAtoms.has(e)){if(a!=null)return a;if(n==null)return o;const T=v.nonvalidatedAtoms.get(e),A=n.validator(T,hi);return a=A instanceof Er?o:Gi(A),a}else return o}function y(){a=void 0}function _(p,v,T){if(v.atomValues.has(e)){const A=Fe(v.atomValues.get(e));if(A.state==="hasValue"&&T===A.contents)return new Map}else if(!v.nonvalidatedAtoms.has(e)&&T instanceof Er)return new Map;return a=void 0,new Map().set(e,Gi(T))}function E(){return RS(e)!==void 0&&i<=0}const m=P2({key:e,nodeType:"atom",peek:f,get:g,set:_,init:d,invalidate:y,shouldDeleteConfigOnRelease:E,dangerouslyAllowMutability:t.dangerouslyAllowMutability,persistence_UNSTABLE:t.persistence_UNSTABLE?{type:t.persistence_UNSTABLE.type,backButton:t.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return m}function eg(t){const{...e}=t,n="default"in t?t.default:new Promise(()=>{});return D2(n)?j2({...e,default:n}):$2({...e,default:n})}function j2(t){const e=eg({...t,default:hi,persistence_UNSTABLE:t.persistence_UNSTABLE===void 0?void 0:{...t.persistence_UNSTABLE,validator:r=>r instanceof Er?r:Fe(t.persistence_UNSTABLE).validator(r,hi)},effects:t.effects,effects_UNSTABLE:t.effects_UNSTABLE}),n=Ls({key:`${t.key}__withFallback`,get:({get:r})=>{const i=r(e);return i instanceof Er?t.default:i},set:({set:r},i)=>r(e,i),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:t.dangerouslyAllowMutability});return b2(n.key,RS(t.key)),n}eg.value=t=>new IS(t);var AS=eg;class U2{constructor(e){var n;ce(this,"_map",void 0),ce(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(n=e==null?void 0:e.mapKey)!==null&&n!==void 0?n:r=>r}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,n){this._map.set(this._keyMapper(e),n)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}var F2={MapCache:U2},B2=F2.MapCache,z2=Object.freeze({__proto__:null,MapCache:B2});const{LRUCache:g_}=wS,{MapCache:W2}=z2,Xl={equality:"reference",eviction:"none",maxSize:1/0};function H2({equality:t=Xl.equality,eviction:e=Xl.eviction,maxSize:n=Xl.maxSize}=Xl){const r=K2(t);return q2(e,n,r)}function K2(t){switch(t){case"reference":return e=>e;case"value":return e=>dh(e)}throw de(`Unrecognized equality policy ${t}`)}function q2(t,e,n){switch(t){case"keep-all":return new W2({mapKey:n});case"lru":return new g_({mapKey:n,maxSize:Fe(e)});case"most-recent":return new g_({mapKey:n,maxSize:1})}throw de(`Unrecognized eviction policy ${t}`)}var CS=H2;const{setConfigDeletionHandler:G2}=Qt;function Q2(t){var e,n;const r=CS({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var s,o;const a=r.get(i);if(a!=null)return a;const{cachePolicyForParams_UNSTABLE:l,...u}=t,c="default"in t?t.default:new Promise(()=>{}),d=AS({...u,key:`${t.key}__${(s=dh(i))!==null&&s!==void 0?s:"void"}`,default:typeof c=="function"?c(i):c,retainedBy_UNSTABLE:typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE,effects:typeof t.effects=="function"?t.effects(i):typeof t.effects_UNSTABLE=="function"?t.effects_UNSTABLE(i):(o=t.effects)!==null&&o!==void 0?o:t.effects_UNSTABLE});return r.set(i,d),G2(d.key,()=>{r.delete(i)}),d}}var Y2=Q2;const{setConfigDeletionHandler:X2}=Qt;let J2=0;function Z2(t){var e,n;const r=CS({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var s;let o;try{o=r.get(i)}catch(f){throw de(`Problem with cache lookup for selector ${t.key}: ${f.message}`)}if(o!=null)return o;const a=`${t.key}__selectorFamily/${(s=dh(i,{allowFunctions:!0}))!==null&&s!==void 0?s:"void"}/${J2++}`,l=f=>t.get(i)(f),u=t.cachePolicy_UNSTABLE,c=typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE;let d;if(t.set!=null){const f=t.set;d=Ls({key:a,get:l,set:(y,_)=>f(i)(y,_),cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c})}else d=Ls({key:a,get:l,cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c});return r.set(i,d),X2(d.key,()=>{r.delete(i)}),d}}var ei=Z2;const eV=ei({key:"__constant",get:t=>()=>t,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function tV(t){return eV(t)}var nV=tV;const rV=ei({key:"__error",get:t=>()=>{throw de(t)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function iV(t){return rV(t)}var sV=iV;function oV(t){return t}var aV=oV;const{loadableWithError:kS,loadableWithPromise:NS,loadableWithValue:xS}=Qa;function fh(t,e){const n=Array(e.length).fill(void 0),r=Array(e.length).fill(void 0);for(const[i,s]of e.entries())try{n[i]=t(s)}catch(o){r[i]=o}return[n,r]}function lV(t){return t!=null&&!be(t)}function ph(t){return Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(e=>t[e])}function ap(t,e){return Array.isArray(t)?e:Object.getOwnPropertyNames(t).reduce((n,r,i)=>({...n,[r]:e[i]}),{})}function ys(t,e,n){const r=n.map((i,s)=>i==null?xS(e[s]):be(i)?NS(i):kS(i));return ap(t,r)}function uV(t,e){return e.map((n,r)=>n===void 0?t[r]:n)}const cV=ei({key:"__waitForNone",get:t=>({get:e})=>{const n=ph(t),[r,i]=fh(e,n);return ys(t,r,i)},dangerouslyAllowMutability:!0}),hV=ei({key:"__waitForAny",get:t=>({get:e})=>{const n=ph(t),[r,i]=fh(e,n);return i.some(s=>!be(s))?ys(t,r,i):new Promise(s=>{for(const[o,a]of i.entries())be(a)&&a.then(l=>{r[o]=l,i[o]=void 0,s(ys(t,r,i))}).catch(l=>{i[o]=l,s(ys(t,r,i))})})},dangerouslyAllowMutability:!0}),dV=ei({key:"__waitForAll",get:t=>({get:e})=>{const n=ph(t),[r,i]=fh(e,n);if(i.every(o=>o==null))return ap(t,r);const s=i.find(lV);if(s!=null)throw s;return Promise.all(i).then(o=>ap(t,uV(r,o)))},dangerouslyAllowMutability:!0}),fV=ei({key:"__waitForAllSettled",get:t=>({get:e})=>{const n=ph(t),[r,i]=fh(e,n);return i.every(s=>!be(s))?ys(t,r,i):Promise.all(i.map((s,o)=>be(s)?s.then(a=>{r[o]=a,i[o]=void 0}).catch(a=>{r[o]=void 0,i[o]=a}):null)).then(()=>ys(t,r,i))},dangerouslyAllowMutability:!0}),pV=ei({key:"__noWait",get:t=>({get:e})=>{try{return Ls.value(xS(e(t)))}catch(n){return Ls.value(be(n)?NS(n):kS(n))}},dangerouslyAllowMutability:!0});var mV={waitForNone:cV,waitForAny:hV,waitForAll:dV,waitForAllSettled:fV,noWait:pV};const{RecoilLoadable:gV}=Qa,{DefaultValue:yV}=Qt,{RecoilRoot:vV,useRecoilStoreID:_V}=fr,{isRecoilValue:wV}=bs,{retentionZone:EV}=th,{freshSnapshot:TV}=ah,{useRecoilState:SV,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:IV,useRecoilStateLoadable:RV,useRecoilValue:AV,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:CV,useRecoilValueLoadable:kV,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:NV,useResetRecoilState:xV,useSetRecoilState:PV}=Fb,{useGotoRecoilSnapshot:bV,useRecoilSnapshot:DV,useRecoilTransactionObserver:VV}=fS,{useRecoilCallback:LV}=yS,{noWait:OV,waitForAll:MV,waitForAllSettled:$V,waitForAny:jV,waitForNone:UV}=mV;var tg={DefaultValue:yV,isRecoilValue:wV,RecoilLoadable:gV,RecoilEnv:Gs,RecoilRoot:vV,useRecoilStoreID:_V,useRecoilBridgeAcrossReactRoots_UNSTABLE:pD,atom:AS,selector:Ls,atomFamily:Y2,selectorFamily:ei,constSelector:nV,errorSelector:sV,readOnlySelector:aV,noWait:OV,waitForNone:UV,waitForAny:jV,waitForAll:MV,waitForAllSettled:$V,useRecoilValue:AV,useRecoilValueLoadable:kV,useRecoilState:SV,useRecoilStateLoadable:RV,useSetRecoilState:PV,useResetRecoilState:xV,useGetRecoilValueInfo_UNSTABLE:lD,useRecoilRefresher_UNSTABLE:zD,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:NV,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:CV,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:IV,useRecoilCallback:LV,useRecoilTransaction_UNSTABLE:GD,useGotoRecoilSnapshot:bV,useRecoilSnapshot:DV,useRecoilTransactionObserver_UNSTABLE:VV,snapshot_UNSTABLE:TV,useRetain:Qm,retentionZone:EV},FV=tg.RecoilRoot,tt=tg.atom,M=tg.useRecoilState;/**
 * @remix-run/router v1.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sa(){return Sa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sa.apply(this,arguments)}var Nr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Nr||(Nr={}));const y_="popstate";function BV(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return lp("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ic(i)}return WV(e,n,null,t)}function Ye(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ng(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zV(){return Math.random().toString(36).substr(2,8)}function v_(t,e){return{usr:t.state,key:t.key,idx:e}}function lp(t,e,n,r){return n===void 0&&(n=null),Sa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ys(e):e,{state:n,key:e&&e.key||r||zV()})}function ic(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ys(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function WV(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Nr.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Sa({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=Nr.Pop;let E=c(),m=E==null?null:E-u;u=E,l&&l({action:a,location:_.location,delta:m})}function f(E,m){a=Nr.Push;let p=lp(_.location,E,m);n&&n(p,E),u=c()+1;let v=v_(p,u),T=_.createHref(p);try{o.pushState(v,"",T)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(T)}s&&l&&l({action:a,location:_.location,delta:1})}function g(E,m){a=Nr.Replace;let p=lp(_.location,E,m);n&&n(p,E),u=c();let v=v_(p,u),T=_.createHref(p);o.replaceState(v,"",T),s&&l&&l({action:a,location:_.location,delta:0})}function y(E){let m=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof E=="string"?E:ic(E);return Ye(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let _={get action(){return a},get location(){return t(i,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(y_,d),l=E,()=>{i.removeEventListener(y_,d),l=null}},createHref(E){return e(i,E)},createURL:y,encodeLocation(E){let m=y(E);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:g,go(E){return o.go(E)}};return _}var __;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(__||(__={}));function HV(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Ys(e):e,i=rg(r.pathname||"/",n);if(i==null)return null;let s=PS(t);KV(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=tL(s[a],iL(i));return o}function PS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ye(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=jr([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Ye(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),PS(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:ZV(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of bS(s.path))i(s,o,l)}),e}function bS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=bS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function KV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:eL(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const qV=/^:\w+$/,GV=3,QV=2,YV=1,XV=10,JV=-2,w_=t=>t==="*";function ZV(t,e){let n=t.split("/"),r=n.length;return n.some(w_)&&(r+=JV),e&&(r+=QV),n.filter(i=>!w_(i)).reduce((i,s)=>i+(qV.test(s)?GV:s===""?YV:XV),r)}function eL(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function tL(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=nL({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:jr([i,c.pathname]),pathnameBase:lL(jr([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=jr([i,c.pathnameBase]))}return s}function nL(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=rL(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let f=a[d]||"";o=s.slice(0,s.length-f.length).replace(/(.)\/+$/,"$1")}return u[c]=sL(a[d]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function rL(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ng(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function iL(t){try{return decodeURI(t)}catch(e){return ng(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function sL(t,e){try{return decodeURIComponent(t)}catch(n){return ng(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function rg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function oL(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ys(t):t;return{pathname:n?n.startsWith("/")?n:aL(n,e):e,search:uL(r),hash:cL(i)}}function aL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Md(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ig(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function sg(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ys(t):(i=Sa({},t),Ye(!i.pathname||!i.pathname.includes("?"),Md("?","pathname","search",i)),Ye(!i.pathname||!i.pathname.includes("#"),Md("#","pathname","hash",i)),Ye(!i.search||!i.search.includes("#"),Md("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=oL(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const jr=t=>t.join("/").replace(/\/\/+/g,"/"),lL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),uL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,cL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function hL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const DS=["post","put","patch","delete"];new Set(DS);const dL=["get",...DS];new Set(dL);/**
 * React Router v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sc(){return sc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sc.apply(this,arguments)}const og=R.createContext(null),fL=R.createContext(null),Xs=R.createContext(null),mh=R.createContext(null),ti=R.createContext({outlet:null,matches:[],isDataRoute:!1}),VS=R.createContext(null);function pL(t,e){let{relative:n}=e===void 0?{}:e;Js()||Ye(!1);let{basename:r,navigator:i}=R.useContext(Xs),{hash:s,pathname:o,search:a}=OS(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:jr([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Js(){return R.useContext(mh)!=null}function Zs(){return Js()||Ye(!1),R.useContext(mh).location}function LS(t){R.useContext(Xs).static||R.useLayoutEffect(t)}function ni(){let{isDataRoute:t}=R.useContext(ti);return t?CL():mL()}function mL(){Js()||Ye(!1);let t=R.useContext(og),{basename:e,navigator:n}=R.useContext(Xs),{matches:r}=R.useContext(ti),{pathname:i}=Zs(),s=JSON.stringify(ig(r).map(l=>l.pathnameBase)),o=R.useRef(!1);return LS(()=>{o.current=!0}),R.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=sg(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:jr([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,s,i,t])}function OS(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=R.useContext(ti),{pathname:i}=Zs(),s=JSON.stringify(ig(r).map(o=>o.pathnameBase));return R.useMemo(()=>sg(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function gL(t,e){return yL(t,e)}function yL(t,e,n){Js()||Ye(!1);let{navigator:r}=R.useContext(Xs),{matches:i}=R.useContext(ti),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Zs(),u;if(e){var c;let _=typeof e=="string"?Ys(e):e;a==="/"||(c=_.pathname)!=null&&c.startsWith(a)||Ye(!1),u=_}else u=l;let d=u.pathname||"/",f=a==="/"?d:d.slice(a.length)||"/",g=HV(t,{pathname:f}),y=TL(g&&g.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:jr([a,r.encodeLocation?r.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?a:jr([a,r.encodeLocation?r.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n);return e&&y?R.createElement(mh.Provider,{value:{location:sc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Nr.Pop}},y):y}function vL(){let t=AL(),e=hL(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:i},n):null,s)}const _L=R.createElement(vL,null);class wL extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?R.createElement(ti.Provider,{value:this.props.routeContext},R.createElement(VS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function EL(t){let{routeContext:e,match:n,children:r}=t,i=R.useContext(og);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(ti.Provider,{value:e},r)}function TL(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||Ye(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,d=null;n&&(d=l.route.errorElement||_L);let f=e.concat(s.slice(0,u+1)),g=()=>{let y;return c?y=d:l.route.Component?y=R.createElement(l.route.Component,null):l.route.element?y=l.route.element:y=a,R.createElement(EL,{match:l,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:y})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?R.createElement(wL,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):g()},null)}var up;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(up||(up={}));var Ia;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(Ia||(Ia={}));function SL(t){let e=R.useContext(og);return e||Ye(!1),e}function IL(t){let e=R.useContext(fL);return e||Ye(!1),e}function RL(t){let e=R.useContext(ti);return e||Ye(!1),e}function MS(t){let e=RL(),n=e.matches[e.matches.length-1];return n.route.id||Ye(!1),n.route.id}function AL(){var t;let e=R.useContext(VS),n=IL(Ia.UseRouteError),r=MS(Ia.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function CL(){let{router:t}=SL(up.UseNavigateStable),e=MS(Ia.UseNavigateStable),n=R.useRef(!1);return LS(()=>{n.current=!0}),R.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,sc({fromRouteId:e},s)))},[t,e])}function kL(t){let{to:e,replace:n,state:r,relative:i}=t;Js()||Ye(!1);let{matches:s}=R.useContext(ti),{pathname:o}=Zs(),a=ni(),l=sg(e,ig(s).map(c=>c.pathnameBase),o,i==="path"),u=JSON.stringify(l);return R.useEffect(()=>a(JSON.parse(u),{replace:n,state:r,relative:i}),[a,u,i,n,r]),null}function Pn(t){Ye(!1)}function NL(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Nr.Pop,navigator:s,static:o=!1}=t;Js()&&Ye(!1);let a=e.replace(/^\/*/,"/"),l=R.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Ys(r));let{pathname:u="/",search:c="",hash:d="",state:f=null,key:g="default"}=r,y=R.useMemo(()=>{let _=rg(u,a);return _==null?null:{location:{pathname:_,search:c,hash:d,state:f,key:g},navigationType:i}},[a,u,c,d,f,g,i]);return y==null?null:R.createElement(Xs.Provider,{value:l},R.createElement(mh.Provider,{children:n,value:y}))}function xL(t){let{children:e,location:n}=t;return gL(cp(e),n)}var E_;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(E_||(E_={}));new Promise(()=>{});function cp(t,e){e===void 0&&(e=[]);let n=[];return R.Children.forEach(t,(r,i)=>{if(!R.isValidElement(r))return;let s=[...e,i];if(r.type===R.Fragment){n.push.apply(n,cp(r.props.children,s));return}r.type!==Pn&&Ye(!1),!r.props.index||!r.props.children||Ye(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=cp(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hp(){return hp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hp.apply(this,arguments)}function PL(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function bL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function DL(t,e){return t.button===0&&(!e||e==="_self")&&!bL(t)}const VL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],LL="startTransition",T_=UA[LL];function OL(t){let{basename:e,children:n,future:r,window:i}=t,s=R.useRef();s.current==null&&(s.current=BV({window:i,v5Compat:!0}));let o=s.current,[a,l]=R.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=R.useCallback(d=>{u&&T_?T_(()=>l(d)):l(d)},[l,u]);return R.useLayoutEffect(()=>o.listen(c),[o,c]),R.createElement(NL,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}const ML=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$L=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pr=R.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c}=e,d=PL(e,VL),{basename:f}=R.useContext(Xs),g,y=!1;if(typeof u=="string"&&$L.test(u)&&(g=u,ML))try{let p=new URL(window.location.href),v=u.startsWith("//")?new URL(p.protocol+u):new URL(u),T=rg(v.pathname,f);v.origin===p.origin&&T!=null?u=T+v.search+v.hash:y=!0}catch{}let _=pL(u,{relative:i}),E=jL(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i});function m(p){r&&r(p),p.defaultPrevented||E(p)}return R.createElement("a",hp({},d,{href:g||_,onClick:y||s?r:m,ref:n,target:l}))});var S_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(S_||(S_={}));var I_;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(I_||(I_={}));function jL(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=ni(),l=Zs(),u=OS(t,{relative:o});return R.useCallback(c=>{if(DL(c,n)){c.preventDefault();let d=r!==void 0?r:ic(l)===ic(u);a(t,{replace:d,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,n,t,s,o])}const gn=tt({key:"accountDataState",default:{account:"",accountPassword:"",balance:0,bankName:"",email:""}}),tl=tt({key:"transactionsState",default:[]}),gh=tt({key:"emailState",default:""}),nl=tt({key:"passwordState",default:""}),yh=tt({key:"bankNameState",default:""}),vh=tt({key:"accountState",default:""}),ag=tt({key:"accountPasswordState",default:""}),lg=tt({key:"isEmailState",default:!1}),ug=tt({key:"isSamePassportState",default:!1}),_h=tt({key:"isCorrectAccountPasswordState",default:!1}),cg=tt({key:"isAccountState",default:!1}),hg=tt({key:"isSameAccountPassportState",default:!1}),dg=tt({key:"isCheckedState",default:!1});tt({key:"selectedDateState",default:new Date});const Fi=tt({key:"isBankingState",default:0}),UL=tt({key:"balanceState",default:0}),fg=tt({key:"transferBankNameState",default:""}),$S=tt({key:"filteredTransactionsState",default:[]}),jS=new Date,pg=tt({key:"filterMonthSate",default:jS.getMonth()+1}),mg=tt({key:"filterYearSate",default:jS.getFullYear()}),FL=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),US=()=>{const[t,e]=M(gh),[n,r]=M(lg),[i,s]=R.useState(!0),o=R.useRef(null);R.useEffect(()=>{const l=u=>{o.current&&!o.current.contains(u.target)&&(i||(e(""),s(!0),r(!0)))};return document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[i,e]);const a=l=>{const u=l.target.value;e(u),s(!0),r(!0),FL(u)||(s(!1),r(!1))};return h.jsx(h.Fragment,{children:h.jsxs("div",{className:"form-control",ref:o,children:[h.jsxs("label",{className:"label",children:[h.jsx("span",{className:"label-text",children:""}),!i&&h.jsx("span",{className:"text-sm text-primary",children:"  ."})]}),h.jsx("input",{type:"text",placeholder:"",className:`input input-bordered  input-primary ${i?"":"input-error"}`,value:t,onChange:a,autoComplete:"email"})]})})},BL=t=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,16}$/.test(t),zL=()=>{const[t,e]=M(nl),[n,r]=R.useState(!0),[i,s]=R.useState(!1),o=R.useRef(null);R.useEffect(()=>{const l=u=>{o.current&&!o.current.contains(u.target)&&s(!1)};return document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[]);const a=l=>{const u=l.target.value;e(u),s(!!u)};return R.useEffect(()=>{r(BL(t)||!i)},[t,i]),h.jsx(h.Fragment,{children:h.jsxs("div",{className:"form-control",ref:o,children:[h.jsxs("label",{className:"label",children:[h.jsx("span",{className:"label-text",children:""}),(!i||t)&&!n&&h.jsx("span",{className:"text-sm text-error",children:", ,   8~16 "})]}),h.jsx("input",{type:"password",placeholder:" ",className:`password input input-bordered input-primary ${!n&&i&&"input-error"}`,value:t,onChange:a,autoComplete:"current-password"})]})})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},WL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},BS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(f=64)),r.push(n[c],n[d],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(FS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new HL;const f=s<<2|a>>4;if(r.push(f),u!==64){const g=a<<4&240|u>>2;if(r.push(g),d!==64){const y=u<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class HL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KL=function(t){const e=FS(t);return BS.encodeByteArray(e,!0)},oc=function(t){return KL(t).replace(/\./g,"")},zS=function(t){try{return BS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL=()=>qL().__FIREBASE_DEFAULTS__,QL=()=>{if(typeof process>"u"||typeof{}>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},YL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zS(t[1]);return e&&JSON.parse(e)},gg=()=>{try{return GL()||QL()||YL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WS=t=>{var e,n;return(n=(e=gg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},XL=t=>{const e=WS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},HS=()=>{var t;return(t=gg())===null||t===void 0?void 0:t.config},KS=t=>{var e;return(e=gg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[oc(JSON.stringify(n)),oc(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pt())}function tO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rO(){const t=Pt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function iO(){try{return typeof indexedDB=="object"}catch{return!1}}function sO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO="FirebaseError";class mr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=oO,Object.setPrototypeOf(this,mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rl.prototype.create)}}class rl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?aO(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new mr(i,a,r)}}function aO(t,e){return t.replace(lO,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const lO=/\{\$([^}]+)}/g;function uO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ac(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(R_(s)&&R_(o)){if(!ac(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function R_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Lo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Oo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function cO(t,e){const n=new hO(t,e);return n.subscribe.bind(n)}class hO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");dO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=$d),i.error===void 0&&(i.error=$d),i.complete===void 0&&(i.complete=$d);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $d(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(t){return t&&t._delegate?t._delegate:t}class xi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new JL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mO(e))try{this.getOrInitializeService({instanceIdentifier:ci})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ci){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ci){return this.instances.has(e)}getOptions(e=ci){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ci){return this.component?this.component.multipleInstances?e:ci:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pO(t){return t===ci?void 0:t}function mO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(we||(we={}));const yO={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},vO=we.INFO,_O={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},wO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=_O[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yg{constructor(e){this.name=e,this._logLevel=vO,this._logHandler=wO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}const EO=(t,e)=>e.some(n=>t instanceof n);let A_,C_;function TO(){return A_||(A_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SO(){return C_||(C_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qS=new WeakMap,dp=new WeakMap,GS=new WeakMap,jd=new WeakMap,vg=new WeakMap;function IO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ur(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&qS.set(n,t)}).catch(()=>{}),vg.set(e,t),e}function RO(t){if(dp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});dp.set(t,e)}let fp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return dp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||GS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ur(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function AO(t){fp=t(fp)}function CO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ud(this),e,...n);return GS.set(r,e.sort?e.sort():[e]),Ur(r)}:SO().includes(t)?function(...e){return t.apply(Ud(this),e),Ur(qS.get(this))}:function(...e){return Ur(t.apply(Ud(this),e))}}function kO(t){return typeof t=="function"?CO(t):(t instanceof IDBTransaction&&RO(t),EO(t,TO())?new Proxy(t,fp):t)}function Ur(t){if(t instanceof IDBRequest)return IO(t);if(jd.has(t))return jd.get(t);const e=kO(t);return e!==t&&(jd.set(t,e),vg.set(e,t)),e}const Ud=t=>vg.get(t);function NO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ur(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ur(o.result),l.oldVersion,l.newVersion,Ur(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const xO=["get","getKey","getAll","getAllKeys","count"],PO=["put","add","delete","clear"],Fd=new Map;function k_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fd.get(e))return Fd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=PO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||xO.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Fd.set(e,s),s}AO(t=>({...t,get:(e,n,r)=>k_(e,n)||t.get(e,n,r),has:(e,n)=>!!k_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function DO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pp="@firebase/app",N_="0.9.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=new yg("@firebase/app"),VO="@firebase/app-compat",LO="@firebase/analytics-compat",OO="@firebase/analytics",MO="@firebase/app-check-compat",$O="@firebase/app-check",jO="@firebase/auth",UO="@firebase/auth-compat",FO="@firebase/database",BO="@firebase/database-compat",zO="@firebase/functions",WO="@firebase/functions-compat",HO="@firebase/installations",KO="@firebase/installations-compat",qO="@firebase/messaging",GO="@firebase/messaging-compat",QO="@firebase/performance",YO="@firebase/performance-compat",XO="@firebase/remote-config",JO="@firebase/remote-config-compat",ZO="@firebase/storage",eM="@firebase/storage-compat",tM="@firebase/firestore",nM="@firebase/firestore-compat",rM="firebase",iM="10.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp="[DEFAULT]",sM={[pp]:"fire-core",[VO]:"fire-core-compat",[OO]:"fire-analytics",[LO]:"fire-analytics-compat",[$O]:"fire-app-check",[MO]:"fire-app-check-compat",[jO]:"fire-auth",[UO]:"fire-auth-compat",[FO]:"fire-rtdb",[BO]:"fire-rtdb-compat",[zO]:"fire-fn",[WO]:"fire-fn-compat",[HO]:"fire-iid",[KO]:"fire-iid-compat",[qO]:"fire-fcm",[GO]:"fire-fcm-compat",[QO]:"fire-perf",[YO]:"fire-perf-compat",[XO]:"fire-rc",[JO]:"fire-rc-compat",[ZO]:"fire-gcs",[eM]:"fire-gcs-compat",[tM]:"fire-fst",[nM]:"fire-fst-compat","fire-js":"fire-js",[rM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=new Map,gp=new Map;function oM(t,e){try{t.container.addComponent(e)}catch(n){Pi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Os(t){const e=t.name;if(gp.has(e))return Pi.debug(`There were multiple attempts to register component ${e}.`),!1;gp.set(e,t);for(const n of lc.values())oM(n,t);return!0}function _g(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Fr=new rl("app","Firebase",aM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=iM;function QS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:mp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Fr.create("bad-app-name",{appName:String(i)});if(n||(n=HS()),!n)throw Fr.create("no-options");const s=lc.get(i);if(s){if(ac(n,s.options)&&ac(r,s.config))return s;throw Fr.create("duplicate-app",{appName:i})}const o=new gO(i);for(const l of gp.values())o.addComponent(l);const a=new lM(n,r,o);return lc.set(i,a),a}function YS(t=mp){const e=lc.get(t);if(!e&&t===mp&&HS())return QS();if(!e)throw Fr.create("no-app",{appName:t});return e}function Br(t,e,n){var r;let i=(r=sM[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pi.warn(a.join(" "));return}Os(new xi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM="firebase-heartbeat-database",cM=1,Ra="firebase-heartbeat-store";let Bd=null;function XS(){return Bd||(Bd=NO(uM,cM,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ra)}}}).catch(t=>{throw Fr.create("idb-open",{originalErrorMessage:t.message})})),Bd}async function hM(t){try{return await(await XS()).transaction(Ra).objectStore(Ra).get(JS(t))}catch(e){if(e instanceof mr)Pi.warn(e.message);else{const n=Fr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pi.warn(n.message)}}}async function x_(t,e){try{const r=(await XS()).transaction(Ra,"readwrite");await r.objectStore(Ra).put(e,JS(t)),await r.done}catch(n){if(n instanceof mr)Pi.warn(n.message);else{const r=Fr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Pi.warn(r.message)}}}function JS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM=1024,fM=30*24*60*60*1e3;class pM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=P_();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=fM}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=P_(),{heartbeatsToSend:n,unsentEntries:r}=mM(this._heartbeatsCache.heartbeats),i=oc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function P_(){return new Date().toISOString().substring(0,10)}function mM(t,e=dM){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),b_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),b_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class gM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iO()?sO().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await hM(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return x_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return x_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function b_(t){return oc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(t){Os(new xi("platform-logger",e=>new bO(e),"PRIVATE")),Os(new xi("heartbeat",e=>new pM(e),"PRIVATE")),Br(pp,N_,t),Br(pp,N_,"esm2017"),Br("fire-js","")}yM("");function wg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ZS(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vM=ZS,e1=new rl("auth","Firebase",ZS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=new yg("@firebase/auth");function _M(t,...e){uc.logLevel<=we.WARN&&uc.warn(`Auth (${eo}): ${t}`,...e)}function Tu(t,...e){uc.logLevel<=we.ERROR&&uc.error(`Auth (${eo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(t,...e){throw Eg(t,...e)}function jn(t,...e){return Eg(t,...e)}function t1(t,e,n){const r=Object.assign(Object.assign({},vM()),{[e]:n});return new rl("auth","Firebase",r).create(e,{appName:t.name})}function wM(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&mn(t,"argument-error"),t1(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Eg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return e1.create(t,...e)}function ie(t,e,...n){if(!t)throw Eg(e,...n)}function Jn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Tu(e),new Error(e)}function ar(t,e){t||Jn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function EM(){return D_()==="http:"||D_()==="https:"}function D_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(EM()||tO()||"connection"in navigator)?navigator.onLine:!0}function SM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n){this.shortDelay=e,this.longDelay=n,ar(n>e,"Short delay should be less than long delay!"),this.isMobile=eO()||nO()}get(){return TM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(t,e){ar(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Jn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Jn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Jn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM=new sl(3e4,6e4);function to(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function no(t,e,n,r,i={}){return r1(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=il(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),n1.fetch()(i1(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function r1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},IM),e);try{const i=new AM(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Jl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jl(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Jl(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Jl(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw t1(t,c,u);mn(t,c)}}catch(i){if(i instanceof mr)throw i;mn(t,"network-request-failed",{message:String(i)})}}async function ol(t,e,n,r,i={}){const s=await no(t,e,n,r,i);return"mfaPendingCredential"in s&&mn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function i1(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Tg(t.config,i):`${t.config.apiScheme}://${i}`}class AM{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(jn(this.auth,"network-request-failed")),RM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=jn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CM(t,e){return no(t,"POST","/v1/accounts:delete",e)}async function kM(t,e){return no(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NM(t,e=!1){const n=bt(t),r=await n.getIdToken(e),i=Sg(r);ie(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ea(zd(i.auth_time)),issuedAtTime:ea(zd(i.iat)),expirationTime:ea(zd(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function zd(t){return Number(t)*1e3}function Sg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Tu("JWT malformed, contained fewer than 3 sections"),null;try{const i=zS(n);return i?JSON.parse(i):(Tu("Failed to decode base64 JWT payload"),null)}catch(i){return Tu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function xM(t){const e=Sg(t);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof mr&&PM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function PM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ea(this.lastLoginAt),this.creationTime=ea(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Aa(t,kM(n,{idToken:r}));ie(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?LM(s.providerUserInfo):[],a=VM(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new s1(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function DM(t){const e=bt(t);await cc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function VM(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function LM(t){return t.map(e=>{var{providerId:n}=e,r=wg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OM(t,e){const n=await r1(t,{},async()=>{const r=il({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=i1(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",n1.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ie(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await OM(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ca;return r&&(ie(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ie(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ie(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ca,this.toJSON())}_performRefresh(){return Jn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(t,e){ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ei{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=wg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new s1(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Aa(this,this.stsTokenManager.getToken(this.auth,e));return ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return NM(this,e)}reload(){return DM(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ei(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await cc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Aa(this,CM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,p=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:v,emailVerified:T,isAnonymous:A,providerData:C,stsTokenManager:N}=n;ie(v&&N,e,"internal-error");const L=Ca.fromJSON(this.name,N);ie(typeof v=="string",e,"internal-error"),yr(d,e.name),yr(f,e.name),ie(typeof T=="boolean",e,"internal-error"),ie(typeof A=="boolean",e,"internal-error"),yr(g,e.name),yr(y,e.name),yr(_,e.name),yr(E,e.name),yr(m,e.name),yr(p,e.name);const Z=new Ei({uid:v,auth:e,email:f,emailVerified:T,displayName:d,isAnonymous:A,photoURL:y,phoneNumber:g,tenantId:_,stsTokenManager:L,createdAt:m,lastLoginAt:p});return C&&Array.isArray(C)&&(Z.providerData=C.map(H=>Object.assign({},H))),E&&(Z._redirectEventId=E),Z}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ca;i.updateFromServerResponse(n);const s=new Ei({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await cc(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_=new Map;function Zn(t){ar(t instanceof Function,"Expected a class definition");let e=V_.get(t);return e?(ar(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,V_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}o1.type="NONE";const L_=o1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(t,e,n){return`firebase:${t}:${e}:${n}`}class vs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Su(this.userKey,i.apiKey,s),this.fullPersistenceKey=Su("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ei._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new vs(Zn(L_),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Zn(L_);const o=Su(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=Ei._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new vs(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new vs(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(u1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(a1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(h1(e))return"Blackberry";if(d1(e))return"Webos";if(Ig(e))return"Safari";if((e.includes("chrome/")||l1(e))&&!e.includes("edge/"))return"Chrome";if(c1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function a1(t=Pt()){return/firefox\//i.test(t)}function Ig(t=Pt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function l1(t=Pt()){return/crios\//i.test(t)}function u1(t=Pt()){return/iemobile/i.test(t)}function c1(t=Pt()){return/android/i.test(t)}function h1(t=Pt()){return/blackberry/i.test(t)}function d1(t=Pt()){return/webos/i.test(t)}function wh(t=Pt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function MM(t=Pt()){var e;return wh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $M(){return rO()&&document.documentMode===10}function f1(t=Pt()){return wh(t)||c1(t)||d1(t)||h1(t)||/windows phone/i.test(t)||u1(t)}function jM(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(t,e=[]){let n;switch(t){case"Browser":n=O_(Pt());break;case"Worker":n=`${O_(Pt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${eo}/${r}`}async function m1(t,e){return no(t,"GET","/v2/recaptchaConfig",to(t,e))}function M_(t){return t!==void 0&&t.enterprise!==void 0}class g1{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function y1(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=jn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",UM().appendChild(r)})}function FM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const BM="https://www.google.com/recaptcha/enterprise.js?render=",zM="recaptcha-enterprise",WM="NO_RECAPTCHA";class v1{constructor(e){this.type=zM,this.auth=Bi(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{m1(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new g1(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;M_(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(WM)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&M_(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}y1(BM+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function hc(t,e,n,r=!1){const i=new v1(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $_(this),this.idTokenSubscription=new $_(this),this.beforeStateQueue=new HM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=e1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await vs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await cc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=SM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?bt(e):null;return n&&ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Zn(e))})}async initializeRecaptchaConfig(){const e=await m1(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new g1(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new v1(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new rl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Zn(e)||this._popupRedirectResolver;ie(n,this,"argument-error"),this.redirectPersistenceManager=await vs.create(this,[Zn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ie(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=p1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&_M(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Bi(t){return bt(t)}class $_{constructor(e){this.auth=e,this.observer=null,this.addObserver=cO(n=>this.observer=n)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(t,e){const n=_g(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ac(s,e??{}))return i;mn(i,"already-initialized")}return n.initialize({options:e})}function GM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Zn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function QM(t,e,n){const r=Bi(t);ie(r._canInitEmulator,r,"emulator-config-failed"),ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=_1(e),{host:o,port:a}=YM(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||XM()}function _1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function YM(t){const e=_1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:j_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:j_(o)}}}function j_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function XM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Jn("not implemented")}_getIdTokenResponse(e){return Jn("not implemented")}_linkToIdToken(e,n){return Jn("not implemented")}_getReauthenticationResolver(e){return Jn("not implemented")}}async function JM(t,e){return no(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wd(t,e){return ol(t,"POST","/v1/accounts:signInWithPassword",to(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZM(t,e){return ol(t,"POST","/v1/accounts:signInWithEmailLink",to(t,e))}async function e$(t,e){return ol(t,"POST","/v1/accounts:signInWithEmailLink",to(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka extends Rg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ka(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ka(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await hc(e,r,"signInWithPassword");return Wd(e,i)}else return Wd(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await hc(e,r,"signInWithPassword");return Wd(e,s)}else return Promise.reject(i)});case"emailLink":return ZM(e,{email:this._email,oobCode:this._password});default:mn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return JM(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return e$(e,{idToken:n,email:this._email,oobCode:this._password});default:mn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _s(t,e){return ol(t,"POST","/v1/accounts:signInWithIdp",to(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t$="http://localhost";class bi extends Rg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new bi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):mn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=wg(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new bi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return _s(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,_s(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_s(e,n)}buildRequest(){const e={requestUri:t$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=il(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n$(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function r$(t){const e=Lo(Oo(t)).link,n=e?Lo(Oo(e)).deep_link_id:null,r=Lo(Oo(t)).deep_link_id;return(r?Lo(Oo(r)).link:null)||r||n||e||t}class Ag{constructor(e){var n,r,i,s,o,a;const l=Lo(Oo(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=n$((i=l.mode)!==null&&i!==void 0?i:null);ie(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=r$(e);try{return new Ag(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.providerId=ro.PROVIDER_ID}static credential(e,n){return ka._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ag.parseLink(n);return ie(r,"argument-error"),ka._fromEmailAndCode(e,r.code,r.tenantId)}}ro.PROVIDER_ID="password";ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al extends Cg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends al{constructor(){super("facebook.com")}static credential(e){return bi._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ir.credential(e.oauthAccessToken)}catch{return null}}}Ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ir.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn extends al{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return bi._fromParams({providerId:Qn.PROVIDER_ID,signInMethod:Qn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qn.credentialFromTaggedObject(e)}static credentialFromError(e){return Qn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Qn.credential(n,r)}catch{return null}}}Qn.GOOGLE_SIGN_IN_METHOD="google.com";Qn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends al{constructor(){super("github.com")}static credential(e){return bi._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rr.credential(e.oauthAccessToken)}catch{return null}}}Rr.GITHUB_SIGN_IN_METHOD="github.com";Rr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends al{constructor(){super("twitter.com")}static credential(e,n){return bi._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ar.credential(n,r)}catch{return null}}}Ar.TWITTER_SIGN_IN_METHOD="twitter.com";Ar.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hd(t,e){return ol(t,"POST","/v1/accounts:signUp",to(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ei._fromIdTokenResponse(e,r,i),o=U_(r);return new Di({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=U_(r);return new Di({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function U_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc extends mr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,dc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new dc(e,n,r,i)}}function w1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?dc._fromErrorAndOperation(t,s,e,r):s})}async function i$(t,e,n=!1){const r=await Aa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Di._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s$(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Aa(t,w1(r,i,e,t),n);ie(s.idToken,r,"internal-error");const o=Sg(s.idToken);ie(o,r,"internal-error");const{sub:a}=o;return ie(t.uid===a,r,"user-mismatch"),Di._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&mn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E1(t,e,n=!1){const r="signIn",i=await w1(t,r,e),s=await Di._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function o$(t,e){return E1(Bi(t),e)}async function a$(t,e,n){var r;const i=Bi(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await hc(i,s,"signUpPassword");o=Hd(i,u)}else o=Hd(i,s).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await hc(i,s,"signUpPassword");return Hd(i,c)}else return Promise.reject(u)});const a=await o.catch(u=>Promise.reject(u)),l=await Di._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function l$(t,e,n){return o$(bt(t),ro.credential(e,n))}function u$(t,e,n,r){return bt(t).onIdTokenChanged(e,n,r)}function c$(t,e,n){return bt(t).beforeAuthStateChanged(e,n)}const fc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fc,"1"),this.storage.removeItem(fc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h$(){const t=Pt();return Ig(t)||wh(t)}const d$=1e3,f$=10;class S1 extends T1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=h$()&&jM(),this.fallbackToPolling=f1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);$M()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,f$):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},d$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}S1.type="LOCAL";const p$=S1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1 extends T1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}I1.type="SESSION";const R1=I1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Eh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await m$(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Eh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=kg("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return window}function y$(t){Un().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(){return typeof Un().WorkerGlobalScope<"u"&&typeof Un().importScripts=="function"}async function v$(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _$(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function w$(){return A1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="firebaseLocalStorageDb",E$=1,pc="firebaseLocalStorage",k1="fbase_key";class ll{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Th(t,e){return t.transaction([pc],e?"readwrite":"readonly").objectStore(pc)}function T$(){const t=indexedDB.deleteDatabase(C1);return new ll(t).toPromise()}function vp(){const t=indexedDB.open(C1,E$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(pc,{keyPath:k1})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(pc)?e(r):(r.close(),await T$(),e(await vp()))})})}async function F_(t,e,n){const r=Th(t,!0).put({[k1]:e,value:n});return new ll(r).toPromise()}async function S$(t,e){const n=Th(t,!1).get(e),r=await new ll(n).toPromise();return r===void 0?null:r.value}function B_(t,e){const n=Th(t,!0).delete(e);return new ll(n).toPromise()}const I$=800,R$=3;class N1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>R$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return A1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Eh._getInstance(w$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await v$(),!this.activeServiceWorker)return;this.sender=new g$(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vp();return await F_(e,fc,"1"),await B_(e,fc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>F_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>S$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>B_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Th(i,!1).getAll();return new ll(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),I$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}N1.type="LOCAL";const A$=N1;new sl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(t,e){return e?Zn(e):(ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng extends Rg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _s(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _s(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _s(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function C$(t){return E1(t.auth,new Ng(t),t.bypassAuthState)}function k$(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),s$(n,new Ng(t),t.bypassAuthState)}async function N$(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),i$(n,new Ng(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return C$;case"linkViaPopup":case"linkViaRedirect":return N$;case"reauthViaPopup":case"reauthViaRedirect":return k$;default:mn(this.auth,"internal-error")}}resolve(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x$=new sl(2e3,1e4);async function P$(t,e,n){const r=Bi(t);wM(t,e,Cg);const i=x1(r,n);return new mi(r,"signInViaPopup",e,i).executeNotNull()}class mi extends P1{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,mi.currentPopupAction&&mi.currentPopupAction.cancel(),mi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ie(e,this.auth,"internal-error"),e}async onExecution(){ar(this.filter.length===1,"Popup operations only handle one event");const e=kg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,x$.get())};e()}}mi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b$="pendingRedirect",Iu=new Map;class D$ extends P1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Iu.get(this.auth._key());if(!e){try{const r=await V$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Iu.set(this.auth._key(),e)}return this.bypassAuthState||Iu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function V$(t,e){const n=M$(e),r=O$(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function L$(t,e){Iu.set(t._key(),e)}function O$(t){return Zn(t._redirectPersistence)}function M$(t){return Su(b$,t.config.apiKey,t.name)}async function $$(t,e,n=!1){const r=Bi(t),i=x1(r,e),o=await new D$(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j$=10*60*1e3;class U${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!F$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!b1(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(jn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=j$&&this.cachedEventUids.clear(),this.cachedEventUids.has(z_(e))}saveEventToCache(e){this.cachedEventUids.add(z_(e)),this.lastProcessedEventTime=Date.now()}}function z_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function b1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function F$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return b1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B$(t,e={}){return no(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,W$=/^https?/;async function H$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await B$(t);for(const n of e)try{if(K$(n))return}catch{}mn(t,"unauthorized-domain")}function K$(t){const e=yp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!W$.test(n))return!1;if(z$.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q$=new sl(3e4,6e4);function W_(){const t=Un().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function G$(t){return new Promise((e,n)=>{var r,i,s;function o(){W_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{W_(),n(jn(t,"network-request-failed"))},timeout:q$.get()})}if(!((i=(r=Un().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Un().gapi)===null||s===void 0)&&s.load)o();else{const a=FM("iframefcb");return Un()[a]=()=>{gapi.load?o():n(jn(t,"network-request-failed"))},y1(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ru=null,e})}let Ru=null;function Q$(t){return Ru=Ru||G$(t),Ru}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y$=new sl(5e3,15e3),X$="__/auth/iframe",J$="emulator/auth/iframe",Z$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ej=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tj(t){const e=t.config;ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Tg(e,J$):`https://${t.config.authDomain}/${X$}`,r={apiKey:e.apiKey,appName:t.name,v:eo},i=ej.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${il(r).slice(1)}`}async function nj(t){const e=await Q$(t),n=Un().gapi;return ie(n,t,"internal-error"),e.open({where:document.body,url:tj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Z$,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=jn(t,"network-request-failed"),a=Un().setTimeout(()=>{s(o)},Y$.get());function l(){Un().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ij=500,sj=600,oj="_blank",aj="http://localhost";class H_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lj(t,e,n,r=ij,i=sj){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},rj),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Pt().toLowerCase();n&&(a=l1(u)?oj:n),a1(u)&&(e=e||aj,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[g,y])=>`${f}${g}=${y},`,"");if(MM(u)&&a!=="_self")return uj(e||"",a),new H_(null);const d=window.open(e||"",a,c);ie(d,t,"popup-blocked");try{d.focus()}catch{}return new H_(d)}function uj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj="__/auth/handler",hj="emulator/auth/handler",dj=encodeURIComponent("fac");async function K_(t,e,n,r,i,s){ie(t.config.authDomain,t,"auth-domain-config-required"),ie(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:eo,eventId:i};if(e instanceof Cg){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",uO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof al){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${dj}=${encodeURIComponent(l)}`:"";return`${fj(t)}?${il(a).slice(1)}${u}`}function fj({config:t}){return t.emulator?Tg(t,hj):`https://${t.authDomain}/${cj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="webStorageSupport";class pj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=R1,this._completeRedirectFn=$$,this._overrideRedirectResult=L$}async _openPopup(e,n,r,i){var s;ar((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await K_(e,n,r,yp(),i);return lj(e,o,kg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await K_(e,n,r,yp(),i);return y$(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ar(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await nj(e),r=new U$(e);return n.register("authEvent",i=>(ie(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Kd,{type:Kd},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Kd];o!==void 0&&n(!!o),mn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=H$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return f1()||Ig()||wh()}}const mj=pj;var q_="@firebase/auth",G_="1.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function vj(t){Os(new xi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ie(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:p1(t)},u=new KM(r,i,s,l);return GM(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Os(new xi("auth-internal",e=>{const n=Bi(e.getProvider("auth").getImmediate());return(r=>new gj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Br(q_,G_,yj(t)),Br(q_,G_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=5*60,wj=KS("authIdTokenMaxAge")||_j;let Q_=null;const Ej=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>wj)return;const i=n==null?void 0:n.token;Q_!==i&&(Q_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Tj(t=YS()){const e=_g(t,"auth");if(e.isInitialized())return e.getImmediate();const n=qM(t,{popupRedirectResolver:mj,persistence:[A$,p$,R1]}),r=KS("authTokenSyncURL");if(r){const s=Ej(r);c$(n,s,()=>s(n.currentUser)),u$(n,o=>s(o))}const i=WS("auth");return i&&QM(n,`http://${i}`),n}vj("Browser");var Sj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$,xg=xg||{},oe=Sj||self;function Sh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ul(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Ij(t){return Object.prototype.hasOwnProperty.call(t,qd)&&t[qd]||(t[qd]=++Rj)}var qd="closure_uid_"+(1e9*Math.random()>>>0),Rj=0;function Aj(t,e,n){return t.call.apply(t.bind,arguments)}function Cj(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ct(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ct=Aj:Ct=Cj,Ct.apply(null,arguments)}function Zl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function dt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ri(){this.s=this.s,this.o=this.o}var kj=0;ri.prototype.s=!1;ri.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),kj!=0)&&Ij(this)};ri.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const D1=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Pg(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Y_(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Sh(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function kt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}kt.prototype.h=function(){this.defaultPrevented=!0};var Nj=function(){if(!oe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{oe.addEventListener("test",()=>{},e),oe.removeEventListener("test",()=>{},e)}catch{}return t}();function Na(t){return/^[\s\xa0]*$/.test(t)}function Ih(){var t=oe.navigator;return t&&(t=t.userAgent)?t:""}function Vn(t){return Ih().indexOf(t)!=-1}function bg(t){return bg[" "](t),t}bg[" "]=function(){};function xj(t,e){var n=TU;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Pj=Vn("Opera"),Ms=Vn("Trident")||Vn("MSIE"),V1=Vn("Edge"),_p=V1||Ms,L1=Vn("Gecko")&&!(Ih().toLowerCase().indexOf("webkit")!=-1&&!Vn("Edge"))&&!(Vn("Trident")||Vn("MSIE"))&&!Vn("Edge"),bj=Ih().toLowerCase().indexOf("webkit")!=-1&&!Vn("Edge");function O1(){var t=oe.document;return t?t.documentMode:void 0}var wp;e:{var Gd="",Qd=function(){var t=Ih();if(L1)return/rv:([^\);]+)(\)|;)/.exec(t);if(V1)return/Edge\/([\d\.]+)/.exec(t);if(Ms)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(bj)return/WebKit\/(\S+)/.exec(t);if(Pj)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Qd&&(Gd=Qd?Qd[1]:""),Ms){var Yd=O1();if(Yd!=null&&Yd>parseFloat(Gd)){wp=String(Yd);break e}}wp=Gd}var Ep;if(oe.document&&Ms){var X_=O1();Ep=X_||parseInt(wp,10)||void 0}else Ep=void 0;var Dj=Ep;function xa(t,e){if(kt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(L1){e:{try{bg(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Vj[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&xa.$.h.call(this)}}dt(xa,kt);var Vj={2:"touch",3:"pen",4:"mouse"};xa.prototype.h=function(){xa.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var cl="closure_listenable_"+(1e6*Math.random()|0),Lj=0;function Oj(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Lj,this.fa=this.ia=!1}function Rh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Dg(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Mj(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function M1(t){const e={};for(const n in t)e[n]=t[n];return e}const J_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $1(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<J_.length;s++)n=J_[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ah(t){this.src=t,this.g={},this.h=0}Ah.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Sp(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new Oj(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Tp(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=D1(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Rh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Sp(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Vg="closure_lm_"+(1e6*Math.random()|0),Xd={};function j1(t,e,n,r,i){if(r&&r.once)return F1(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)j1(t,e[s],n,r,i);return null}return n=Mg(n),t&&t[cl]?t.O(e,n,ul(r)?!!r.capture:!!r,i):U1(t,e,n,!1,r,i)}function U1(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=ul(i)?!!i.capture:!!i,a=Og(t);if(a||(t[Vg]=a=new Ah(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=$j(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Nj||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(z1(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function $j(){function t(n){return e.call(t.src,t.listener,n)}const e=jj;return t}function F1(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)F1(t,e[s],n,r,i);return null}return n=Mg(n),t&&t[cl]?t.P(e,n,ul(r)?!!r.capture:!!r,i):U1(t,e,n,!0,r,i)}function B1(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)B1(t,e[s],n,r,i);else r=ul(r)?!!r.capture:!!r,n=Mg(n),t&&t[cl]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Sp(s,n,r,i),-1<n&&(Rh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Og(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Sp(e,n,r,i)),(n=-1<t?e[t]:null)&&Lg(n))}function Lg(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[cl])Tp(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(z1(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Og(e))?(Tp(n,t),n.h==0&&(n.src=null,e[Vg]=null)):Rh(t)}}}function z1(t){return t in Xd?Xd[t]:Xd[t]="on"+t}function jj(t,e){if(t.fa)t=!0;else{e=new xa(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Lg(t),t=n.call(r,e)}return t}function Og(t){return t=t[Vg],t instanceof Ah?t:null}var Jd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mg(t){return typeof t=="function"?t:(t[Jd]||(t[Jd]=function(e){return t.handleEvent(e)}),t[Jd])}function ht(){ri.call(this),this.i=new Ah(this),this.S=this,this.J=null}dt(ht,ri);ht.prototype[cl]=!0;ht.prototype.removeEventListener=function(t,e,n,r){B1(this,t,e,n,r)};function yt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new kt(e,t);else if(e instanceof kt)e.target=e.target||t;else{var i=e;e=new kt(r,t),$1(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=eu(o,r,!0,e)&&i}if(o=e.g=t,i=eu(o,r,!0,e)&&i,i=eu(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=eu(o,r,!1,e)&&i}ht.prototype.N=function(){if(ht.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Rh(n[r]);delete t.g[e],t.h--}}this.J=null};ht.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};ht.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function eu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Tp(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var $g=oe.JSON.stringify;class Uj{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function Fj(){var t=jg;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Bj{constructor(){this.h=this.g=null}add(e,n){const r=W1.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var W1=new Uj(()=>new zj,t=>t.reset());class zj{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Wj(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Hj(t){oe.setTimeout(()=>{throw t},0)}let Pa,ba=!1,jg=new Bj,H1=()=>{const t=oe.Promise.resolve(void 0);Pa=()=>{t.then(Kj)}};var Kj=()=>{for(var t;t=Fj();){try{t.h.call(t.g)}catch(n){Hj(n)}var e=W1;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ba=!1};function Ch(t,e){ht.call(this),this.h=t||1,this.g=e||oe,this.j=Ct(this.qb,this),this.l=Date.now()}dt(Ch,ht);$=Ch.prototype;$.ga=!1;$.T=null;$.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),yt(this,"tick"),this.ga&&(Ug(this),this.start()))}};$.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ug(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}$.N=function(){Ch.$.N.call(this),Ug(this),delete this.g};function Fg(t,e,n){if(typeof t=="function")n&&(t=Ct(t,n));else if(t&&typeof t.handleEvent=="function")t=Ct(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:oe.setTimeout(t,e||0)}function K1(t){t.g=Fg(()=>{t.g=null,t.i&&(t.i=!1,K1(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class qj extends ri{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:K1(this)}N(){super.N(),this.g&&(oe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Da(t){ri.call(this),this.h=t,this.g={}}dt(Da,ri);var Z_=[];function q1(t,e,n,r){Array.isArray(n)||(n&&(Z_[0]=n.toString()),n=Z_);for(var i=0;i<n.length;i++){var s=j1(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function G1(t){Dg(t.g,function(e,n){this.g.hasOwnProperty(n)&&Lg(e)},t),t.g={}}Da.prototype.N=function(){Da.$.N.call(this),G1(this)};Da.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function kh(){this.g=!0}kh.prototype.Ea=function(){this.g=!1};function Gj(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function Qj(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function cs(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Xj(t,n)+(r?" "+r:"")})}function Yj(t,e){t.info(function(){return"TIMEOUT: "+e})}kh.prototype.info=function(){};function Xj(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return $g(n)}catch{return e}}var zi={},e0=null;function Nh(){return e0=e0||new ht}zi.Ta="serverreachability";function Q1(t){kt.call(this,zi.Ta,t)}dt(Q1,kt);function Va(t){const e=Nh();yt(e,new Q1(e))}zi.STAT_EVENT="statevent";function Y1(t,e){kt.call(this,zi.STAT_EVENT,t),this.stat=e}dt(Y1,kt);function Ot(t){const e=Nh();yt(e,new Y1(e,t))}zi.Ua="timingevent";function X1(t,e){kt.call(this,zi.Ua,t),this.size=e}dt(X1,kt);function hl(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return oe.setTimeout(function(){t()},e)}var xh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},J1={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Bg(){}Bg.prototype.h=null;function t0(t){return t.h||(t.h=t.i())}function Z1(){}var dl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function zg(){kt.call(this,"d")}dt(zg,kt);function Wg(){kt.call(this,"c")}dt(Wg,kt);var Ip;function Ph(){}dt(Ph,Bg);Ph.prototype.g=function(){return new XMLHttpRequest};Ph.prototype.i=function(){return{}};Ip=new Ph;function fl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Da(this),this.P=Jj,t=_p?125:void 0,this.V=new Ch(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new eI}function eI(){this.i=null,this.g="",this.h=!1}var Jj=45e3,Rp={},mc={};$=fl.prototype;$.setTimeout=function(t){this.P=t};function Ap(t,e,n){t.L=1,t.v=Dh(lr(e)),t.s=n,t.S=!0,tI(t,null)}function tI(t,e){t.G=Date.now(),pl(t),t.A=lr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),uI(n.i,"t",r),t.C=0,n=t.l.J,t.h=new eI,t.g=xI(t.l,n?e:null,!t.s),0<t.O&&(t.M=new qj(Ct(t.Pa,t,t.g),t.O)),q1(t.U,t.g,"readystatechange",t.nb),e=t.I?M1(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Va(),Gj(t.j,t.u,t.A,t.m,t.W,t.s)}$.nb=function(t){t=t.target;const e=this.M;e&&Ln(t)==3?e.l():this.Pa(t)};$.Pa=function(t){try{if(t==this.g)e:{const c=Ln(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||_p||this.g&&(this.h.h||this.g.ja()||s0(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?Va(3):Va(2)),bh(this);var n=this.g.da();this.ca=n;t:if(nI(this)){var r=s0(this.g);t="";var i=r.length,s=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gi(this),ta(this);var o="";break t}this.h.i=new oe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,Qj(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Na(a)){var u=a;break t}}u=null}if(n=u)cs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cp(this,n);else{this.i=!1,this.o=3,Ot(12),gi(this),ta(this);break e}}this.S?(rI(this,c,o),_p&&this.i&&c==3&&(q1(this.U,this.V,"tick",this.mb),this.V.start())):(cs(this.j,this.m,o,null),Cp(this,o)),c==4&&gi(this),this.i&&!this.J&&(c==4?AI(this.l,this):(this.i=!1,pl(this)))}else _U(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Ot(12)):(this.o=0,Ot(13)),gi(this),ta(this)}}}catch{}finally{}};function nI(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function rI(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=Zj(t,n),i==mc){e==4&&(t.o=4,Ot(14),r=!1),cs(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Rp){t.o=4,Ot(15),cs(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else cs(t.j,t.m,i,null),Cp(t,i);nI(t)&&i!=mc&&i!=Rp&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Ot(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Yg(e),e.M=!0,Ot(11))):(cs(t.j,t.m,n,"[Invalid Chunked Response]"),gi(t),ta(t))}$.mb=function(){if(this.g){var t=Ln(this.g),e=this.g.ja();this.C<e.length&&(bh(this),rI(this,t,e),this.i&&t!=4&&pl(this))}};function Zj(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?mc:(n=Number(e.substring(n,r)),isNaN(n)?Rp:(r+=1,r+n>e.length?mc:(e=e.slice(r,r+n),t.C=r+n,e)))}$.cancel=function(){this.J=!0,gi(this)};function pl(t){t.Y=Date.now()+t.P,iI(t,t.P)}function iI(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=hl(Ct(t.lb,t),e)}function bh(t){t.B&&(oe.clearTimeout(t.B),t.B=null)}$.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(Yj(this.j,this.A),this.L!=2&&(Va(),Ot(17)),gi(this),this.o=2,ta(this)):iI(this,this.Y-t)};function ta(t){t.l.H==0||t.J||AI(t.l,t)}function gi(t){bh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Ug(t.V),G1(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Cp(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||kp(n.i,t))){if(!t.K&&kp(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)vc(n),Oh(n);else break e;Qg(n),Ot(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=hl(Ct(n.ib,n),6e3));if(1>=dI(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else yi(n,11)}else if((t.K||n.g==t)&&vc(n),!Na(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const g=t.g;if(g){const y=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var s=r.i;s.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Hg(s,s.h),s.h=null))}if(r.F){const _=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,xe(r.I,r.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=NI(r,r.J?r.pa:null,r.Y),o.K){fI(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(bh(a),pl(a)),r.g=o}else II(r);0<n.j.length&&Mh(n)}else u[0]!="stop"&&u[0]!="close"||yi(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?yi(n,7):Gg(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Va(4)}catch{}}function eU(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Sh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function tU(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Sh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function sI(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Sh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=tU(t),r=eU(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var oI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nU(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ti(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ti){this.h=t.h,gc(this,t.j),this.s=t.s,this.g=t.g,yc(this,t.m),this.l=t.l;var e=t.i,n=new La;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),n0(this,n),this.o=t.o}else t&&(e=String(t).match(oI))?(this.h=!1,gc(this,e[1]||"",!0),this.s=Mo(e[2]||""),this.g=Mo(e[3]||"",!0),yc(this,e[4]),this.l=Mo(e[5]||"",!0),n0(this,e[6]||"",!0),this.o=Mo(e[7]||"")):(this.h=!1,this.i=new La(null,this.h))}Ti.prototype.toString=function(){var t=[],e=this.j;e&&t.push($o(e,r0,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push($o(e,r0,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push($o(n,n.charAt(0)=="/"?sU:iU,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",$o(n,aU)),t.join("")};function lr(t){return new Ti(t)}function gc(t,e,n){t.j=n?Mo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function yc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function n0(t,e,n){e instanceof La?(t.i=e,lU(t.i,t.h)):(n||(e=$o(e,oU)),t.i=new La(e,t.h))}function xe(t,e,n){t.i.set(e,n)}function Dh(t){return xe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Mo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function $o(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,rU),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function rU(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var r0=/[#\/\?@]/g,iU=/[#\?:]/g,sU=/[#\?]/g,oU=/[#\?@]/g,aU=/#/g;function La(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ii(t){t.g||(t.g=new Map,t.h=0,t.i&&nU(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}$=La.prototype;$.add=function(t,e){ii(this),this.i=null,t=io(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function aI(t,e){ii(t),e=io(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function lI(t,e){return ii(t),e=io(t,e),t.g.has(e)}$.forEach=function(t,e){ii(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};$.ta=function(){ii(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};$.Z=function(t){ii(this);let e=[];if(typeof t=="string")lI(this,t)&&(e=e.concat(this.g.get(io(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};$.set=function(t,e){return ii(this),this.i=null,t=io(this,t),lI(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};$.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function uI(t,e,n){aI(t,e),0<n.length&&(t.i=null,t.g.set(io(t,e),Pg(n)),t.h+=n.length)}$.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function io(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function lU(t,e){e&&!t.j&&(ii(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(aI(this,r),uI(this,i,n))},t)),t.j=e}var uU=class{constructor(t,e){this.g=t,this.map=e}};function cI(t){this.l=t||cU,oe.PerformanceNavigationTiming?(t=oe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(oe.g&&oe.g.Ka&&oe.g.Ka()&&oe.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var cU=10;function hI(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function dI(t){return t.h?1:t.g?t.g.size:0}function kp(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Hg(t,e){t.g?t.g.add(e):t.h=e}function fI(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}cI.prototype.cancel=function(){if(this.i=pI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function pI(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Pg(t.i)}var hU=class{stringify(t){return oe.JSON.stringify(t,void 0)}parse(t){return oe.JSON.parse(t,void 0)}};function dU(){this.g=new hU}function fU(t,e,n){const r=n||"";try{sI(t,function(i,s){let o=i;ul(i)&&(o=$g(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function pU(t,e){const n=new kh;if(oe.Image){const r=new Image;r.onload=Zl(tu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Zl(tu,n,r,"TestLoadImage: error",!1,e),r.onabort=Zl(tu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Zl(tu,n,r,"TestLoadImage: timeout",!1,e),oe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function tu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ml(t){this.l=t.fc||null,this.j=t.ob||!1}dt(ml,Bg);ml.prototype.g=function(){return new Vh(this.l,this.j)};ml.prototype.i=function(t){return function(){return t}}({});function Vh(t,e){ht.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Kg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}dt(Vh,ht);var Kg=0;$=Vh.prototype;$.open=function(t,e){if(this.readyState!=Kg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Oa(this)};$.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||oe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};$.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gl(this)),this.readyState=Kg};$.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Oa(this)),this.g&&(this.readyState=3,Oa(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof oe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;mI(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function mI(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}$.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?gl(this):Oa(this),this.readyState==3&&mI(this)}};$.Za=function(t){this.g&&(this.response=this.responseText=t,gl(this))};$.Ya=function(t){this.g&&(this.response=t,gl(this))};$.ka=function(){this.g&&gl(this)};function gl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Oa(t)}$.setRequestHeader=function(t,e){this.v.append(t,e)};$.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};$.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Oa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Vh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var mU=oe.JSON.parse;function Ge(t){ht.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=gI,this.L=this.M=!1}dt(Ge,ht);var gI="",gU=/^https?$/i,yU=["POST","PUT"];$=Ge.prototype;$.Oa=function(t){this.M=t};$.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ip.g(),this.C=this.u?t0(this.u):t0(Ip),this.g.onreadystatechange=Ct(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){i0(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=oe.FormData&&t instanceof oe.FormData,!(0<=D1(yU,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{_I(this),0<this.B&&((this.L=vU(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ct(this.ua,this)):this.A=Fg(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){i0(this,s)}};function vU(t){return Ms&&typeof t.timeout=="number"&&t.ontimeout!==void 0}$.ua=function(){typeof xg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,yt(this,"timeout"),this.abort(8))};function i0(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,yI(t),Lh(t)}function yI(t){t.F||(t.F=!0,yt(t,"complete"),yt(t,"error"))}$.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,yt(this,"complete"),yt(this,"abort"),Lh(this))};$.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Lh(this,!0)),Ge.$.N.call(this)};$.La=function(){this.s||(this.G||this.v||this.l?vI(this):this.kb())};$.kb=function(){vI(this)};function vI(t){if(t.h&&typeof xg<"u"&&(!t.C[1]||Ln(t)!=4||t.da()!=2)){if(t.v&&Ln(t)==4)Fg(t.La,0,t);else if(yt(t,"readystatechange"),Ln(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(oI)[1]||null;!i&&oe.self&&oe.self.location&&(i=oe.self.location.protocol.slice(0,-1)),r=!gU.test(i?i.toLowerCase():"")}n=r}if(n)yt(t,"complete"),yt(t,"success");else{t.m=6;try{var s=2<Ln(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",yI(t)}}finally{Lh(t)}}}}function Lh(t,e){if(t.g){_I(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||yt(t,"ready");try{n.onreadystatechange=r}catch{}}}function _I(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(oe.clearTimeout(t.A),t.A=null)}$.isActive=function(){return!!this.g};function Ln(t){return t.g?t.g.readyState:0}$.da=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}};$.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};$.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),mU(e)}};function s0(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case gI:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function _U(t){const e={};t=(t.g&&2<=Ln(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Na(t[r]))continue;var n=Wj(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}Mj(e,function(r){return r.join(", ")})}$.Ia=function(){return this.m};$.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function wI(t){let e="";return Dg(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function qg(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=wI(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):xe(t,e,n))}function Co(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function EI(t){this.Ga=0,this.j=[],this.l=new kh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Co("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Co("baseRetryDelayMs",5e3,t),this.hb=Co("retryDelaySeedMs",1e4,t),this.eb=Co("forwardChannelMaxRetries",2,t),this.xa=Co("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new cI(t&&t.concurrentRequestLimit),this.Ja=new dU,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}$=EI.prototype;$.ra=8;$.H=1;function Gg(t){if(TI(t),t.H==3){var e=t.W++,n=lr(t.I);if(xe(n,"SID",t.K),xe(n,"RID",e),xe(n,"TYPE","terminate"),yl(t,n),e=new fl(t,t.l,e),e.L=2,e.v=Dh(lr(n)),n=!1,oe.navigator&&oe.navigator.sendBeacon)try{n=oe.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&oe.Image&&(new Image().src=e.v,n=!0),n||(e.g=xI(e.l,null),e.g.ha(e.v)),e.G=Date.now(),pl(e)}kI(t)}function Oh(t){t.g&&(Yg(t),t.g.cancel(),t.g=null)}function TI(t){Oh(t),t.u&&(oe.clearTimeout(t.u),t.u=null),vc(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&oe.clearTimeout(t.m),t.m=null)}function Mh(t){if(!hI(t.i)&&!t.m){t.m=!0;var e=t.Na;Pa||H1(),ba||(Pa(),ba=!0),jg.add(e,t),t.C=0}}function wU(t,e){return dI(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=hl(Ct(t.Na,t,e),CI(t,t.C)),t.C++,!0)}$.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new fl(this,this.l,t);let s=this.s;if(this.U&&(s?(s=M1(s),$1(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=SI(this,i,e),n=lr(this.I),xe(n,"RID",t),xe(n,"CVER",22),this.F&&xe(n,"X-HTTP-Session-Id",this.F),yl(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(wI(s)))+"&"+e:this.o&&qg(n,this.o,s)),Hg(this.i,i),this.bb&&xe(n,"TYPE","init"),this.P?(xe(n,"$req",e),xe(n,"SID","null"),i.aa=!0,Ap(i,n,null)):Ap(i,n,e),this.H=2}}else this.H==3&&(t?o0(this,t):this.j.length==0||hI(this.i)||o0(this))};function o0(t,e){var n;e?n=e.m:n=t.W++;const r=lr(t.I);xe(r,"SID",t.K),xe(r,"RID",n),xe(r,"AID",t.V),yl(t,r),t.o&&t.s&&qg(r,t.o,t.s),n=new fl(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=SI(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Hg(t.i,n),Ap(n,r,e)}function yl(t,e){t.na&&Dg(t.na,function(n,r){xe(e,r,n)}),t.h&&sI({},function(n,r){xe(e,r,n)})}function SI(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ct(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{fU(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function II(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Pa||H1(),ba||(Pa(),ba=!0),jg.add(e,t),t.A=0}}function Qg(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=hl(Ct(t.Ma,t),CI(t,t.A)),t.A++,!0)}$.Ma=function(){if(this.u=null,RI(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=hl(Ct(this.jb,this),t)}};$.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ot(10),Oh(this),RI(this))};function Yg(t){t.B!=null&&(oe.clearTimeout(t.B),t.B=null)}function RI(t){t.g=new fl(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=lr(t.wa);xe(e,"RID","rpc"),xe(e,"SID",t.K),xe(e,"AID",t.V),xe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&xe(e,"TO",t.qa),xe(e,"TYPE","xmlhttp"),yl(t,e),t.o&&t.s&&qg(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Dh(lr(e)),n.s=null,n.S=!0,tI(n,t)}$.ib=function(){this.v!=null&&(this.v=null,Oh(this),Qg(this),Ot(19))};function vc(t){t.v!=null&&(oe.clearTimeout(t.v),t.v=null)}function AI(t,e){var n=null;if(t.g==e){vc(t),Yg(t),t.g=null;var r=2}else if(kp(t.i,e))n=e.F,fI(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Nh(),yt(r,new X1(r,n)),Mh(t)}else II(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&wU(t,e)||r==2&&Qg(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:yi(t,5);break;case 4:yi(t,10);break;case 3:yi(t,6);break;default:yi(t,2)}}}function CI(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function yi(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ct(t.pb,t);n||(n=new Ti("//www.google.com/images/cleardot.gif"),oe.location&&oe.location.protocol=="http"||gc(n,"https"),Dh(n)),pU(n.toString(),r)}else Ot(2);t.H=0,t.h&&t.h.za(e),kI(t),TI(t)}$.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Ot(2)):(this.l.info("Failed to ping google.com"),Ot(1))};function kI(t){if(t.H=0,t.ma=[],t.h){const e=pI(t.i);(e.length!=0||t.j.length!=0)&&(Y_(t.ma,e),Y_(t.ma,t.j),t.i.i.length=0,Pg(t.j),t.j.length=0),t.h.ya()}}function NI(t,e,n){var r=n instanceof Ti?lr(n):new Ti(n);if(r.g!="")e&&(r.g=e+"."+r.g),yc(r,r.m);else{var i=oe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ti(null);r&&gc(s,r),e&&(s.g=e),i&&yc(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&xe(r,n,e),xe(r,"VER",t.ra),yl(t,r),r}function xI(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Ge(new ml({ob:!0})):new Ge(t.va),e.Oa(t.J),e}$.isActive=function(){return!!this.h&&this.h.isActive(this)};function PI(){}$=PI.prototype;$.Ba=function(){};$.Aa=function(){};$.za=function(){};$.ya=function(){};$.isActive=function(){return!0};$.Va=function(){};function _c(){if(Ms&&!(10<=Number(Dj)))throw Error("Environmental error: no available transport.")}_c.prototype.g=function(t,e){return new tn(t,e)};function tn(t,e){ht.call(this),this.g=new EI(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Na(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Na(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new so(this)}dt(tn,ht);tn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Ot(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=NI(t,null,t.Y),Mh(t)};tn.prototype.close=function(){Gg(this.g)};tn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=$g(t),t=n);e.j.push(new uU(e.fb++,t)),e.H==3&&Mh(e)};tn.prototype.N=function(){this.g.h=null,delete this.j,Gg(this.g),delete this.g,tn.$.N.call(this)};function bI(t){zg.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}dt(bI,zg);function DI(){Wg.call(this),this.status=1}dt(DI,Wg);function so(t){this.g=t}dt(so,PI);so.prototype.Ba=function(){yt(this.g,"a")};so.prototype.Aa=function(t){yt(this.g,new bI(t))};so.prototype.za=function(t){yt(this.g,new DI)};so.prototype.ya=function(){yt(this.g,"b")};function EU(){this.blockSize=-1}function Cn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}dt(Cn,EU);Cn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Zd(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Cn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Zd(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Zd(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Zd(this,r),i=0;break}}this.h=i,this.i+=e};Cn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Se(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var TU={};function Xg(t){return-128<=t&&128>t?xj(t,function(e){return new Se([e|0],0>e?-1:0)}):new Se([t|0],0>t?-1:0)}function On(t){if(isNaN(t)||!isFinite(t))return ws;if(0>t)return mt(On(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Np;return new Se(e,0)}function VI(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return mt(VI(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=On(Math.pow(e,8)),r=ws,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=On(Math.pow(e,s)),r=r.R(s).add(On(o))):(r=r.R(n),r=r.add(On(o)))}return r}var Np=4294967296,ws=Xg(0),xp=Xg(1),a0=Xg(16777216);$=Se.prototype;$.ea=function(){if(cn(this))return-mt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Np+r)*e,e*=Np}return t};$.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(er(this))return"0";if(cn(this))return"-"+mt(this).toString(t);for(var e=On(Math.pow(t,6)),n=this,r="";;){var i=Ec(n,e).g;n=wc(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,er(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};$.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function er(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function cn(t){return t.h==-1}$.X=function(t){return t=wc(this,t),cn(t)?-1:er(t)?0:1};function mt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Se(n,~t.h).add(xp)}$.abs=function(){return cn(this)?mt(this):this};$.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Se(n,n[n.length-1]&-2147483648?-1:0)};function wc(t,e){return t.add(mt(e))}$.R=function(t){if(er(this)||er(t))return ws;if(cn(this))return cn(t)?mt(this).R(mt(t)):mt(mt(this).R(t));if(cn(t))return mt(this.R(mt(t)));if(0>this.X(a0)&&0>t.X(a0))return On(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,nu(n,2*r+2*i),n[2*r+2*i+1]+=s*l,nu(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,nu(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,nu(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Se(n,0)};function nu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ko(t,e){this.g=t,this.h=e}function Ec(t,e){if(er(e))throw Error("division by zero");if(er(t))return new ko(ws,ws);if(cn(t))return e=Ec(mt(t),e),new ko(mt(e.g),mt(e.h));if(cn(e))return e=Ec(t,mt(e)),new ko(mt(e.g),e.h);if(30<t.g.length){if(cn(t)||cn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=xp,r=e;0>=r.X(t);)n=l0(n),r=l0(r);var i=Qi(n,1),s=Qi(r,1);for(r=Qi(r,2),n=Qi(n,2);!er(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Qi(r,1),n=Qi(n,1)}return e=wc(t,i.R(e)),new ko(i,e)}for(i=ws;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=On(n),o=s.R(e);cn(o)||0<o.X(t);)n-=r,s=On(n),o=s.R(e);er(s)&&(s=xp),i=i.add(s),t=wc(t,o)}return new ko(i,t)}$.gb=function(t){return Ec(this,t).h};$.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Se(n,this.h&t.h)};$.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Se(n,this.h|t.h)};$.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Se(n,this.h^t.h)};function l0(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Se(n,t.h)}function Qi(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Se(i,t.h)}_c.prototype.createWebChannel=_c.prototype.g;tn.prototype.send=tn.prototype.u;tn.prototype.open=tn.prototype.m;tn.prototype.close=tn.prototype.close;xh.NO_ERROR=0;xh.TIMEOUT=8;xh.HTTP_ERROR=6;J1.COMPLETE="complete";Z1.EventType=dl;dl.OPEN="a";dl.CLOSE="b";dl.ERROR="c";dl.MESSAGE="d";ht.prototype.listen=ht.prototype.O;Ge.prototype.listenOnce=Ge.prototype.P;Ge.prototype.getLastError=Ge.prototype.Sa;Ge.prototype.getLastErrorCode=Ge.prototype.Ia;Ge.prototype.getStatus=Ge.prototype.da;Ge.prototype.getResponseJson=Ge.prototype.Wa;Ge.prototype.getResponseText=Ge.prototype.ja;Ge.prototype.send=Ge.prototype.ha;Ge.prototype.setWithCredentials=Ge.prototype.Oa;Cn.prototype.digest=Cn.prototype.l;Cn.prototype.reset=Cn.prototype.reset;Cn.prototype.update=Cn.prototype.j;Se.prototype.add=Se.prototype.add;Se.prototype.multiply=Se.prototype.R;Se.prototype.modulo=Se.prototype.gb;Se.prototype.compare=Se.prototype.X;Se.prototype.toNumber=Se.prototype.ea;Se.prototype.toString=Se.prototype.toString;Se.prototype.getBits=Se.prototype.D;Se.fromNumber=On;Se.fromString=VI;var SU=function(){return new _c},IU=function(){return Nh()},ef=xh,RU=J1,AU=zi,u0={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},CU=ml,ru=Z1,kU=Ge,NU=Cn,Es=Se;const c0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}St.UNAUTHENTICATED=new St(null),St.GOOGLE_CREDENTIALS=new St("google-credentials-uid"),St.FIRST_PARTY=new St("first-party-uid"),St.MOCK_USER=new St("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oo="10.1.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new yg("@firebase/firestore");function h0(){return Vi.logLevel}function K(t,...e){if(Vi.logLevel<=we.DEBUG){const n=e.map(Jg);Vi.debug(`Firestore (${oo}): ${t}`,...n)}}function ur(t,...e){if(Vi.logLevel<=we.ERROR){const n=e.map(Jg);Vi.error(`Firestore (${oo}): ${t}`,...n)}}function $s(t,...e){if(Vi.logLevel<=we.WARN){const n=e.map(Jg);Vi.warn(`Firestore (${oo}): ${t}`,...n)}}function Jg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t="Unexpected state"){const e=`FIRESTORE (${oo}) INTERNAL ASSERTION FAILED: `+t;throw ur(e),new Error(e)}function Le(t,e){t||se()}function he(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class B extends mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(St.UNAUTHENTICATED))}shutdown(){}}class PU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class bU{constructor(e){this.t=e,this.currentUser=St.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new nr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new nr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new nr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le(typeof r.accessToken=="string"),new LI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string"),new St(e)}}class DU{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=St.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class VU{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new DU(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(St.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class LU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OU{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Le(typeof n.token=="string"),this.R=n.token,new LU(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MU(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=MU(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ee(t,e){return t<e?-1:t>e?1:0}function js(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new B(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new B(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new it(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.timestamp=e}static fromTimestamp(e){return new le(e)}static min(){return new le(new it(0,0))}static max(){return new le(new it(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(),r===void 0?r=e.length-n:r>e.length-n&&se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ma.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ma?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Pe extends Ma{construct(e,n,r){return new Pe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new B(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Pe(n)}static emptyPath(){return new Pe([])}}const $U=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class At extends Ma{construct(e,n,r){return new At(e,n,r)}static isValidIdentifier(e){return $U.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),At.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new At(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new B(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new B(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new B(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new B(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new At(n)}static emptyPath(){return new At([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.path=e}static fromPath(e){return new Y(Pe.fromString(e))}static fromName(e){return new Y(Pe.fromString(e).popFirst(5))}static empty(){return new Y(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new Pe(e.slice()))}}function jU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=le.fromTimestamp(r===1e9?new it(n+1,0):new it(n,r));return new qr(i,Y.empty(),e)}function UU(t){return new qr(t.readTime,t.key,-1)}class qr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new qr(le.min(),Y.empty(),-1)}static max(){return new qr(le.max(),Y.empty(),-1)}}function FU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:Ee(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vl(t){if(t.code!==k.FAILED_PRECONDITION||t.message!==BU)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new V((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof V?n:V.resolve(n)}catch(n){return V.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):V.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):V.reject(n)}static resolve(e){return new V((n,r)=>{n(e)})}static reject(e){return new V((n,r)=>{r(e)})}static waitFor(e){return new V((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=V.resolve(!1);for(const r of e)n=n.next(i=>i?V.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new V((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new V((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function _l(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Zg.ae=-1;function $h(t){return t==null}function Tc(t){return t===0&&1/t==-1/0}function WU(t){return typeof t=="number"&&Number.isInteger(t)&&!Tc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function MI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,n){this.comparator=e,this.root=n||pt.EMPTY}insert(e,n){return new Ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pt.BLACK,null,null))}remove(e){return new Ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new iu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new iu(this.root,e,this.comparator,!1)}getReverseIterator(){return new iu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new iu(this.root,e,this.comparator,!0)}}class iu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??pt.RED,this.left=i??pt.EMPTY,this.right=s??pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new pt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return pt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();const e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}}pt.EMPTY=null,pt.RED=!0,pt.BLACK=!1;pt.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(e,n,r,i,s){return this}insert(e,n,r){return new pt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new f0(this.data.getIterator())}getIteratorFrom(e){return new f0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Nt(this.comparator);return n.data=e,n}}class f0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.fields=e,e.sort(At.comparator)}static empty(){return new Jt([])}unionWith(e){let n=new Nt(At.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Jt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return js(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new $I("Invalid base64 string: "+s):s}}(e);return new Dt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dt.EMPTY_BYTE_STRING=new Dt("");const HU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gr(t){if(Le(!!t),typeof t=="string"){let e=0;const n=HU.exec(t);if(Le(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Je(t.seconds),nanos:Je(t.nanos)}}function Je(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Li(t){return typeof t=="string"?Dt.fromBase64String(t):Dt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ty(t){const e=t.mapValue.fields.__previous_value__;return ey(e)?ty(e):e}function $a(t){const e=Gr(t.mapValue.fields.__local_write_time__.timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class ja{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ja("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ja&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Oi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ey(t)?4:qU(t)?9007199254740991:10:se()}function Bn(t,e){if(t===e)return!0;const n=Oi(t);if(n!==Oi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $a(t).isEqual($a(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Gr(i.timestampValue),a=Gr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Li(i.bytesValue).isEqual(Li(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Je(i.geoPointValue.latitude)===Je(s.geoPointValue.latitude)&&Je(i.geoPointValue.longitude)===Je(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Je(i.integerValue)===Je(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Je(i.doubleValue),a=Je(s.doubleValue);return o===a?Tc(o)===Tc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return js(t.arrayValue.values||[],e.arrayValue.values||[],Bn);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(d0(o)!==d0(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Bn(o[l],a[l])))return!1;return!0}(t,e);default:return se()}}function Ua(t,e){return(t.values||[]).find(n=>Bn(n,e))!==void 0}function Us(t,e){if(t===e)return 0;const n=Oi(t),r=Oi(e);if(n!==r)return Ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Je(s.integerValue||s.doubleValue),l=Je(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return p0(t.timestampValue,e.timestampValue);case 4:return p0($a(t),$a(e));case 5:return Ee(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Li(s),l=Li(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Ee(a[u],l[u]);if(c!==0)return c}return Ee(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ee(Je(s.latitude),Je(o.latitude));return a!==0?a:Ee(Je(s.longitude),Je(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Us(a[u],l[u]);if(c)return c}return Ee(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===su.mapValue&&o===su.mapValue)return 0;if(s===su.mapValue)return 1;if(o===su.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const f=Ee(l[d],c[d]);if(f!==0)return f;const g=Us(a[l[d]],u[c[d]]);if(g!==0)return g}return Ee(l.length,c.length)}(t.mapValue,e.mapValue);default:throw se()}}function p0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ee(t,e);const n=Gr(t),r=Gr(e),i=Ee(n.seconds,r.seconds);return i!==0?i:Ee(n.nanos,r.nanos)}function Fs(t){return Pp(t)}function Pp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Gr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Li(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Y.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Pp(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Pp(n.fields[o])}`;return i+"}"}(t.mapValue):se()}function m0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function bp(t){return!!t&&"integerValue"in t}function ny(t){return!!t&&"arrayValue"in t}function g0(t){return!!t&&"nullValue"in t}function y0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Au(t){return!!t&&"mapValue"in t}function na(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Wi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=na(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=na(t.arrayValue.values[n]);return e}return Object.assign({},t)}function qU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.value=e}static empty(){return new zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Au(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=na(n)}setAll(e){let n=At.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=na(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Au(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Au(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Wi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new zt(na(this.value))}}function jI(t){const e=[];return Wi(t.fields,(n,r)=>{const i=new At([n]);if(Au(r)){const s=jI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Jt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Rt(e,0,le.min(),le.min(),le.min(),zt.empty(),0)}static newFoundDocument(e,n,r,i){return new Rt(e,1,n,le.min(),r,i,0)}static newNoDocument(e,n){return new Rt(e,2,n,le.min(),le.min(),zt.empty(),0)}static newUnknownDocument(e,n){return new Rt(e,3,n,le.min(),le.min(),zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n){this.position=e,this.inclusive=n}}function v0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Y.comparator(Y.fromName(o.referenceValue),n.key):r=Us(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function _0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Bn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n="asc"){this.field=e,this.dir=n}}function GU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{}class et extends UI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new YU(e,n,r):n==="array-contains"?new ZU(e,r):n==="in"?new eF(e,r):n==="not-in"?new tF(e,r):n==="array-contains-any"?new nF(e,r):new et(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new XU(e,r):new JU(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Us(n,this.value)):n!==null&&Oi(this.value)===Oi(n)&&this.matchesComparison(Us(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class kn extends UI{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new kn(e,n)}matches(e){return FI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function FI(t){return t.op==="and"}function BI(t){return QU(t)&&FI(t)}function QU(t){for(const e of t.filters)if(e instanceof kn)return!1;return!0}function Dp(t){if(t instanceof et)return t.field.canonicalString()+t.op.toString()+Fs(t.value);if(BI(t))return t.filters.map(e=>Dp(e)).join(",");{const e=t.filters.map(n=>Dp(n)).join(",");return`${t.op}(${e})`}}function zI(t,e){return t instanceof et?function(r,i){return i instanceof et&&r.op===i.op&&r.field.isEqual(i.field)&&Bn(r.value,i.value)}(t,e):t instanceof kn?function(r,i){return i instanceof kn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&zI(o,i.filters[a]),!0):!1}(t,e):void se()}function WI(t){return t instanceof et?function(n){return`${n.field.canonicalString()} ${n.op} ${Fs(n.value)}`}(t):t instanceof kn?function(n){return n.op.toString()+" {"+n.getFilters().map(WI).join(" ,")+"}"}(t):"Filter"}class YU extends et{constructor(e,n,r){super(e,n,r),this.key=Y.fromName(r.referenceValue)}matches(e){const n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}}class XU extends et{constructor(e,n){super(e,"in",n),this.keys=HI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class JU extends et{constructor(e,n){super(e,"not-in",n),this.keys=HI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function HI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Y.fromName(r.referenceValue))}class ZU extends et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ny(n)&&Ua(n.arrayValue,this.value)}}class eF extends et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ua(this.value.arrayValue,n)}}class tF extends et{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ua(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ua(this.value.arrayValue,n)}}class nF extends et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ny(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ua(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.he=null}}function w0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new rF(t,e,n,r,i,s,o)}function ry(t){const e=he(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Dp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),$h(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Fs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Fs(r)).join(",")),e.he=n}return e.he}function iy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!GU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!zI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_0(t.startAt,e.startAt)&&_0(t.endAt,e.endAt)}function Vp(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function iF(t,e,n,r,i,s,o,a){return new wl(t,e,n,r,i,s,o,a)}function sy(t){return new wl(t)}function E0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function KI(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function oy(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function qI(t){return t.collectionGroup!==null}function Ts(t){const e=he(t);if(e.Pe===null){e.Pe=[];const n=oy(e),r=KI(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new ra(n)),e.Pe.push(new ra(At.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.Pe.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new ra(At.keyField(),s))}}}return e.Pe}function cr(t){const e=he(t);if(!e.Ie)if(e.limitType==="F")e.Ie=w0(e.path,e.collectionGroup,Ts(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Ts(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new ra(s.field,o))}const r=e.endAt?new Sc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Sc(e.startAt.position,e.startAt.inclusive):null;e.Ie=w0(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.Ie}function Lp(t,e){e.getFirstInequalityField(),oy(t);const n=t.filters.concat([e]);return new wl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Op(t,e,n){return new wl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jh(t,e){return iy(cr(t),cr(e))&&t.limitType===e.limitType}function GI(t){return`${ry(cr(t))}|lt:${t.limitType}`}function Mp(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>WI(i)).join(", ")}]`),$h(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Fs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Fs(i)).join(",")),`Target(${r})`}(cr(t))}; limitType=${t.limitType})`}function Uh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Y.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ts(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=v0(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Ts(r),i)||r.endAt&&!function(o,a,l){const u=v0(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Ts(r),i))}(t,e)}function sF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function QI(t){return(e,n)=>{let r=!1;for(const i of Ts(t)){const s=oF(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function oF(t,e,n){const r=t.field.isKeyField()?Y.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Us(l,u):se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Wi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return MI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aF=new Ke(Y.comparator);function hr(){return aF}const YI=new Ke(Y.comparator);function jo(...t){let e=YI;for(const n of t)e=e.insert(n.key,n);return e}function XI(t){let e=YI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function vi(){return ia()}function JI(){return ia()}function ia(){return new ao(t=>t.toString(),(t,e)=>t.isEqual(e))}const lF=new Ke(Y.comparator),uF=new Nt(Y.comparator);function me(...t){let e=uF;for(const n of t)e=e.add(n);return e}const cF=new Nt(Ee);function hF(){return cF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tc(e)?"-0":e}}function eR(t){return{integerValue:""+t}}function dF(t,e){return WU(e)?eR(e):ZI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(){this._=void 0}}function fF(t,e,n){return t instanceof Ic?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ey(s)&&(s=ty(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Fa?nR(t,e):t instanceof Ba?rR(t,e):function(i,s){const o=tR(i,s),a=T0(o)+T0(i.Te);return bp(o)&&bp(i.Te)?eR(a):ZI(i.serializer,a)}(t,e)}function pF(t,e,n){return t instanceof Fa?nR(t,e):t instanceof Ba?rR(t,e):n}function tR(t,e){return t instanceof Rc?function(r){return bp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ic extends Fh{}class Fa extends Fh{constructor(e){super(),this.elements=e}}function nR(t,e){const n=iR(e);for(const r of t.elements)n.some(i=>Bn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ba extends Fh{constructor(e){super(),this.elements=e}}function rR(t,e){let n=iR(e);for(const r of t.elements)n=n.filter(i=>!Bn(i,r));return{arrayValue:{values:n}}}class Rc extends Fh{constructor(e,n){super(),this.serializer=e,this.Te=n}}function T0(t){return Je(t.integerValue||t.doubleValue)}function iR(t){return ny(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function mF(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Fa&&i instanceof Fa||r instanceof Ba&&i instanceof Ba?js(r.elements,i.elements,Bn):r instanceof Rc&&i instanceof Rc?Bn(r.Te,i.Te):r instanceof Ic&&i instanceof Ic}(t.transform,e.transform)}class gF{constructor(e,n){this.version=e,this.transformResults=n}}class Rn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Rn}static exists(e){return new Rn(void 0,e)}static updateTime(e){return new Rn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bh{}function sR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new aR(t.key,Rn.none()):new El(t.key,t.data,Rn.none());{const n=t.data,r=zt.empty();let i=new Nt(At.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new si(t.key,r,new Jt(i.toArray()),Rn.none())}}function yF(t,e,n){t instanceof El?function(i,s,o){const a=i.value.clone(),l=I0(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof si?function(i,s,o){if(!Cu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=I0(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(oR(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function sa(t,e,n,r){return t instanceof El?function(s,o,a,l){if(!Cu(s.precondition,o))return a;const u=s.value.clone(),c=R0(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof si?function(s,o,a,l){if(!Cu(s.precondition,o))return a;const u=R0(s.fieldTransforms,l,o),c=o.data;return c.setAll(oR(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Cu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function vF(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=tR(r.transform,i||null);s!=null&&(n===null&&(n=zt.empty()),n.set(r.field,s))}return n||null}function S0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&js(r,i,(s,o)=>mF(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class El extends Bh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class si extends Bh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function oR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function I0(t,e,n){const r=new Map;Le(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,pF(o,a,n[i]))}return r}function R0(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,fF(s,o,e))}return r}class aR extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _F extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&yF(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=sa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=sa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=JI();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=sR(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),me())}isEqual(e){return this.batchId===e.batchId&&js(this.mutations,e.mutations,(n,r)=>S0(n,r))&&js(this.baseMutations,e.baseMutations,(n,r)=>S0(n,r))}}class ay{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Le(e.mutations.length===r.length);let i=function(){return lF}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new ay(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe,ve;function SF(t){switch(t){default:return se();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0}}function lR(t){if(t===void 0)return ur("GRPC error has no .code"),k.UNKNOWN;switch(t){case Xe.OK:return k.OK;case Xe.CANCELLED:return k.CANCELLED;case Xe.UNKNOWN:return k.UNKNOWN;case Xe.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case Xe.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case Xe.INTERNAL:return k.INTERNAL;case Xe.UNAVAILABLE:return k.UNAVAILABLE;case Xe.UNAUTHENTICATED:return k.UNAUTHENTICATED;case Xe.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case Xe.NOT_FOUND:return k.NOT_FOUND;case Xe.ALREADY_EXISTS:return k.ALREADY_EXISTS;case Xe.PERMISSION_DENIED:return k.PERMISSION_DENIED;case Xe.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case Xe.ABORTED:return k.ABORTED;case Xe.OUT_OF_RANGE:return k.OUT_OF_RANGE;case Xe.UNIMPLEMENTED:return k.UNIMPLEMENTED;case Xe.DATA_LOSS:return k.DATA_LOSS;default:return se()}}(ve=Xe||(Xe={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ou}static getOrCreateInstance(){return ou===null&&(ou=new ly),ou}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let ou=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF=new Es([4294967295,4294967295],0);function A0(t){const e=IF().encode(t),n=new NU;return n.update(e),new Uint8Array(n.digest())}function C0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Es([n,r],0),new Es([i,s],0)]}class uy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Uo(`Invalid padding: ${n}`);if(r<0)throw new Uo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Uo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Uo(`Invalid padding when bitmap length is 0: ${n}`);this.de=8*e.length-n,this.Ae=Es.fromNumber(this.de)}Re(e,n,r){let i=e.add(n.multiply(Es.fromNumber(r)));return i.compare(RF)===1&&(i=new Es([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ae).toNumber()}Ve(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.de===0)return!1;const n=A0(e),[r,i]=C0(n);for(let s=0;s<this.hashCount;s++){const o=this.Re(r,i,s);if(!this.Ve(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new uy(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.de===0)return;const n=A0(e),[r,i]=C0(n);for(let s=0;s<this.hashCount;s++){const o=this.Re(r,i,s);this.me(o)}}me(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Uo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Tl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new zh(le.min(),i,new Ke(Ee),hr(),me())}}class Tl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Tl(r,n,me(),me(),me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,n,r,i){this.fe=e,this.removedTargetIds=n,this.key=r,this.ge=i}}class uR{constructor(e,n){this.targetId=e,this.pe=n}}class cR{constructor(e,n,r=Dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class k0{constructor(){this.ye=0,this.we=x0(),this.Se=Dt.EMPTY_BYTE_STRING,this.be=!1,this.De=!0}get current(){return this.be}get resumeToken(){return this.Se}get ve(){return this.ye!==0}get Ce(){return this.De}Fe(e){e.approximateByteSize()>0&&(this.De=!0,this.Se=e)}Me(){let e=me(),n=me(),r=me();return this.we.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:se()}}),new Tl(this.Se,this.be,e,n,r)}xe(){this.De=!1,this.we=x0()}Oe(e,n){this.De=!0,this.we=this.we.insert(e,n)}Ne(e){this.De=!0,this.we=this.we.remove(e)}Be(){this.ye+=1}Le(){this.ye-=1}ke(){this.De=!0,this.be=!0}}class AF{constructor(e){this.qe=e,this.Qe=new Map,this.Ke=hr(),this.$e=N0(),this.Ue=new Ke(Ee)}We(e){for(const n of e.fe)e.ge&&e.ge.isFoundDocument()?this.Ge(n,e.ge):this.ze(n,e.key,e.ge);for(const n of e.removedTargetIds)this.ze(n,e.key,e.ge)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Fe(e.resumeToken);break;case 1:r.Le(),r.ve||r.xe(),r.Fe(e.resumeToken);break;case 2:r.Le(),r.ve||this.removeTarget(n);break;case 3:this.Je(n)&&(r.ke(),r.Fe(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Fe(e.resumeToken));break;default:se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){var n,r;const i=e.targetId,s=e.pe.count,o=this.Xe(i);if(o){const a=o.target;if(Vp(a))if(s===0){const l=new Y(a.path);this.ze(i,l,Rt.newNoDocument(l,le.min()))}else Le(s===1);else{const l=this.et(i);if(l!==s){const u=this.tt(e,l);if(u.status!==0){this.Ye(i);const c=u.status===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,c)}(n=ly.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(d,f,g,y){var _,E,m,p,v,T;const A={localCacheCount:g,existenceFilterCount:y.count},C=y.unchangedNames;return C&&(A.bloomFilter={applied:d===0,hashCount:(_=C==null?void 0:C.hashCount)!==null&&_!==void 0?_:0,bitmapLength:(p=(m=(E=C==null?void 0:C.bits)===null||E===void 0?void 0:E.bitmap)===null||m===void 0?void 0:m.length)!==null&&p!==void 0?p:0,padding:(T=(v=C==null?void 0:C.bits)===null||v===void 0?void 0:v.padding)!==null&&T!==void 0?T:0},f&&(A.bloomFilter.mightContain=f)),A}(u.status,(r=u.nt)!==null&&r!==void 0?r:null,l,e.pe))}}}}tt(e,n){const{unchangedNames:r,count:i}=e.pe;if(!r||!r.bits)return{status:1};const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,u;try{l=Li(s).toUint8Array()}catch(d){if(d instanceof $I)return $s("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),{status:1};throw d}try{u=new uy(l,o,a)}catch(d){return $s(d instanceof Uo?"BloomFilter error: ":"Applying bloom filter failed: ",d),{status:1}}const c=d=>{const f=this.qe.rt();return u.mightContain(`projects/${f.projectId}/databases/${f.database}/documents/${d}`)};return u.de===0?{status:1}:{status:i===n-this.it(e.targetId,c)?0:2,nt:c}}it(e,n){const r=this.qe.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{n(s.path.canonicalString())||(this.ze(e,s,null),i++)}),i}st(e){const n=new Map;this.Qe.forEach((s,o)=>{const a=this.Xe(o);if(a){if(s.current&&Vp(a.target)){const l=new Y(a.target.path);this.Ke.get(l)!==null||this.ot(o,l)||this.ze(o,l,Rt.newNoDocument(l,e))}s.Ce&&(n.set(o,s.Me()),s.xe())}});let r=me();this.$e.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Xe(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Ke.forEach((s,o)=>o.setReadTime(e));const i=new zh(e,n,this.Ue,this.Ke,r);return this.Ke=hr(),this.$e=N0(),this.Ue=new Ke(Ee),i}Ge(e,n){if(!this.Je(e))return;const r=this.ot(e,n.key)?2:0;this.He(e).Oe(n.key,r),this.Ke=this.Ke.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ot(e,n)?i.Oe(n,1):i.Ne(n),this.$e=this.$e.insert(n,this._t(n).delete(e)),r&&(this.Ke=this.Ke.insert(n,r))}removeTarget(e){this.Qe.delete(e)}et(e){const n=this.He(e).Me();return this.qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Be(e){this.He(e).Be()}He(e){let n=this.Qe.get(e);return n||(n=new k0,this.Qe.set(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Nt(Ee),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.Qe.get(e);return n&&n.ve?null:this.qe.ut(e)}Ye(e){this.Qe.set(e,new k0),this.qe.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ot(e,n){return this.qe.getRemoteKeysForTarget(e).has(n)}}function N0(){return new Ke(Y.comparator)}function x0(){return new Ke(Y.comparator)}const CF=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),kF=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),NF=(()=>({and:"AND",or:"OR"}))();class xF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $p(t,e){return t.useProto3Json||$h(e)?e:{value:e}}function Ac(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function PF(t,e){return Ac(t,e.toTimestamp())}function Fn(t){return Le(!!t),le.fromTimestamp(function(n){const r=Gr(n);return new it(r.seconds,r.nanos)}(t))}function cy(t,e){return function(r){return new Pe(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function dR(t){const e=Pe.fromString(t);return Le(gR(e)),e}function jp(t,e){return cy(t.databaseId,e.path)}function tf(t,e){const n=dR(e);if(n.get(1)!==t.databaseId.projectId)throw new B(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new B(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Y(fR(n))}function Up(t,e){return cy(t.databaseId,e)}function bF(t){const e=dR(t);return e.length===4?Pe.emptyPath():fR(e)}function Fp(t){return new Pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fR(t){return Le(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function P0(t,e,n){return{name:jp(t,e),fields:n.value.mapValue.fields}}function DF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(Le(c===void 0||typeof c=="string"),Dt.fromBase64String(c||"")):(Le(c===void 0||c instanceof Uint8Array),Dt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?k.UNKNOWN:lR(u.code);return new B(c,u.message||"")}(o);n=new cR(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=tf(t,r.document.name),s=Fn(r.document.updateTime),o=r.document.createTime?Fn(r.document.createTime):le.min(),a=new zt({mapValue:{fields:r.document.fields}}),l=Rt.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new ku(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=tf(t,r.document),s=r.readTime?Fn(r.readTime):le.min(),o=Rt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ku([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=tf(t,r.document),s=r.removedTargetIds||[];n=new ku([],s,i,null)}else{if(!("filter"in e))return se();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new TF(i,s),a=r.targetId;n=new uR(a,o)}}return n}function VF(t,e){let n;if(e instanceof El)n={update:P0(t,e.key,e.value)};else if(e instanceof aR)n={delete:jp(t,e.key)};else if(e instanceof si)n={update:P0(t,e.key,e.data),updateMask:zF(e.fieldMask)};else{if(!(e instanceof _F))return se();n={verify:jp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Ic)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Fa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ba)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Rc)return{fieldPath:o.field.canonicalString(),increment:a.Te};throw se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:PF(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:se()}(t,e.precondition)),n}function LF(t,e){return t&&t.length>0?(Le(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Fn(i.updateTime):Fn(s);return o.isEqual(le.min())&&(o=Fn(s)),new gF(o,i.transformResults||[])}(n,e))):[]}function OF(t,e){return{documents:[Up(t,e.path)]}}function MF(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Up(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Up(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return mR(kn.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(d){return{field:Yi(d.field),direction:UF(d.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=$p(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function $F(t){let e=bF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Le(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const f=pR(d);return f instanceof kn&&BI(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(y){return new ra(Xi(y.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,$h(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,g=d.values||[];return new Sc(g,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,g=d.values||[];return new Sc(g,f)}(n.endAt)),iF(e,i,o,s,a,"F",l,u)}function jF(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Xi(n.unaryFilter.field);return et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Xi(n.unaryFilter.field);return et.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Xi(n.unaryFilter.field);return et.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Xi(n.unaryFilter.field);return et.create(o,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(t):t.fieldFilter!==void 0?function(n){return et.create(Xi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return kn.create(n.compositeFilter.filters.map(r=>pR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se()}}(n.compositeFilter.op))}(t):se()}function UF(t){return CF[t]}function FF(t){return kF[t]}function BF(t){return NF[t]}function Yi(t){return{fieldPath:t.canonicalString()}}function Xi(t){return At.fromServerFormat(t.fieldPath)}function mR(t){return t instanceof et?function(n){if(n.op==="=="){if(y0(n.value))return{unaryFilter:{field:Yi(n.field),op:"IS_NAN"}};if(g0(n.value))return{unaryFilter:{field:Yi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(y0(n.value))return{unaryFilter:{field:Yi(n.field),op:"IS_NOT_NAN"}};if(g0(n.value))return{unaryFilter:{field:Yi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yi(n.field),op:FF(n.op),value:n.value}}}(t):t instanceof kn?function(n){const r=n.getFilters().map(i=>mR(i));return r.length===1?r[0]:{compositeFilter:{op:BF(n.op),filters:r}}}(t):se()}function zF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n,r,i,s=le.min(),o=le.min(),a=Dt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e){this.ct=e}}function HF(t){const e=$F({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Op(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(){this.sn=new qF}addToCollectionParentIndex(e,n){return this.sn.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this.sn.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(qr.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(qr.min())}updateCollectionGroup(e,n,r){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}}class qF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Nt(Pe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Nt(Pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this.Mn=e}next(){return this.Mn+=2,this.Mn}static xn(){return new Bs(0)}static On(){return new Bs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(){this.changes=new ao(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?V.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&sa(r.mutation,i,Jt.empty(),it.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=me()){const i=vi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=jo();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=vi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,me()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=hr();const o=ia(),a=function(){return ia()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof si)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),sa(c.mutation,u,c.mutation.getFieldMask(),it.now())):o.set(u.key,Jt.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new QF(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ia();let i=new Ke((o,a)=>o-a),s=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Jt.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||me()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=JI();c.forEach(f=>{if(!s.has(f)){const g=sR(n.get(f),r.get(f));g!==null&&d.set(f,g),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return V.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(s){return Y.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):qI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):V.resolve(vi());let a=-1,l=s;return o.next(u=>V.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?V.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,me())).next(c=>({batchId:a,changes:XI(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(r=>{let i=jo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=jo();return this.indexManager.getCollectionParents(e,i).next(o=>V.forEach(o,a=>{const l=function(c,d){return new wl(d,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,Rt.newInvalidDocument(u)))});let o=jo();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&sa(u.mutation,l,Jt.empty(),it.now()),Uh(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(e){this.serializer=e,this.ar=new Map,this.ur=new Map}getBundleMetadata(e,n){return V.resolve(this.ar.get(n))}saveBundleMetadata(e,n){return this.ar.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Fn(i.createTime)}}(n)),V.resolve()}getNamedQuery(e,n){return V.resolve(this.ur.get(n))}saveNamedQuery(e,n){return this.ur.set(n.name,function(i){return{name:i.name,query:HF(i.bundledQuery),readTime:Fn(i.readTime)}}(n)),V.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(){this.overlays=new Ke(Y.comparator),this.cr=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){const r=vi();return V.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),V.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.cr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.cr.delete(r)),V.resolve()}getOverlaysForCollection(e,n,r){const i=vi(),s=n.length+1,o=new Y(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return V.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ke((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=vi(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=vi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return V.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.cr.get(i.largestBatchId).delete(r.key);this.cr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new EF(n,r));let s=this.cr.get(n);s===void 0&&(s=me(),this.cr.set(n,s)),this.cr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(){this.lr=new Nt(at.hr),this.Pr=new Nt(at.Ir)}isEmpty(){return this.lr.isEmpty()}addReference(e,n){const r=new at(e,n);this.lr=this.lr.add(r),this.Pr=this.Pr.add(r)}Tr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Er(new at(e,n))}dr(e,n){e.forEach(r=>this.removeReference(r,n))}Ar(e){const n=new Y(new Pe([])),r=new at(n,e),i=new at(n,e+1),s=[];return this.Pr.forEachInRange([r,i],o=>{this.Er(o),s.push(o.key)}),s}Rr(){this.lr.forEach(e=>this.Er(e))}Er(e){this.lr=this.lr.delete(e),this.Pr=this.Pr.delete(e)}Vr(e){const n=new Y(new Pe([])),r=new at(n,e),i=new at(n,e+1);let s=me();return this.Pr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new at(e,0),r=this.lr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class at{constructor(e,n){this.key=e,this.mr=n}static hr(e,n){return Y.comparator(e.key,n.key)||Ee(e.mr,n.mr)}static Ir(e,n){return Ee(e.mr,n.mr)||Y.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.gr=1,this.pr=new Nt(at.hr)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.gr;this.gr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new wF(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.pr=this.pr.add(new at(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(o)}lookupMutationBatch(e,n){return V.resolve(this.yr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.wr(r),s=i<0?0:i;return V.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?-1:this.gr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new at(n,0),i=new at(n,Number.POSITIVE_INFINITY),s=[];return this.pr.forEachInRange([r,i],o=>{const a=this.yr(o.mr);s.push(a)}),V.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Nt(Ee);return n.forEach(i=>{const s=new at(i,0),o=new at(i,Number.POSITIVE_INFINITY);this.pr.forEachInRange([s,o],a=>{r=r.add(a.mr)})}),V.resolve(this.Sr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Y.isDocumentKey(s)||(s=s.child(""));const o=new at(new Y(s),0);let a=new Nt(Ee);return this.pr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.mr)),!0)},o),V.resolve(this.Sr(a))}Sr(e){const n=[];return e.forEach(r=>{const i=this.yr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Le(this.br(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.pr;return V.forEach(n.mutations,i=>{const s=new at(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.pr=r})}Cn(e){}containsKey(e,n){const r=new at(n,0),i=this.pr.firstAfterOrEqual(r);return V.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}br(e,n){return this.wr(e)}wr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}yr(e){const n=this.wr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e){this.Dr=e,this.docs=function(){return new Ke(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Dr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return V.resolve(r?r.document.mutableCopy():Rt.newInvalidDocument(n))}getEntries(e,n){let r=hr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Rt.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=hr();const o=n.path,a=new Y(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||FU(UU(c),r)<=0||(i.has(c.key)||Uh(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return V.resolve(s)}getAllFromCollectionGroup(e,n,r,i){se()}vr(e,n){return V.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new t4(this)}getSize(e){return V.resolve(this.size)}}class t4 extends GF{constructor(e){super(),this.sr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.sr.addEntry(e,i)):this.sr.removeEntry(r)}),V.waitFor(n)}getFromCache(e,n){return this.sr.getEntry(e,n)}getAllFromCache(e,n){return this.sr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e){this.persistence=e,this.Cr=new ao(n=>ry(n),iy),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.Fr=0,this.Mr=new hy,this.targetCount=0,this.Or=Bs.xn()}forEachTarget(e,n){return this.Cr.forEach((r,i)=>n(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.Fr)}allocateTargetId(e){return this.highestTargetId=this.Or.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Fr&&(this.Fr=n),V.resolve()}Ln(e){this.Cr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Or=new Bs(n),this.highestTargetId=n),e.sequenceNumber>this.Fr&&(this.Fr=e.sequenceNumber)}addTargetData(e,n){return this.Ln(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.Ln(n),V.resolve()}removeTargetData(e,n){return this.Cr.delete(n.target),this.Mr.Ar(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Cr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Cr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),V.waitFor(s).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){const r=this.Cr.get(n)||null;return V.resolve(r)}addMatchingKeys(e,n,r){return this.Mr.Tr(n,r),V.resolve()}removeMatchingKeys(e,n,r){this.Mr.dr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),V.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Mr.Ar(n),V.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Mr.Vr(n);return V.resolve(r)}containsKey(e,n){return V.resolve(this.Mr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e,n){this.Nr={},this.overlays={},this.Br=new Zg(0),this.Lr=!1,this.Lr=!0,this.referenceDelegate=e(this),this.kr=new n4(this),this.indexManager=new KF,this.remoteDocumentCache=function(i){return new e4(i)}(r=>this.referenceDelegate.qr(r)),this.serializer=new WF(n),this.Qr=new XF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Lr=!1,Promise.resolve()}get started(){return this.Lr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new JF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Nr[e.toKey()];return r||(r=new ZF(n,this.referenceDelegate),this.Nr[e.toKey()]=r),r}getTargetCache(){return this.kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Qr}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const i=new i4(this.Br.next());return this.referenceDelegate.Kr(),r(i).next(s=>this.referenceDelegate.$r(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ur(e,n){return V.or(Object.values(this.Nr).map(r=>()=>r.containsKey(e,n)))}}class i4 extends zU{constructor(e){super(),this.currentSequenceNumber=e}}class dy{constructor(e){this.persistence=e,this.Wr=new hy,this.Gr=null}static zr(e){return new dy(e)}get jr(){if(this.Gr)return this.Gr;throw se()}addReference(e,n,r){return this.Wr.addReference(r,n),this.jr.delete(r.toString()),V.resolve()}removeReference(e,n,r){return this.Wr.removeReference(r,n),this.jr.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.jr.add(n.toString()),V.resolve()}removeTarget(e,n){this.Wr.Ar(n.targetId).forEach(i=>this.jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Kr(){this.Gr=new Set}$r(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.jr,r=>{const i=Y.fromPath(r);return this.Hr(e,i).next(s=>{s||n.removeEntry(i,le.min())})}).next(()=>(this.Gr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hr(e,n).next(r=>{r?this.jr.delete(n.toString()):this.jr.add(n.toString())})}qr(e){return 0}Hr(e,n){return V.or([()=>V.resolve(this.Wr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ur(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Li=r,this.ki=i}static qi(e,n){let r=me(),i=me();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new fy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(){this.Qi=!1}initialize(e,n){this.Ki=e,this.indexManager=n,this.Qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.$i(e,n).next(s=>s||this.Ui(e,n,i,r)).next(s=>s||this.Wi(e,n))}$i(e,n){if(E0(n))return V.resolve(null);let r=cr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Op(n,null,"F"),r=cr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=me(...s);return this.Ki.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Gi(n,a);return this.zi(n,u,o,l.readTime)?this.$i(e,Op(n,null,"F")):this.ji(e,u,n,l)}))})))}Ui(e,n,r,i){return E0(n)||i.isEqual(le.min())?this.Wi(e,n):this.Ki.getDocuments(e,r).next(s=>{const o=this.Gi(n,s);return this.zi(n,o,r,i)?this.Wi(e,n):(h0()<=we.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Mp(n)),this.ji(e,o,n,jU(i,-1)))})}Gi(e,n){let r=new Nt(QI(e));return n.forEach((i,s)=>{Uh(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Wi(e,n){return h0()<=we.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",Mp(n)),this.Ki.getDocumentsMatchingQuery(e,n,qr.min())}ji(e,n,r,i){return this.Ki.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Ke(Ee),this.Yi=new ao(s=>ry(s),iy),this.Zi=new Map,this.Xi=e.getRemoteDocumentCache(),this.kr=e.getTargetCache(),this.Qr=e.getBundleCache(),this.es(r)}es(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YF(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function a4(t,e,n,r){return new o4(t,e,n,r)}async function yR(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.es(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=me();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ts:u,removedBatchIds:o,addedBatchIds:a}))})})}function l4(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Xi.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,f=d.keys();let g=V.resolve();return f.forEach(y=>{g=g.next(()=>c.getEntry(l,y)).next(_=>{const E=u.docVersions.get(y);Le(E!==null),_.version.compareTo(E)<0&&(d.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),c.addEntry(_)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=me();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function vR(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.kr.getLastRemoteSnapshotVersion(n))}function u4(t,e){const n=he(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;a.push(n.kr.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.kr.addMatchingKeys(s,c.addedDocuments,d)));let g=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(Dt.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):c.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(c.resumeToken,r)),i=i.insert(d,g),function(_,E,m){return _.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(f,g,c)&&a.push(n.kr.updateTargetData(s,g))});let l=hr(),u=me();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(c4(s,o,e.documentUpdates).next(c=>{l=c.ns,u=c.rs})),!r.isEqual(le.min())){const c=n.kr.getLastRemoteSnapshotVersion(s).next(d=>n.kr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return V.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ji=i,s))}function c4(t,e,n){let r=me(),i=me();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=hr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(le.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):K("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ns:o,rs:i}})}function h4(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function d4(t,e){const n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.kr.getTargetData(r,e).next(s=>s?(i=s,V.resolve(i)):n.kr.allocateTargetId(r).next(o=>(i=new xr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function Bp(t,e,n){const r=he(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!_l(o))throw o;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function b0(t,e,n){const r=he(t);let i=le.min(),s=me();return r.persistence.runTransaction("Execute query","readonly",o=>function(l,u,c){const d=he(l),f=d.Yi.get(c);return f!==void 0?V.resolve(d.Ji.get(f)):d.kr.getTargetData(u,c)}(r,o,cr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.kr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:le.min(),n?s:me())).next(a=>(f4(r,sF(e),a),{documents:a,ss:s})))}function f4(t,e,n){let r=t.Zi.get(e)||le.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Zi.set(e,r)}class D0{constructor(){this.activeTargetIds=hF()}hs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ps(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ls(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class p4{constructor(){this.Hs=new D0,this.Js={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hs.hs(e),this.Js[e]||"not-current"}updateQueryState(e,n,r){this.Js[e]=n}removeLocalQueryTarget(e){this.Hs.Ps(e)}isLocalQueryTarget(e){return this.Hs.activeTargetIds.has(e)}clearQueryState(e){delete this.Js[e]}getAllActiveQueryTargets(){return this.Hs.activeTargetIds}isActiveQueryTarget(e){return this.Hs.activeTargetIds.has(e)}start(){return this.Hs=new D0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{Ys(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(){this.Zs=()=>this.Xs(),this.eo=()=>this.no(),this.ro=[],this.io()}Ys(e){this.ro.push(e)}shutdown(){window.removeEventListener("online",this.Zs),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Zs),window.addEventListener("offline",this.eo)}Xs(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ro)e(0)}no(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ro)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let au=null;function nf(){return au===null?au=function(){return 268435456+Math.round(2147483648*Math.random())}():au++,"0x"+au.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e){this.so=e.so,this.oo=e.oo}_o(e){this.ao=e}uo(e){this.co=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.so(e)}ho(){this.ao()}Po(e){this.co(e)}Io(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tt="WebChannelConnection";class v4 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.To=r+"://"+n.host,this.Eo=`projects/${i}/databases/${s}`,this.Ao=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Ro(){return!1}Vo(n,r,i,s,o){const a=nf(),l=this.mo(n,r);K("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Eo,"x-goog-request-params":this.Ao};return this.fo(u,s,o),this.po(n,l,u,i).then(c=>(K("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw $s("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}yo(n,r,i,s,o,a){return this.Vo(n,r,i,s,o)}fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+oo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}mo(n,r){const i=g4[n];return`${this.To}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}po(e,n,r,i){const s=nf();return new Promise((o,a)=>{const l=new kU;l.setWithCredentials(!0),l.listenOnce(RU.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ef.NO_ERROR:const c=l.getResponseJson();K(Tt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case ef.TIMEOUT:K(Tt,`RPC '${e}' ${s} timed out`),a(new B(k.DEADLINE_EXCEEDED,"Request time out"));break;case ef.HTTP_ERROR:const d=l.getStatus();if(K(Tt,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const y=function(E){const m=E.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(m)>=0?m:k.UNKNOWN}(g.status);a(new B(y,g.message))}else a(new B(k.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new B(k.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{K(Tt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);K(Tt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}wo(e,n,r){const i=nf(),s=[this.To,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=SU(),a=IU(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new CU({})),this.fo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");K(Tt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let f=!1,g=!1;const y=new y4({so:E=>{g?K(Tt,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(f||(K(Tt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),K(Tt,`RPC '${e}' stream ${i} sending:`,E),d.send(E))},oo:()=>d.close()}),_=(E,m,p)=>{E.listen(m,v=>{try{p(v)}catch(T){setTimeout(()=>{throw T},0)}})};return _(d,ru.EventType.OPEN,()=>{g||K(Tt,`RPC '${e}' stream ${i} transport opened.`)}),_(d,ru.EventType.CLOSE,()=>{g||(g=!0,K(Tt,`RPC '${e}' stream ${i} transport closed`),y.Po())}),_(d,ru.EventType.ERROR,E=>{g||(g=!0,$s(Tt,`RPC '${e}' stream ${i} transport errored:`,E),y.Po(new B(k.UNAVAILABLE,"The operation could not be completed")))}),_(d,ru.EventType.MESSAGE,E=>{var m;if(!g){const p=E.data[0];Le(!!p);const v=p,T=v.error||((m=v[0])===null||m===void 0?void 0:m.error);if(T){K(Tt,`RPC '${e}' stream ${i} received error:`,T);const A=T.status;let C=function(Z){const H=Xe[Z];if(H!==void 0)return lR(H)}(A),N=T.message;C===void 0&&(C=k.INTERNAL,N="Unknown error status: "+A+" with message "+T.message),g=!0,y.Po(new B(C,N)),d.close()}else K(Tt,`RPC '${e}' stream ${i} received:`,p),y.Io(p)}}),_(a,AU.STAT_EVENT,E=>{E.stat===u0.PROXY?K(Tt,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===u0.NOPROXY&&K(Tt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.ho()},0),y}}function rf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(t){return new xF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.So=r,this.bo=i,this.Do=s,this.vo=0,this.Co=null,this.Fo=Date.now(),this.reset()}reset(){this.vo=0}Mo(){this.vo=this.Do}xo(e){this.cancel();const n=Math.floor(this.vo+this.Oo()),r=Math.max(0,Date.now()-this.Fo),i=Math.max(0,n-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.vo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Co=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Fo=Date.now(),e())),this.vo*=this.bo,this.vo<this.So&&(this.vo=this.So),this.vo>this.Do&&(this.vo=this.Do)}No(){this.Co!==null&&(this.Co.skipDelay(),this.Co=null)}cancel(){this.Co!==null&&(this.Co.cancel(),this.Co=null)}Oo(){return(Math.random()-.5)*this.vo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,n,r,i,s,o,a,l){this.ii=e,this.Bo=r,this.Lo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.ko=0,this.qo=null,this.Qo=null,this.stream=null,this.Ko=new _R(e,n)}$o(){return this.state===1||this.state===5||this.Uo()}Uo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Wo()}async stop(){this.$o()&&await this.close(0)}Go(){this.state=0,this.Ko.reset()}zo(){this.Uo()&&this.qo===null&&(this.qo=this.ii.enqueueAfterDelay(this.Bo,6e4,()=>this.jo()))}Ho(e){this.Jo(),this.stream.send(e)}async jo(){if(this.Uo())return this.close(0)}Jo(){this.qo&&(this.qo.cancel(),this.qo=null)}Yo(){this.Qo&&(this.Qo.cancel(),this.Qo=null)}async close(e,n){this.Jo(),this.Yo(),this.Ko.cancel(),this.ko++,e!==4?this.Ko.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(ur(n.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),this.Ko.Mo()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Zo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.uo(n)}Zo(){}auth(){this.state=1;const e=this.Xo(this.ko),n=this.ko;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.ko===n&&this.e_(r,i)},r=>{e(()=>{const i=new B(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.t_(i)})})}e_(e,n){const r=this.Xo(this.ko);this.stream=this.n_(e,n),this.stream._o(()=>{r(()=>(this.state=2,this.Qo=this.ii.enqueueAfterDelay(this.Lo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener._o()))}),this.stream.uo(i=>{r(()=>this.t_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Wo(){this.state=5,this.Ko.xo(async()=>{this.state=0,this.start()})}t_(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.ko===e?n():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _4 extends wR{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}n_(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.Ko.reset();const n=DF(this.serializer,e),r=function(s){if(!("targetChange"in s))return le.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?le.min():o.readTime?Fn(o.readTime):le.min()}(e);return this.listener.r_(n,r)}i_(e){const n={};n.database=Fp(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Vp(l)?{documents:OF(s,l)}:{query:MF(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=hR(s,o.resumeToken);const u=$p(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(le.min())>0){a.readTime=Ac(s,o.snapshotVersion.toTimestamp());const u=$p(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=jF(this.serializer,e);r&&(n.labels=r),this.Ho(n)}s_(e){const n={};n.database=Fp(this.serializer),n.removeTarget=e,this.Ho(n)}}class w4 extends wR{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.o_=!1}get __(){return this.o_}start(){this.o_=!1,this.lastStreamToken=void 0,super.start()}Zo(){this.o_&&this.a_([])}n_(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(Le(!!e.streamToken),this.lastStreamToken=e.streamToken,this.o_){this.Ko.reset();const n=LF(e.writeResults,e.commitTime),r=Fn(e.commitTime);return this.listener.u_(r,n)}return Le(!e.writeResults||e.writeResults.length===0),this.o_=!0,this.listener.c_()}l_(){const e={};e.database=Fp(this.serializer),this.Ho(e)}a_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>VF(this.serializer,r))};this.Ho(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.h_=!1}P_(){if(this.h_)throw new B(k.FAILED_PRECONDITION,"The client has already been terminated.")}Vo(e,n,r){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Vo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new B(k.UNKNOWN,i.toString())})}yo(e,n,r,i){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.yo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(k.UNKNOWN,s.toString())})}terminate(){this.h_=!0}}class T4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.T_=0,this.E_=null,this.d_=!0}A_(){this.T_===0&&(this.R_("Unknown"),this.E_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.E_=null,this.V_("Backend didn't respond within 10 seconds."),this.R_("Offline"),Promise.resolve())))}m_(e){this.state==="Online"?this.R_("Unknown"):(this.T_++,this.T_>=1&&(this.f_(),this.V_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.R_("Offline")))}set(e){this.f_(),this.T_=0,e==="Online"&&(this.d_=!1),this.R_(e)}R_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}V_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.d_?(ur(n),this.d_=!1):K("OnlineStateTracker",n)}f_(){this.E_!==null&&(this.E_.cancel(),this.E_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.g_=[],this.p_=new Map,this.y_=new Set,this.w_=[],this.S_=s,this.S_.Ys(o=>{r.enqueueAndForget(async()=>{Hi(this)&&(K("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=he(l);u.y_.add(4),await Sl(u),u.b_.set("Unknown"),u.y_.delete(4),await Hh(u)}(this))})}),this.b_=new T4(r,i)}}async function Hh(t){if(Hi(t))for(const e of t.w_)await e(!0)}async function Sl(t){for(const e of t.w_)await e(!1)}function ER(t,e){const n=he(t);n.p_.has(e.targetId)||(n.p_.set(e.targetId,e),gy(n)?my(n):lo(n).Uo()&&py(n,e))}function TR(t,e){const n=he(t),r=lo(n);n.p_.delete(e),r.Uo()&&SR(n,e),n.p_.size===0&&(r.Uo()?r.zo():Hi(n)&&n.b_.set("Unknown"))}function py(t,e){if(t.D_.Be(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}lo(t).i_(e)}function SR(t,e){t.D_.Be(e),lo(t).s_(e)}function my(t){t.D_=new AF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.p_.get(e)||null,rt:()=>t.datastore.serializer.databaseId}),lo(t).start(),t.b_.A_()}function gy(t){return Hi(t)&&!lo(t).$o()&&t.p_.size>0}function Hi(t){return he(t).y_.size===0}function IR(t){t.D_=void 0}async function I4(t){t.p_.forEach((e,n)=>{py(t,e)})}async function R4(t,e){IR(t),gy(t)?(t.b_.m_(e),my(t)):t.b_.set("Unknown")}async function A4(t,e,n){if(t.b_.set("Online"),e instanceof cR&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.p_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.p_.delete(a),i.D_.removeTarget(a))}(t,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Cc(t,r)}else if(e instanceof ku?t.D_.We(e):e instanceof uR?t.D_.Ze(e):t.D_.je(e),!n.isEqual(le.min()))try{const r=await vR(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.D_.st(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.p_.get(u);c&&s.p_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.p_.get(l);if(!c)return;s.p_.set(l,c.withResumeToken(Dt.EMPTY_BYTE_STRING,c.snapshotVersion)),SR(s,l);const d=new xr(c.target,l,u,c.sequenceNumber);py(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){K("RemoteStore","Failed to raise snapshot:",r),await Cc(t,r)}}async function Cc(t,e,n){if(!_l(e))throw e;t.y_.add(1),await Sl(t),t.b_.set("Offline"),n||(n=()=>vR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K("RemoteStore","Retrying IndexedDB access"),await n(),t.y_.delete(1),await Hh(t)})}function RR(t,e){return e().catch(n=>Cc(t,n,e))}async function Kh(t){const e=he(t),n=Qr(e);let r=e.g_.length>0?e.g_[e.g_.length-1].batchId:-1;for(;C4(e);)try{const i=await h4(e.localStore,r);if(i===null){e.g_.length===0&&n.zo();break}r=i.batchId,k4(e,i)}catch(i){await Cc(e,i)}AR(e)&&CR(e)}function C4(t){return Hi(t)&&t.g_.length<10}function k4(t,e){t.g_.push(e);const n=Qr(t);n.Uo()&&n.__&&n.a_(e.mutations)}function AR(t){return Hi(t)&&!Qr(t).$o()&&t.g_.length>0}function CR(t){Qr(t).start()}async function N4(t){Qr(t).l_()}async function x4(t){const e=Qr(t);for(const n of t.g_)e.a_(n.mutations)}async function P4(t,e,n){const r=t.g_.shift(),i=ay.from(r,e,n);await RR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Kh(t)}async function b4(t,e){e&&Qr(t).__&&await async function(r,i){if(function(o){return SF(o)&&o!==k.ABORTED}(i.code)){const s=r.g_.shift();Qr(r).Go(),await RR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Kh(r)}}(t,e),AR(t)&&CR(t)}async function L0(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");const r=Hi(n);n.y_.add(3),await Sl(n),r&&n.b_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.y_.delete(3),await Hh(n)}async function D4(t,e){const n=he(t);e?(n.y_.delete(2),await Hh(n)):e||(n.y_.add(2),await Sl(n),n.b_.set("Unknown"))}function lo(t){return t.v_||(t.v_=function(n,r,i){const s=he(n);return s.P_(),new _4(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{_o:I4.bind(null,t),uo:R4.bind(null,t),r_:A4.bind(null,t)}),t.w_.push(async e=>{e?(t.v_.Go(),gy(t)?my(t):t.b_.set("Unknown")):(await t.v_.stop(),IR(t))})),t.v_}function Qr(t){return t.C_||(t.C_=function(n,r,i){const s=he(n);return s.P_(),new w4(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{_o:N4.bind(null,t),uo:b4.bind(null,t),c_:x4.bind(null,t),u_:P4.bind(null,t)}),t.w_.push(async e=>{e?(t.C_.Go(),await Kh(t)):(await t.C_.stop(),t.g_.length>0&&(K("RemoteStore",`Stopping write stream with ${t.g_.length} pending writes`),t.g_=[]))})),t.C_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new yy(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vy(t,e){if(ur("AsyncQueue",`${e}: ${t}`),_l(t))return new B(k.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Y.comparator(n.key,r.key):(n,r)=>Y.comparator(n.key,r.key),this.keyedMap=jo(),this.sortedSet=new Ke(this.comparator)}static emptySet(e){return new Ss(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ss)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ss;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(){this.F_=new Ke(Y.comparator)}track(e){const n=e.doc.key,r=this.F_.get(n);r?e.type!==0&&r.type===3?this.F_=this.F_.insert(n,e):e.type===3&&r.type!==1?this.F_=this.F_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.F_=this.F_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.F_=this.F_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.F_=this.F_.remove(n):e.type===1&&r.type===2?this.F_=this.F_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.F_=this.F_.insert(n,{type:2,doc:e.doc}):se():this.F_=this.F_.insert(n,e)}M_(){const e=[];return this.F_.inorderTraversal((n,r)=>{e.push(r)}),e}}class zs{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new zs(e,n,Ss.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(){this.x_=void 0,this.listeners=[]}}class L4{constructor(){this.queries=new ao(e=>GI(e),jh),this.onlineState="Unknown",this.O_=new Set}}async function kR(t,e){const n=he(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new V4),i)try{s.x_=await n.onListen(r)}catch(o){const a=vy(o,`Initialization of query '${Mp(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.N_(n.onlineState),s.x_&&e.B_(s.x_)&&_y(n)}async function NR(t,e){const n=he(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function O4(t,e){const n=he(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.B_(i)&&(r=!0);o.x_=i}}r&&_y(n)}function M4(t,e,n){const r=he(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function _y(t){t.O_.forEach(e=>{e.next()})}class xR{constructor(e,n,r){this.query=e,this.L_=n,this.k_=!1,this.q_=null,this.onlineState="Unknown",this.options=r||{}}B_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new zs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.k_?this.Q_(e)&&(this.L_.next(e),n=!0):this.K_(e,this.onlineState)&&(this.U_(e),n=!0),this.q_=e,n}onError(e){this.L_.error(e)}N_(e){this.onlineState=e;let n=!1;return this.q_&&!this.k_&&this.K_(this.q_,e)&&(this.U_(this.q_),n=!0),n}K_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.W_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Q_(e){if(e.docChanges.length>0)return!0;const n=this.q_&&this.q_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}U_(e){e=zs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.k_=!0,this.L_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e){this.key=e}}class bR{constructor(e){this.key=e}}class $4{constructor(e,n){this.query=e,this.X_=n,this.ea=null,this.hasCachedResults=!1,this.current=!1,this.ta=me(),this.mutatedKeys=me(),this.na=QI(e),this.ra=new Ss(this.na)}get ia(){return this.X_}sa(e,n){const r=n?n.oa:new O0,i=n?n.ra:this.ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const f=i.get(c),g=Uh(this.query,d)?d:null,y=!!f&&this.mutatedKeys.has(f.key),_=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let E=!1;f&&g?f.data.isEqual(g.data)?y!==_&&(r.track({type:3,doc:g}),E=!0):this._a(f,g)||(r.track({type:2,doc:g}),E=!0,(l&&this.na(g,l)>0||u&&this.na(g,u)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),E=!0):f&&!g&&(r.track({type:1,doc:f}),E=!0,(l||u)&&(a=!0)),E&&(g?(o=o.add(g),s=_?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ra:o,oa:r,zi:a,mutatedKeys:s}}_a(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ra;this.ra=e.ra,this.mutatedKeys=e.mutatedKeys;const s=e.oa.M_();s.sort((u,c)=>function(f,g){const y=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return y(f)-y(g)}(u.type,c.type)||this.na(u.doc,c.doc)),this.aa(r);const o=n?this.ua():[],a=this.ta.size===0&&this.current?1:0,l=a!==this.ea;return this.ea=a,s.length!==0||l?{snapshot:new zs(this.query,e.ra,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ca:o}:{ca:o}}N_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ra:this.ra,oa:new O0,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{ca:[]}}la(e){return!this.X_.has(e)&&!!this.ra.has(e)&&!this.ra.get(e).hasLocalMutations}aa(e){e&&(e.addedDocuments.forEach(n=>this.X_=this.X_.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.X_=this.X_.delete(n)),this.current=e.current)}ua(){if(!this.current)return[];const e=this.ta;this.ta=me(),this.ra.forEach(r=>{this.la(r.key)&&(this.ta=this.ta.add(r.key))});const n=[];return e.forEach(r=>{this.ta.has(r)||n.push(new bR(r))}),this.ta.forEach(r=>{e.has(r)||n.push(new PR(r))}),n}ha(e){this.X_=e.ss,this.ta=me();const n=this.sa(e.documents);return this.applyChanges(n,!0)}Pa(){return zs.fromInitialDocuments(this.query,this.ra,this.mutatedKeys,this.ea===0,this.hasCachedResults)}}class j4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class U4{constructor(e){this.key=e,this.Ia=!1}}class F4{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ta={},this.Ea=new ao(a=>GI(a),jh),this.da=new Map,this.Aa=new Set,this.Ra=new Ke(Y.comparator),this.Va=new Map,this.ma=new hy,this.fa={},this.ga=new Map,this.pa=Bs.On(),this.onlineState="Unknown",this.ya=void 0}get isPrimaryClient(){return this.ya===!0}}async function B4(t,e){const n=J4(t);let r,i;const s=n.Ea.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Pa();else{const o=await d4(n.localStore,cr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await z4(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&ER(n.remoteStore,o)}return i}async function z4(t,e,n,r,i){t.wa=(d,f,g)=>async function(_,E,m,p){let v=E.view.sa(m);v.zi&&(v=await b0(_.localStore,E.query,!1).then(({documents:C})=>E.view.sa(C,v)));const T=p&&p.targetChanges.get(E.targetId),A=E.view.applyChanges(v,_.isPrimaryClient,T);return $0(_,E.targetId,A.ca),A.snapshot}(t,d,f,g);const s=await b0(t.localStore,e,!0),o=new $4(e,s.ss),a=o.sa(s.documents),l=Tl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);$0(t,n,u.ca);const c=new j4(e,n,o);return t.Ea.set(e,c),t.da.has(n)?t.da.get(n).push(e):t.da.set(n,[e]),u.snapshot}async function W4(t,e){const n=he(t),r=n.Ea.get(e),i=n.da.get(r.targetId);if(i.length>1)return n.da.set(r.targetId,i.filter(s=>!jh(s,e))),void n.Ea.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Bp(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),TR(n.remoteStore,r.targetId),zp(n,r.targetId)}).catch(vl)):(zp(n,r.targetId),await Bp(n.localStore,r.targetId,!0))}async function H4(t,e,n){const r=Z4(t);try{const i=await function(o,a){const l=he(o),u=it.now(),c=a.reduce((g,y)=>g.add(y.key),me());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let y=hr(),_=me();return l.Xi.getEntries(g,c).next(E=>{y=E,y.forEach((m,p)=>{p.isValidDocument()||(_=_.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,y)).next(E=>{d=E;const m=[];for(const p of a){const v=vF(p,d.get(p.key).overlayedDocument);v!=null&&m.push(new si(p.key,v,jI(v.value.mapValue),Rn.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,m,a)}).next(E=>{f=E;const m=E.applyToLocalDocumentSet(d,_);return l.documentOverlayCache.saveOverlays(g,E.batchId,m)})}).then(()=>({batchId:f.batchId,changes:XI(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.fa[o.currentUser.toKey()];u||(u=new Ke(Ee)),u=u.insert(a,l),o.fa[o.currentUser.toKey()]=u}(r,i.batchId,n),await Il(r,i.changes),await Kh(r.remoteStore)}catch(i){const s=vy(i,"Failed to persist write");n.reject(s)}}async function DR(t,e){const n=he(t);try{const r=await u4(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Va.get(s);o&&(Le(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ia=!0:i.modifiedDocuments.size>0?Le(o.Ia):i.removedDocuments.size>0&&(Le(o.Ia),o.Ia=!1))}),await Il(n,r,e)}catch(r){await vl(r)}}function M0(t,e,n){const r=he(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Ea.forEach((s,o)=>{const a=o.view.N_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=he(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const f of d.listeners)f.N_(a)&&(u=!0)}),u&&_y(l)}(r.eventManager,e),i.length&&r.Ta.r_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function K4(t,e,n){const r=he(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Va.get(e),s=i&&i.key;if(s){let o=new Ke(Y.comparator);o=o.insert(s,Rt.newNoDocument(s,le.min()));const a=me().add(s),l=new zh(le.min(),new Map,new Ke(Ee),o,a);await DR(r,l),r.Ra=r.Ra.remove(s),r.Va.delete(e),wy(r)}else await Bp(r.localStore,e,!1).then(()=>zp(r,e,n)).catch(vl)}async function q4(t,e){const n=he(t),r=e.batch.batchId;try{const i=await l4(n.localStore,e);LR(n,r,null),VR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Il(n,i)}catch(i){await vl(i)}}async function G4(t,e,n){const r=he(t);try{const i=await function(o,a){const l=he(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(Le(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);LR(r,e,n),VR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Il(r,i)}catch(i){await vl(i)}}function VR(t,e){(t.ga.get(e)||[]).forEach(n=>{n.resolve()}),t.ga.delete(e)}function LR(t,e,n){const r=he(t);let i=r.fa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.fa[r.currentUser.toKey()]=i}}function zp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.da.get(e))t.Ea.delete(r),n&&t.Ta.Sa(r,n);t.da.delete(e),t.isPrimaryClient&&t.ma.Ar(e).forEach(r=>{t.ma.containsKey(r)||OR(t,r)})}function OR(t,e){t.Aa.delete(e.path.canonicalString());const n=t.Ra.get(e);n!==null&&(TR(t.remoteStore,n),t.Ra=t.Ra.remove(e),t.Va.delete(n),wy(t))}function $0(t,e,n){for(const r of n)r instanceof PR?(t.ma.addReference(r.key,e),Q4(t,r)):r instanceof bR?(K("SyncEngine","Document no longer in limbo: "+r.key),t.ma.removeReference(r.key,e),t.ma.containsKey(r.key)||OR(t,r.key)):se()}function Q4(t,e){const n=e.key,r=n.path.canonicalString();t.Ra.get(n)||t.Aa.has(r)||(K("SyncEngine","New document in limbo: "+n),t.Aa.add(r),wy(t))}function wy(t){for(;t.Aa.size>0&&t.Ra.size<t.maxConcurrentLimboResolutions;){const e=t.Aa.values().next().value;t.Aa.delete(e);const n=new Y(Pe.fromString(e)),r=t.pa.next();t.Va.set(r,new U4(n)),t.Ra=t.Ra.insert(n,r),ER(t.remoteStore,new xr(cr(sy(n.path)),r,"TargetPurposeLimboResolution",Zg.ae))}}async function Il(t,e,n){const r=he(t),i=[],s=[],o=[];r.Ea.isEmpty()||(r.Ea.forEach((a,l)=>{o.push(r.wa(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=fy.qi(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.Ta.r_(i),await async function(l,u){const c=he(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>V.forEach(u,f=>V.forEach(f.Li,g=>c.persistence.referenceDelegate.addReference(d,f.targetId,g)).next(()=>V.forEach(f.ki,g=>c.persistence.referenceDelegate.removeReference(d,f.targetId,g)))))}catch(d){if(!_l(d))throw d;K("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const g=c.Ji.get(f),y=g.snapshotVersion,_=g.withLastLimboFreeSnapshotVersion(y);c.Ji=c.Ji.insert(f,_)}}}(r.localStore,s))}async function Y4(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());const r=await yR(n.localStore,e);n.currentUser=e,function(s,o){s.ga.forEach(a=>{a.forEach(l=>{l.reject(new B(k.CANCELLED,o))})}),s.ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Il(n,r.ts)}}function X4(t,e){const n=he(t),r=n.Va.get(e);if(r&&r.Ia)return me().add(r.key);{let i=me();const s=n.da.get(e);if(!s)return i;for(const o of s){const a=n.Ea.get(o);i=i.unionWith(a.view.ia)}return i}}function J4(t){const e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=DR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=X4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=K4.bind(null,e),e.Ta.r_=O4.bind(null,e.eventManager),e.Ta.Sa=M4.bind(null,e.eventManager),e}function Z4(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=q4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=G4.bind(null,e),e}class j0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Wh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return a4(this.persistence,new s4,e.initialUser,this.serializer)}createPersistence(e){return new r4(dy.zr,this.serializer)}createSharedClientState(e){return new p4}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class e3{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>M0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Y4.bind(null,this.syncEngine),await D4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new L4}()}createDatastore(e){const n=Wh(e.databaseInfo.databaseId),r=function(s){return new v4(s)}(e.databaseInfo);return function(s,o,a,l){return new E4(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new S4(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>M0(this.syncEngine,n,0),function(){return V0.v()?new V0:new m4}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const d=new F4(i,s,o,a,l,u);return c&&(d.ya=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=he(n);K("RemoteStore","RemoteStore shutting down."),r.y_.add(5),await Sl(r),r.S_.shutdown(),r.b_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.va(this.observer.next,e)}error(e){this.observer.error?this.va(this.observer.error,e):ur("Uncaught Error in snapshot listener:",e.toString())}Ca(){this.muted=!0}va(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=St.UNAUTHENTICATED,this.clientId=OI.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{K("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(K("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new B(k.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=vy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function sf(t,e){t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await yR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function U0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await r3(t);K("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>L0(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>L0(e.remoteStore,s)),t._onlineComponents=e}function n3(t){return t.name==="FirebaseError"?t.code===k.FAILED_PRECONDITION||t.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function r3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{await sf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!n3(n))throw n;$s("Error using user provided cache. Falling back to memory cache: "+n),await sf(t,new j0)}}else K("FirestoreClient","Using default OfflineComponentProvider"),await sf(t,new j0);return t._offlineComponents}async function $R(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),await U0(t,t._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),await U0(t,new e3))),t._onlineComponents}function i3(t){return $R(t).then(e=>e.syncEngine)}async function jR(t){const e=await $R(t),n=e.eventManager;return n.onListen=B4.bind(null,e.syncEngine),n.onUnlisten=W4.bind(null,e.syncEngine),n}function s3(t,e,n={}){const r=new nr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new MR({next:f=>{o.enqueueAndForget(()=>NR(s,d));const g=f.docs.has(a);!g&&f.fromCache?u.reject(new B(k.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&l&&l.source==="server"?u.reject(new B(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new xR(sy(a.path),c,{includeMetadataChanges:!0,W_:!0});return kR(s,d)}(await jR(t),t.asyncQueue,e,n,r)),r.promise}function o3(t,e,n={}){const r=new nr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new MR({next:f=>{o.enqueueAndForget(()=>NR(s,d)),f.fromCache&&l.source==="server"?u.reject(new B(k.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new xR(a,c,{includeMetadataChanges:!0,W_:!0});return kR(s,d)}(await jR(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(t,e,n){if(!n)throw new B(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function a3(t,e,n,r){if(e===!0&&r===!0)throw new B(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function B0(t){if(!Y.isDocumentKey(t))throw new B(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function z0(t){if(Y.isDocumentKey(t))throw new B(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se()}function zn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new B(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qh(t);throw new B(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new B(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new B(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}a3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new W0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new B(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new B(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new W0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new xU;switch(r.type){case"firstParty":return new VU(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new B(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=F0.get(n);r&&(K("ComponentProvider","Removing Datastore"),F0.delete(n),r.terminate())}(this),Promise.resolve()}}function l3(t,e,n,r={}){var i;const s=(t=zn(t,Gh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&$s("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=St.MOCK_USER;else{a=ZL(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new B(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new St(u)}t._authCredentials=new PU(new LI(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new uo(this.firestore,e,this._query)}}class $t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $t(this.firestore,e,this._key)}}class zr extends uo{constructor(e,n,r){super(e,n,sy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $t(this.firestore,null,new Y(e))}withConverter(e){return new zr(this.firestore,e,this._path)}}function Wr(t,e,...n){if(t=bt(t),FR("collection","path",e),t instanceof Gh){const r=Pe.fromString(e,...n);return z0(r),new zr(t,null,r)}{if(!(t instanceof $t||t instanceof zr))throw new B(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pe.fromString(e,...n));return z0(r),new zr(t.firestore,null,r)}}function nn(t,e,...n){if(t=bt(t),arguments.length===1&&(e=OI.V()),FR("doc","path",e),t instanceof Gh){const r=Pe.fromString(e,...n);return B0(r),new $t(t,null,new Y(r))}{if(!(t instanceof $t||t instanceof zr))throw new B(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pe.fromString(e,...n));return B0(r),new $t(t.firestore,t instanceof zr?t.converter:null,new Y(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(){this.Wa=Promise.resolve(),this.Ga=[],this.za=!1,this.ja=[],this.Ha=null,this.Ja=!1,this.Ya=!1,this.Za=[],this.Ko=new _R(this,"async_queue_retry"),this.Xa=()=>{const n=rf();n&&K("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ko.No()};const e=rf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xa)}get isShuttingDown(){return this.za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.eu(),this.tu(e)}enterRestrictedMode(e){if(!this.za){this.za=!0,this.Ya=e||!1;const n=rf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xa)}}enqueue(e){if(this.eu(),this.za)return new Promise(()=>{});const n=new nr;return this.tu(()=>this.za&&this.Ya?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ga.push(e),this.nu()))}async nu(){if(this.Ga.length!==0){try{await this.Ga[0](),this.Ga.shift(),this.Ko.reset()}catch(e){if(!_l(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.Ga.length>0&&this.Ko.xo(()=>this.nu())}}tu(e){const n=this.Wa.then(()=>(this.Ja=!0,e().catch(r=>{this.Ha=r,this.Ja=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ur("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ja=!1,r))));return this.Wa=n,n}enqueueAfterDelay(e,n,r){this.eu(),this.Za.indexOf(e)>-1&&(n=0);const i=yy.createAndSchedule(this,e,n,r,s=>this.ru(s));return this.ja.push(i),i}eu(){this.Ha&&se()}verifyOperationInProgress(){}async iu(){let e;do e=this.Wa,await e;while(e!==this.Wa)}su(e){for(const n of this.ja)if(n.timerId===e)return!0;return!1}ou(e){return this.iu().then(()=>{this.ja.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ja)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.iu()})}_u(e){this.Za.push(e)}ru(e){const n=this.ja.indexOf(e);this.ja.splice(n,1)}}class co extends Gh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new u3}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||BR(this),this._firestoreClient.terminate()}}function c3(t,e){const n=typeof t=="object"?t:YS(),r=typeof t=="string"?t:e||"(default)",i=_g(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=XL("firestore");s&&l3(i,...s)}return i}function Ey(t){return t._firestoreClient||BR(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function BR(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new KU(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,UR(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new t3(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ws(Dt.fromBase64String(e))}catch(n){throw new B(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ws(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new B(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new At(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new B(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new B(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ee(this._lat,e._lat)||Ee(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=/^__.*__$/;class d3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new si(e,this.data,this.fieldMask,n,this.fieldTransforms):new El(e,this.data,n,this.fieldTransforms)}}class zR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new si(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function WR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}class Iy{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.au(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get uu(){return this.settings.uu}cu(e){return new Iy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}lu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.cu({path:r,hu:!1});return i.Pu(e),i}Iu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.cu({path:r,hu:!1});return i.au(),i}Tu(e){return this.cu({path:void 0,hu:!0})}Eu(e){return kc(e,this.settings.methodName,this.settings.du||!1,this.path,this.settings.Au)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}au(){if(this.path)for(let e=0;e<this.path.length;e++)this.Pu(this.path.get(e))}Pu(e){if(e.length===0)throw this.Eu("Document fields must not be empty");if(WR(this.uu)&&h3.test(e))throw this.Eu('Document fields cannot begin and end with "__"')}}class f3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Wh(e)}Ru(e,n,r,i=!1){return new Iy({uu:e,methodName:n,Au:r,path:At.emptyPath(),hu:!1,du:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yh(t){const e=t._freezeSettings(),n=Wh(t._databaseId);return new f3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function HR(t,e,n,r,i,s={}){const o=t.Ru(s.merge||s.mergeFields?2:0,e,n,i);Ry("Data must be an object, but it was:",o,r);const a=KR(r,o);let l,u;if(s.merge)l=new Jt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const f=Wp(e,d,n);if(!o.contains(f))throw new B(k.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);GR(c,f)||c.push(f)}l=new Jt(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new d3(new zt(a),l,u)}class Xh extends Ty{_toFieldTransform(e){if(e.uu!==2)throw e.uu===1?e.Eu(`${this._methodName}() can only appear at the top level of your update data`):e.Eu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xh}}function p3(t,e,n,r){const i=t.Ru(1,e,n);Ry("Data must be an object, but it was:",i,r);const s=[],o=zt.empty();Wi(r,(l,u)=>{const c=Ay(e,l,n);u=bt(u);const d=i.Iu(c);if(u instanceof Xh)s.push(c);else{const f=Rl(u,d);f!=null&&(s.push(c),o.set(c,f))}});const a=new Jt(s);return new zR(o,a,i.fieldTransforms)}function m3(t,e,n,r,i,s){const o=t.Ru(1,e,n),a=[Wp(e,r,n)],l=[i];if(s.length%2!=0)throw new B(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Wp(e,s[f])),l.push(s[f+1]);const u=[],c=zt.empty();for(let f=a.length-1;f>=0;--f)if(!GR(u,a[f])){const g=a[f];let y=l[f];y=bt(y);const _=o.Iu(g);if(y instanceof Xh)u.push(g);else{const E=Rl(y,_);E!=null&&(u.push(g),c.set(g,E))}}const d=new Jt(u);return new zR(c,d,o.fieldTransforms)}function g3(t,e,n,r=!1){return Rl(n,t.Ru(r?4:3,e))}function Rl(t,e){if(qR(t=bt(t)))return Ry("Unsupported field value:",e,t),KR(t,e);if(t instanceof Ty)return function(r,i){if(!WR(i.uu))throw i.Eu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Eu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.hu&&e.uu!==4)throw e.Eu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Rl(a,i.Tu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=bt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return dF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=it.fromDate(r);return{timestampValue:Ac(i.serializer,s)}}if(r instanceof it){const s=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ac(i.serializer,s)}}if(r instanceof Sy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ws)return{bytesValue:hR(i.serializer,r._byteString)};if(r instanceof $t){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Eu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:cy(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Eu(`Unsupported field value: ${qh(r)}`)}(t,e)}function KR(t,e){const n={};return MI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wi(t,(r,i)=>{const s=Rl(i,e.lu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function qR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof it||t instanceof Sy||t instanceof Ws||t instanceof $t||t instanceof Ty)}function Ry(t,e,n){if(!qR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=qh(n);throw r==="an object"?e.Eu(t+" a custom object"):e.Eu(t+" "+r)}}function Wp(t,e,n){if((e=bt(e))instanceof Qh)return e._internalPath;if(typeof e=="string")return Ay(t,e);throw kc("Field path arguments must be of type string or ",t,!1,void 0,n)}const y3=new RegExp("[~\\*/\\[\\]]");function Ay(t,e,n){if(e.search(y3)>=0)throw kc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Qh(...e.split("."))._internalPath}catch{throw kc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function kc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new B(k.INVALID_ARGUMENT,a+t+l)}function GR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new $t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new v3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Cy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class v3 extends QR{data(){return super.data()}}function Cy(t,e){return typeof e=="string"?Ay(t,e):e instanceof Qh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new B(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ky{}class w3 extends ky{}function YR(t,e,...n){let r=[];e instanceof ky&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Ny).length,a=s.filter(l=>l instanceof Jh).length;if(o>1||o>0&&a>0)throw new B(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Jh extends w3{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Jh(e,n,r)}_apply(e){const n=this._parse(e);return XR(e._query,n),new uo(e.firestore,e.converter,Lp(e._query,n))}_parse(e){const n=Yh(e.firestore);return function(s,o,a,l,u,c,d){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new B(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){K0(d,c);const g=[];for(const y of d)g.push(H0(l,s,y));f={arrayValue:{values:g}}}else f=H0(l,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||K0(d,c),f=g3(a,o,d,c==="in"||c==="not-in");return et.create(u,c,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Nc(t,e,n){const r=e,i=Cy("where",t);return Jh._create(i,r,n)}class Ny extends ky{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ny(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:kn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)XR(o,l),o=Lp(o,l)}(e._query,n),new uo(e.firestore,e.converter,Lp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function H0(t,e,n){if(typeof(n=bt(n))=="string"){if(n==="")throw new B(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qI(e)&&n.indexOf("/")!==-1)throw new B(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Pe.fromString(n));if(!Y.isDocumentKey(r))throw new B(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return m0(t,new Y(r))}if(n instanceof $t)return m0(t,n._key);throw new B(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qh(n)}.`)}function K0(t,e){if(!Array.isArray(t)||t.length===0)throw new B(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function XR(t,e){if(e.isInequality()){const r=oy(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new B(k.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=KI(t);s!==null&&E3(t,i,s)}const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new B(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new B(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function E3(t,e,n){if(!n.isEqual(e))throw new B(k.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class T3{convertValue(e,n="none"){switch(Oi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Li(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Wi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Sy(Je(e.latitude),Je(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ty(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($a(e));default:return null}}convertTimestamp(e){const n=Gr(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Pe.fromString(e);Le(gR(r));const i=new ja(r.get(1),r.get(3)),s=new Y(r.popFirst(5));return i.isEqual(n)||ur(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ZR extends QR{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Nu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Cy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Nu extends ZR{data(e={}){return super.data(e)}}class S3{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Fo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Nu(this._firestore,this._userDataWriter,r.key,r,new Fo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new B(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Nu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Fo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Nu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Fo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:I3(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function I3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(t){t=zn(t,$t);const e=zn(t.firestore,co);return s3(Ey(e),t._key).then(n=>R3(e,t,n))}class eA extends T3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ws(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $t(this.firestore,null,n)}}function xy(t){t=zn(t,uo);const e=zn(t.firestore,co),n=Ey(e),r=new eA(e);return _3(t._query),o3(n,t._query).then(i=>new S3(e,r,t,i))}function Py(t,e,n){t=zn(t,$t);const r=zn(t.firestore,co),i=JR(t.converter,e,n);return by(r,[HR(Yh(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Rn.none())])}function xc(t,e,n,...r){t=zn(t,$t);const i=zn(t.firestore,co),s=Yh(i);let o;return o=typeof(e=bt(e))=="string"||e instanceof Qh?m3(s,"updateDoc",t._key,e,n,r):p3(s,"updateDoc",t._key,e),by(i,[o.toMutation(t._key,Rn.exists(!0))])}function Pc(t,e){const n=zn(t.firestore,co),r=nn(t),i=JR(t.converter,e);return by(n,[HR(Yh(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Rn.exists(!1))]).then(()=>r)}function by(t,e){return function(r,i){const s=new nr;return r.asyncQueue.enqueueAndForget(async()=>H4(await i3(r),i,s)),s.promise}(Ey(t),e)}function R3(t,e,n){const r=n.docs.get(e._key),i=new eA(t);return new ZR(t,i,e._key,r,new Fo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){oo=i})(eo),Os(new xi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new co(new bU(r.getProvider("auth-internal")),new OU(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new B(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ja(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Br(c0,"4.1.0",e),Br(c0,"4.1.0","esm2017")})();var A3="firebase",C3="10.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Br(A3,C3,"app");const k3={apiKey:"AIzaSyApB3MMgBUOgg-Vq_a8q9GPDgMPC2aReI0",authDomain:"tikul-project.firebaseapp.com",projectId:"tikul-project",storageBucket:"tikul-project.appspot.com",messagingSenderId:"1007281077741",appId:"1:1007281077741:web:5b6442989cce1a157d3be4"},tA=QS(k3),Nn=Tj(tA),ut=c3(tA),N3=t=>{const[e,n]=R.useState(!1),r=()=>{n(!0)};return console.log(e),h.jsx("div",{className:`modal-overlay ${e?"hidden":""}`,children:h.jsxs("form",{method:"dialog",className:"modal-box Modal border",children:[h.jsx("h3",{className:"font-bold text-lg",children:t.title}),h.jsx("p",{className:"py-4",children:t.content}),h.jsx("div",{className:"modal-action",children:h.jsx("button",{className:"btn btn-primary text-base-100",onClick:r,children:""})})]})})},x3=()=>{const t=ni(),[e,n]=M(gh),[r,i]=M(nl),[s,o]=M(gn),[a,l]=R.useState(!0),[u,c]=R.useState(),d=Nn.currentUser,f=d?nn(ut,"users",d.uid):null,g=async()=>{try{if(await l$(Nn,e,r),console.log(" !"),l(!0),f){const _=(await Al(f)).data(),E=Wr(f,"details");_&&o({account:"",accountPassword:"",balance:0,bankName:"",email:""}),c(E),t("/Home")}}catch(y){console.log(" ",y),l(!1)}};return d&&(localStorage.setItem("account",JSON.stringify(s)),localStorage.setItem("uid",JSON.stringify(d.uid)),console.log(s),console.log("!")),console.log("btnLogin useEffect !"),console.log(a),h.jsxs(h.Fragment,{children:[!a&&h.jsx(N3,{title:" ",content:"  ."}),h.jsxs("div",{className:"form-control my-6",children:[h.jsx("button",{className:"btn btn-primary",onClick:g,children:"Login"}),h.jsxs("label",{className:"label justify-center mt-2",children:[h.jsx("span",{className:"text-sm mr-2",children:"    "}),h.jsx(pr,{to:"join",className:"link-hover text-sm text-primary",children:""})]})]})]})},P3=()=>{const t=ni(),[e,n]=M(gn),r=new Qn,i=async()=>{try{const o=(await P$(Nn,r)).user;if(o){const a={email:o.email},l=nn(ut,"users",o.uid);await Py(l,a,{merge:!0});const c=(await Al(l)).data();n(c),c.bankName?t("/Home"):t("/add"),console.log(" !"),console.log(" :",o.email),console.log(" :",o.displayName),localStorage.setItem("account",JSON.stringify(e)),localStorage.setItem("uid",JSON.stringify(o.uid))}else alert(" .")}catch(s){alert(" ."),console.error(" :",s)}};return h.jsx(h.Fragment,{children:h.jsx("div",{className:"form-control mt-6",children:h.jsx("button",{className:"btn btn-outline btn-primary",onClick:i,children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("i",{className:"bx bxl-google text-2xl"}),h.jsx("span",{children:"  "})]})})})})},b3=()=>h.jsx(h.Fragment,{children:h.jsx("div",{className:"container min-h-screen",children:h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsxs("div",{className:"text-center",children:[h.jsx(pr,{to:"/",children:h.jsx("h1",{className:"text-5xl font-bold",children:"Tikul"})}),h.jsx("p",{className:"py-3 mt-8",children:""})]}),h.jsx("div",{className:"card flex-shrink-0 w-full max-w-sm shadow-2xl bg-base-100",children:h.jsxs("div",{className:"card-body",children:[h.jsxs("form",{children:[h.jsx(US,{}),h.jsx(zL,{})]}),h.jsx(x3,{}),h.jsxs("div",{className:"flex items-center justify-around",children:[h.jsx("hr",{className:"w-1/3"}),h.jsx("span",{children:"or"}),h.jsx("hr",{className:"w-1/3"})]}),h.jsx(P3,{})]})})]})})}),Zh=t=>{const[e,n]=R.useState(""),[r,i]=R.useState(!1),[s,o]=M(yh),[a,l]=M(fg),u=d=>{n(d),t.transfer&&l(d),t.transfer===!1&&o(d),i(!1)},c=()=>{i(!r)};return h.jsx(h.Fragment,{children:h.jsxs("div",{className:"form-control",children:[h.jsx("label",{className:"label",children:h.jsx("span",{className:"label-text",children:" "})}),h.jsxs("div",{className:"dropdown",children:[h.jsxs("label",{tabIndex:0,className:"btn btn-outline justify-between text-accent w-full",onClick:c,children:[h.jsx("span",{className:"label-text",children:e}),h.jsx("i",{className:"bx bx-chevron-down text-xl"})]}),h.jsxs("ul",{tabIndex:0,className:`dropdown-content overflow-y-auto h-52 z-[1] menu p-2 shadow bg-base-100 rounded-box w-52 ${r?"":"hidden"}`,children:[h.jsx("li",{children:h.jsx("a",{onClick:()=>u("NH"),children:"NH"})}),h.jsx("li",{children:h.jsx("a",{onClick:()=>u("KB"),children:"KB"})}),h.jsx("li",{children:h.jsx("a",{onClick:()=>u(""),children:""})}),h.jsx("li",{children:h.jsx("a",{onClick:()=>u(""),children:""})}),h.jsx("li",{children:h.jsx("a",{onClick:()=>u("IBK"),children:"IBK"})}),h.jsx("li",{children:h.jsx("a",{onClick:()=>u(""),children:""})}),h.jsx("li",{children:h.jsx("a",{onClick:()=>u(""),children:""})}),h.jsx("li",{children:h.jsx("a",{onClick:()=>u(""),children:""})}),h.jsx("li",{children:h.jsx("a",{onClick:()=>u(""),children:""})}),h.jsx("li",{children:h.jsx("a",{onClick:()=>u(""),children:""})}),h.jsx("li",{children:h.jsx("a",{onClick:()=>u(""),children:""})}),h.jsx("li",{children:h.jsx("a",{onClick:()=>u(""),children:""})}),h.jsx("li",{children:h.jsx("a",{onClick:()=>u(""),children:""})}),h.jsx("li",{children:h.jsx("a",{onClick:()=>u("SC"),children:"SC"})}),h.jsx("li",{children:h.jsx("a",{onClick:()=>u(""),children:""})})]})]})]})})},oi=t=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,16}$/.test(t),D3=()=>{const[t,e]=M(nl),[n,r]=M(ug),[i,s]=R.useState(""),[o,a]=R.useState(""),[l,u]=R.useState(!0),[c,d]=R.useState(!1),[f,g]=R.useState(!1),y=E=>{s(E.target.value),u(oi(E.target.value)&&o===E.target.value),d(!0),r(!1)},_=E=>{const m=E.target.value;a(m),u(oi(m)&&m===i),g(!0),d(!0),r(!1)};return R.useEffect(()=>{u(oi(t)&&t===i),r(o===i&&o.length>1),e(n?o:""),console.log("Passwordcheck: useEffect !")},[o,n,t,i,e]),R.useEffect(()=>{oi(i)||e("")},[i,e]),h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"form-control",children:[h.jsxs("label",{className:"label",children:[h.jsx("span",{className:"label-text",children:""}),!oi(i)&&c&&h.jsx("span",{className:"password-error text-sm text-primary",children:", ,   8~16 "})]}),h.jsx("input",{type:"password",placeholder:" ",className:"input input-bordered input-primary",value:i,onChange:y})]}),h.jsxs("div",{className:"form-control",children:[h.jsxs("label",{className:"label",children:[h.jsx("span",{className:"label-text",children:" "}),!l&&c&&f&&h.jsx("span",{className:"text-sm text-error",children:"  ."})]}),h.jsx("input",{type:"password",placeholder:" ",className:`password input input-bordered input-primary ${!l&&c&&f&&"input-error"}`,value:o,onChange:_,disabled:!oi(i),...!oi(i)&&{value:""}})]})]})},V3=t=>/^[1-9][0-9]{8,13}$/.test(t),nA=()=>{const[t,e]=M(vh),[n,r]=M(cg),[i,s]=R.useState(!0),[o,a]=R.useState(!1),l=u=>{const c=u.target.value.replace(/\s/g,"");!isNaN(Number(c))&&c.length<=13?(s(V3(c)),e(c)):s(!1),!isNaN(Number(c))&&c.length<=13&&c.length>=9&&r(!0),a(c.length>0)};return h.jsx(h.Fragment,{children:h.jsxs("div",{className:"form-control",children:[h.jsxs("label",{className:"label",children:[h.jsx("span",{className:"label-text",children:" "}),o&&h.jsx("span",{className:"password-error text-sm text-primary",children:"9~13  ."})]}),h.jsx("input",{type:"text",placeholder:" .",className:`input input-bordered input-primary ${i?"":"input-error"}`,value:t,onChange:l})]})})},lu=t=>/^[0-9]{6}$/.test(t),rA=()=>{const[t,e]=M(ag),[n,r]=M(hg),[i,s]=R.useState(""),[o,a]=R.useState(""),[l,u]=R.useState(!0),[c,d]=R.useState(!1),[f,g]=R.useState(!1),y=E=>{const m=E.target.value.replace(/\D/g,"").slice(0,6);s(m),d(!0)},_=E=>{const m=E.target.value.replace(/\D/g,"").slice(0,6);a(m),g(!0)};return R.useEffect(()=>{u(lu(o)&&o===i),r(o===i&&i.length>1),e(n?o:"")}),R.useEffect(()=>{lu(i)||a("")},[i]),h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"form-control",children:[h.jsx("label",{className:"label",children:h.jsx("span",{className:"label-text",children:" "})}),h.jsx("input",{type:"password",placeholder:" 6 .",className:"input input-bordered input-primary",value:i,onChange:y})]}),h.jsxs("div",{className:"form-control",children:[h.jsxs("label",{className:"label",children:[h.jsx("span",{className:"label-text",children:"  "}),!l&&c&&f&&h.jsx("span",{className:"text-sm text-error",children:"  ."})]}),h.jsx("input",{type:"password",placeholder:"  ",className:`password input input-bordered input-primary ${!l&&c&&f&&"input-error"}`,value:o,onChange:_,disabled:!lu(i),...!lu(i)&&{value:""}})]}),h.jsx("div",{className:"flex items-center justify-around",children:h.jsx("hr",{className:"w-full mt-6"})})]})},L3=()=>{const[t,e]=M(dg),n=()=>{const r=document.getElementById("checkbox1"),i=document.getElementById("checkbox2");r.checked&&i.checked?e(!0):e(!1)};return R.useEffect(()=>{n(),console.log("checkbox useEffect !")},[t]),h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"form-control",children:h.jsxs("label",{className:"label cursor-pointer",children:[h.jsx("input",{type:"checkbox",className:"checkbox checkbox-primary",id:"checkbox1",onChange:n}),h.jsx("span",{className:"label-text",children:" 14 ."})]})}),h.jsx("div",{className:"form-control",children:h.jsxs("label",{className:"label cursor-pointer",children:[h.jsx("input",{type:"checkbox",className:"checkbox checkbox-primary",id:"checkbox2",onChange:n}),h.jsx("span",{className:"label-text",children:"  ."})]})})]})},O3=()=>{const t=ni(),[e,n]=M(lg),[r,i]=M(ug),[s,o]=M(cg),[a,l]=M(yh),[u,c]=M(hg),[d,f]=M(dg),[g,y]=M(gh),[_,E]=M(nl),[m,p]=M(vh),[v,T]=M(ag),C=[e,r,s,!!a,u,d].every(L=>L),N=async()=>{try{await a$(Nn,g,_),console.log(" ");const L=Nn.currentUser;if(console.log(L.uid),L){const Z={email:g,account:m,bankName:a,accountPassword:v,balance:0};await Py(nn(ut,"users",L.uid),Z),t("/login")}}catch(L){console.log(" ",L)}};return h.jsx(h.Fragment,{children:h.jsx("div",{className:"form-control my-6",children:h.jsx("button",{className:`btn btn-primary ${C?"":"btn-disabled"}`,onClick:N,children:""})})})},M3=()=>h.jsx(h.Fragment,{children:h.jsx("div",{className:"container min-h-screen",children:h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsxs("div",{className:"text-center",children:[h.jsx(pr,{to:"/",children:h.jsx("h1",{className:"text-5xl font-bold",children:"Tikul"})}),h.jsx("p",{className:"py-3 mt-8",children:""})]}),h.jsx("div",{className:"card flex-shrink-0 w-full max-w-sm shadow-2xl bg-base-100",children:h.jsxs("div",{className:"card-body",children:[h.jsx(US,{}),h.jsx(D3,{}),h.jsx("div",{className:"flex items-center justify-around",children:h.jsx("hr",{className:"w-full mt-6"})}),h.jsx(nA,{}),h.jsx(Zh,{transfer:!1}),h.jsx(rA,{}),h.jsx(L3,{}),h.jsx(O3,{})]})})]})})}),Dy=()=>{const[t,e]=M(gn),[n,r]=M(vh),[i,s]=M(tl),o=sessionStorage.getItem("user");o&&JSON.parse(o);const a=ni();R.useEffect(()=>{const u=localStorage.getItem("account");if(u){const c=JSON.parse(u);e(c)}console.log("nav useEffect !")},[]);const l=()=>{e({account:"",accountPassword:"",balance:0,bankName:"",email:""}),s([]),r(""),localStorage.removeItem("user"),a("/login")};return h.jsxs("div",{className:"navbar bg-base-100 shadow-md",children:[h.jsx("div",{className:"flex-1",children:h.jsx(pr,{to:"/home",children:h.jsx("button",{className:"btn btn-ghost normal-case text-xl",children:"TIKUL"})})}),h.jsxs("div",{className:"flex-none",children:[h.jsx("span",{className:"text-sm mr-2",children:t?t.email:"."}),h.jsxs("div",{className:"dropdown dropdown-end",children:[h.jsx("label",{tabIndex:0,className:"btn btn-ghost btn-circle avatar flex align-middle",children:h.jsx("i",{className:"bx bxs-user text-2xl flex"})}),h.jsx("ul",{tabIndex:0,className:"mt-3 z-[1] p-2 shadow menu menu-sm dropdown-content bg-base-100 rounded-box w-40",children:h.jsx("li",{children:h.jsx("button",{className:"p-2",onClick:l,children:""})})})]})]})]})};const $3=()=>{const[t,e]=R.useState(""),[n,r]=R.useState(!1),[i,s]=R.useState(0),[o,a]=M(gn),[l,u]=M(tl),[c,d]=M($S),[f,g]=M(mg),[y,_]=M(pg),E=Nn.currentUser,[m,p]=R.useState(E?nn(ut,"users",E.uid):null);R.useEffect(()=>{const G=localStorage.getItem("account");if(G){const ae=JSON.parse(G);a(ae),console.log("   useEffect !")}},[]),R.useEffect(()=>{if(E){const G=nn(ut,"users",E.uid);p(G),console.log("userRef  useEffect !")}},[E]),R.useEffect(()=>{(async()=>{try{if(m){const ae=Wr(m,"details"),ye=(await xy(ae)).docs.map(Oe=>{const Ce=Oe.data();return{...Ce,date:Ce.date.toDate()}});u(ye),d(ye)}}catch(ae){console.log("  ",ae)}})(),console.log("    useEffect !")},[m]),R.useEffect(()=>{(()=>{const X=[...l.filter(ye=>{const Oe=new Date(ye.date);return Oe.getFullYear()===f&&Oe.getMonth()===y-1})].sort((ye,Oe)=>Oe.date-ye.date);d(X)})()},[f,y,l]);const v=()=>{const G=[...l].sort((ae,X)=>X.date-ae.date);d(G)},T=()=>{s(1),d(l),v()};console.log(l),console.log(c);const A=()=>{s(2);const G=new Date,ae=G.getMonth(),X=G.getFullYear(),ye=new Date(X,ae,1),Oe=new Date(X,ae+1,0),Be=[...l.filter(O=>{const Q=new Date(O.date);return Q>=ye&&Q<=Oe})].sort((O,Q)=>Q.date-O.date);d(Be)},C=()=>{s(3),d(l),v()},N=()=>{e(""),r(ae=>!ae),s(4);const G=l.filter(ae=>ae.isWithdrawal===0);d(G)},L=()=>{e(""),r(ae=>!ae),s(5);const G=l.filter(ae=>ae.isWithdrawal===1);d(G)},Z=()=>{e(""),r(ae=>!ae),s(6);const G=l.filter(ae=>ae.isWithdrawal===2);d(G)},H=()=>{r(G=>!G)};return h.jsx(h.Fragment,{children:h.jsx("div",{className:"banking-filter flex justify-between",children:h.jsxs("div",{className:"flex gap-2 text-sm text-info",children:[h.jsx("button",{onClick:T,className:i===1?"text-primary":"",children:""}),"|",h.jsx("button",{onClick:A,className:i===2?"text-primary":"",children:""}),"|",h.jsx("button",{onClick:C,className:i===3?"text-primary":"",children:""}),"|",h.jsxs("div",{className:"dropdown",children:[h.jsx("label",{tabIndex:0,className:`cursor-pointer ${i===4||i===5||i===6?"text-primary":""}`,onClick:H,children:t}),n===!0?h.jsxs("ul",{tabIndex:0,className:"dropdown-content  z-[1] menu  shadow bg-base-100 rounded-box w-20",children:[h.jsx("li",{children:h.jsx("button",{onClick:N,children:""})}),h.jsx("li",{children:h.jsx("button",{onClick:L,children:""})}),h.jsx("li",{children:h.jsx("button",{onClick:Z,children:""})})]}):""]})]})})})};var iA={},sA={exports:{}},j3="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",U3=j3,F3=U3;function oA(){}function aA(){}aA.resetWarningCache=oA;var B3=function(){function t(r,i,s,o,a,l){if(l!==F3){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:aA,resetWarningCache:oA};return n.PropTypes=n,n};sA.exports=B3();var lA=sA.exports,z3=bc;function bc(t,e){if(!(this instanceof bc))return new bc(t,e);this.per_page=t||25,this.length=e||10}bc.prototype.build=function(t,e){var n=Math.ceil(t/this.per_page);t=parseInt(t,10),e=parseInt(e,10)||1,e<1&&(e=1),e>n&&(e=n);var r=Math.max(1,e-Math.floor(this.length/2)),i=Math.min(n,e+Math.floor(this.length/2));i-r+1<this.length&&(e<n/2?i=Math.min(n,i+(this.length-(i-r))):r=Math.max(1,r-(this.length-(i-r)))),i-r+1>this.length&&(e>n/2?r++:i--);var s=this.per_page*(e-1);s<0&&(s=0);var o=this.per_page*e-1;return o<0&&(o=0),o>Math.max(t-1,0)&&(o=Math.max(t-1,0)),{total_pages:n,pages:Math.min(i-r+1,n),current_page:e,first_page:r,last_page:i,previous_page:e-1,next_page:e+1,has_previous_page:e>1,has_next_page:e<n,total_results:t,results:Math.min(o-s+1,t),first_result:s,last_result:o}};var Vy={},uA={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(uA);var cA=uA.exports;Object.defineProperty(Vy,"__esModule",{value:!0});var W3=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),hA=R,q0=Ly(hA),H3=lA;Ly(H3);var K3=cA,G0=Ly(K3);function Ly(t){return t&&t.__esModule?t:{default:t}}function of(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G3(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?t:e}function Q3(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Q0=function(t){function e(){return q3(this,e),G3(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Q3(e,hA.Component),W3(e,[{key:"handleClick",value:function(n){var r=this.props,i=r.isDisabled,s=r.pageNumber;n.preventDefault(),i||this.props.onClick(s)}},{key:"render",value:function(){var n,r=this.props,i=r.pageText,s=(r.pageNumber,r.activeClass),o=r.itemClass,a=r.linkClass,l=r.activeLinkClass,u=r.disabledClass,c=r.isActive,d=r.isDisabled,f=r.href,g=(0,G0.default)(o,(of(n={},s,c),of(n,u,d),n)),y=(0,G0.default)(a,of({},l,c));return q0.default.createElement("li",{className:g,onClick:this.handleClick.bind(this)},q0.default.createElement("a",{className:y,href:f},i))}}]),e}();Q0.defaultProps={activeClass:"active",disabledClass:"disabled",itemClass:void 0,linkClass:void 0,activeLinkCLass:void 0,isActive:!1,isDisabled:!1,href:"#"},Vy.default=Q0;var dA;Object.defineProperty(iA,"__esModule",{value:!0});var Y3=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),X3=R,ai=Cl(X3),J3=lA;Cl(J3);var Z3=z3,eB=Cl(Z3),tB=Vy,No=Cl(tB),nB=cA,vr=Cl(nB);function Cl(t){return t&&t.__esModule?t:{default:t}}function rB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iB(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?t:e}function sB(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Y0=function(t){function e(){return rB(this,e),iB(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return sB(e,ai.default.Component),Y3(e,[{key:"isFirstPageVisible",value:function(n){var r=this.props,i=r.hideDisabled;return r.hideNavigation,!(r.hideFirstLastPages||i&&!n)}},{key:"isPrevPageVisible",value:function(n){var r=this.props,i=r.hideDisabled;return!(r.hideNavigation||i&&!n)}},{key:"isNextPageVisible",value:function(n){var r=this.props,i=r.hideDisabled;return!(r.hideNavigation||i&&!n)}},{key:"isLastPageVisible",value:function(n){var r=this.props,i=r.hideDisabled;return r.hideNavigation,!(r.hideFirstLastPages||i&&!n)}},{key:"buildPages",value:function(){for(var n=[],r=this.props,i=r.itemsCountPerPage,s=r.pageRangeDisplayed,o=r.activePage,a=r.prevPageText,l=r.nextPageText,u=r.firstPageText,c=r.lastPageText,d=r.totalItemsCount,f=r.onChange,g=r.activeClass,y=r.itemClass,_=r.itemClassFirst,E=r.itemClassPrev,m=r.itemClassNext,p=r.itemClassLast,v=r.activeLinkClass,T=r.disabledClass,A=(r.hideDisabled,r.hideNavigation,r.linkClass),C=r.linkClassFirst,N=r.linkClassPrev,L=r.linkClassNext,Z=r.linkClassLast,H=(r.hideFirstLastPages,r.getPageUrl),G=new eB.default(i,s).build(d,o),ae=G.first_page;ae<=G.last_page;ae++)n.push(ai.default.createElement(No.default,{isActive:ae===o,key:ae,href:H(ae),pageNumber:ae,pageText:ae+"",onClick:f,itemClass:y,linkClass:A,activeClass:g,activeLinkClass:v}));return this.isPrevPageVisible(G.has_previous_page)&&n.unshift(ai.default.createElement(No.default,{key:"prev"+G.previous_page,pageNumber:G.previous_page,onClick:f,pageText:a,isDisabled:!G.has_previous_page,itemClass:(0,vr.default)(y,E),linkClass:(0,vr.default)(A,N),disabledClass:T})),this.isFirstPageVisible(G.has_previous_page)&&n.unshift(ai.default.createElement(No.default,{key:"first",pageNumber:1,onClick:f,pageText:u,isDisabled:!G.has_previous_page,itemClass:(0,vr.default)(y,_),linkClass:(0,vr.default)(A,C),disabledClass:T})),this.isNextPageVisible(G.has_next_page)&&n.push(ai.default.createElement(No.default,{key:"next"+G.next_page,pageNumber:G.next_page,onClick:f,pageText:l,isDisabled:!G.has_next_page,itemClass:(0,vr.default)(y,m),linkClass:(0,vr.default)(A,L),disabledClass:T})),this.isLastPageVisible(G.has_next_page)&&n.push(ai.default.createElement(No.default,{key:"last",pageNumber:G.total_pages,onClick:f,pageText:c,isDisabled:G.current_page===G.total_pages,itemClass:(0,vr.default)(y,p),linkClass:(0,vr.default)(A,Z),disabledClass:T})),n}},{key:"render",value:function(){var n=this.buildPages();return ai.default.createElement("ul",{className:this.props.innerClass},n)}}]),e}();Y0.defaultProps={itemsCountPerPage:10,pageRangeDisplayed:5,activePage:1,prevPageText:"",firstPageText:"",nextPageText:"",lastPageText:"",innerClass:"pagination",itemClass:void 0,linkClass:void 0,activeLinkClass:void 0,hideFirstLastPages:!1,getPageUrl:function(t){return"#"}},dA=iA.default=Y0;const fA=({detail:t})=>{const e=Nn.currentUser;e&&nn(ut,"users",e.uid);const n=t?new Intl.DateTimeFormat("ko",{year:"2-digit",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):new Intl.DateTimeFormat("en",{month:"2-digit",day:"2-digit"});R.useState(""),R.useState(0),R.useState(!1),R.useState(!1);const[r,i]=M($S),[s,o]=R.useState(0),[a,l]=R.useState(1),[u]=R.useState(5),[c,d]=R.useState(0),[f,g]=R.useState(1),[y,_]=R.useState([]);R.useEffect(()=>{o(r.length),d(a*u),g(c-u),_(r.slice(f,c))},[a,f,c,r,u]);const E=m=>{l(m)};return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"card-body mx-3 my-3 px-4 py-2 pb-4 rounded-xl bg-base-100",children:[h.jsx("div",{className:"flex justify-end gap-2 text-sm",children:h.jsx("div",{className:"lg:tooltip tooltip-primary text-sm","data-tip":""})}),h.jsx($3,{}),h.jsx("hr",{}),Array.isArray(y)&&y.length>0?y.map((m,p)=>h.jsxs("div",{children:[h.jsxs("div",{className:"transaction flex justify-between text-info",children:[h.jsxs("div",{className:"transaction-info text-sm flex gap-2",children:[h.jsx("span",{className:"text-[12px] flex items-center",children:n.format(m.date)}),h.jsx("span",{className:"",children:m.description}),h.jsx("span",{className:`badge badge-primary px-1 text-sm text-base-100 
                                    ${m.isWithdrawal===0?"badge-secondary":m.isWithdrawal===1?"badge-primary":"badge-success"}`,children:m.isWithdrawal===0?"":m.isWithdrawal===1?"":""})]}),h.jsxs("div",{children:[t?h.jsxs("span",{className:"px-4 text-sm",children:[" ",m.category," |"]}):"",h.jsx("span",{className:"text-sm",children:m.isWithdrawal?"+":"-"}),h.jsxs("span",{className:"text-sm",children:[m.amount.toLocaleString(),""]})]})]}),h.jsx("hr",{className:"m-1"})]},p)):h.jsx("div",{className:"text-sm text-center text-primary",children:" ."})]}),h.jsx("div",{children:h.jsx(dA,{activePage:a,itemsCountPerPage:5,totalItemsCount:s,pageRangeDisplayed:5,prevPageText:"<",nextPageText:">",onChange:E})})]})},oB=()=>{const[t,e]=R.useState(null),[n,r]=M(gn),[i,s]=M(yh),[o,a]=M(UL),[l,u]=M(Fi),c=y=>{e(y)};R.useEffect(()=>{const y=Nn.onAuthStateChanged(c);return()=>{y(),console.log("banking:  useEffect !")}},[]),R.useEffect(()=>{(async()=>{t&&await d(t.uid)})(),console.log("  useEffect !")},[t]);const d=async y=>{try{const _=nn(ut,"users",y),E=await Al(_);if(E.exists()){const m=E.data();r({account:"",accountPassword:"",balance:0,bankName:"",email:""}),s(m.bankName),a(m.balance),console.log("  ")}}catch(_){console.log("   ",_)}},f=()=>{u(1)},g=()=>{u(2)};return h.jsx("div",{className:"container min-h-screen",children:h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("div",{className:"text-center",children:h.jsx("p",{className:"py-3",children:"Banking"})}),n&&h.jsxs("div",{className:"card w-96 mb-10 bg-accent shadow-xl",children:[h.jsxs("div",{className:"mx-3 mt-3 rounded-xl bg-base-100",children:[h.jsxs("div",{className:"user-account p-4 text-sm",children:[h.jsx("span",{children:"  |"}),h.jsx("span",{className:"p-1",children:i}),h.jsx("span",{className:"p-1",children:n.account})]}),h.jsxs("div",{className:"account-balance px-4 text-right text-xl",children:[o.toLocaleString(),""]}),h.jsxs("div",{className:"btn-banking p-4 flex justify-around gap-1",children:[h.jsx("button",{onClick:f,className:"btn btn-primary text-base-100 w-1/2",children:""}),h.jsx("button",{onClick:g,className:"btn btn-outline btn-primary w-1/2 btn-hover",children:""})]})]}),h.jsx(fA,{detail:!1})]})]})})},Oy=()=>{const[t,e]=R.useState(""),[n,r]=R.useState(!1),[i,s]=R.useState(""),[o,a]=M(gn),[l,u]=M(_h),c=ni(),d=()=>{r(_=>!_)};o||(a({account:"",accountPassword:"",balance:0,bankName:"",email:""}),c("/not-a-user"));const f=_=>{t.length<6&&e(E=>E+_)},g=()=>{e(_=>_.slice(0,-1))},y=()=>{e("")};return R.useEffect(()=>{t.length===6&&(t===o.accountPassword?(r(!1),u(!0)):setTimeout(()=>{e(""),u(!1)},2e3)),console.log("keyPad useEffect !")},[o.accountPassword,t,u]),h.jsxs(h.Fragment,{children:[h.jsx("input",{readOnly:!0,type:"text",value:t,onChange:_=>s(_.target.value),onClick:d,placeholder:"6  .",className:"input input-bordered input-primary"}),l===!1&&t.length===6&&h.jsx("span",{className:"password-error text-sm text-error ml-1 mt-1",children:" !"}),n?h.jsxs("div",{className:"shadow-xl rounded-xl",children:[h.jsxs("div",{className:"flex mx-3 mt-2",children:[h.jsx("i",{className:"bx bxs-bell-ring text-primary flex px-1"}),h.jsx("span",{className:"text-sm text-primary",children:"    ."})]}),h.jsxs("div",{className:"grid grid-cols-3 grid-rows-4 gap-1 p-2 card-body shadow-",children:[h.jsx("button",{className:"btn btn-primary btn-sm text-base-100",onClick:()=>f(1),children:"1"}),h.jsx("button",{className:"btn btn-primary btn-sm text-base-100",onClick:()=>f(2),children:"2"}),h.jsx("button",{className:"btn btn-primary btn-sm text-base-100",onClick:()=>f(3),children:"3"}),h.jsx("button",{className:"btn btn-primary btn-sm text-base-100",onClick:()=>f(4),children:"4"}),h.jsx("button",{className:"btn btn-primary btn-sm text-base-100",onClick:()=>f(5),children:"5"}),h.jsx("button",{className:"btn btn-primary btn-sm text-base-100",onClick:()=>f(6),children:"6"}),h.jsx("button",{className:"btn btn-primary btn-sm text-base-100",onClick:()=>f(7),children:"7"}),h.jsx("button",{className:"btn btn-primary btn-sm text-base-100",onClick:()=>f(8),children:"8"}),h.jsx("button",{className:"btn btn-primary btn-sm text-base-100",onClick:()=>f(9),children:"9"}),h.jsx("button",{className:"btn btn-primary btn-sm text-base-100",onClick:g,children:""}),h.jsx("button",{className:"btn btn-primary btn-sm text-base-100",onClick:()=>f(0),children:"0"}),h.jsx("button",{className:"btn btn-primary btn-sm text-base-100",onClick:y,children:""})]})]}):""]})},aB=()=>{const[t,e]=R.useState(""),[n,r]=M(gn),[i,s]=R.useState(""),[o,a]=R.useState(""),[l,u]=R.useState(""),[c,d]=M(fg),[f,g]=M(_h),[y,_]=M(tl),[E,m]=M(Fi),[p,v]=R.useState(!1),T=ni();R.useEffect(()=>{g(!1)},[]);const A=async()=>{try{const N=Wr(ut,"users"),L=YR(N,Nc("bankName","==",c),Nc("account","==",t)),Z=await xy(L);if(Z.empty)console.log("        .");else{const H=Nn.currentUser;if(!H){console.log(" ."),T("/not-a-user");return}const G=nn(ut,"users",H.uid),X=(await Al(G)).data();if(X){const ye=Wr(ut,"users",H.uid,"details"),Oe={amount:i,description:l,isWithdrawal:0,category:`  : ${n.bankName} ${n.account}`,date:new Date};await Pc(ye,Oe),_(Q=>[...Q,Oe]),await xc(G,{balance:X.balance-Number(i)});const Ce=Z.docs[0],Be=nn(ut,"users",Ce.id),O=Wr(ut,"users",Ce.id,"details");await Pc(O,{amount:i,description:l,isWithdrawal:1,category:`  : ${n.bankName} ${n.account}`,date:new Date}),await xc(Be,{balance:Ce.data().balance+Number(i)}),e(""),s(""),a(""),v(!0),console.log(" !   .")}}}catch(N){console.log(" :",N)}};console.log(`${f}:`);const C=()=>{v(!1),m(0)};return h.jsx(h.Fragment,{children:p?h.jsxs("div",{className:"card-body",children:[h.jsx("hr",{}),h.jsx("div",{className:"text-center p-4",children:"  ! "}),h.jsx("div",{className:"btn-banking p-4 flex justify-around gap-1",children:h.jsx("button",{onClick:C,className:"btn btn-outline btn-primary w-1/2 btn-hover",children:""})})]}):h.jsxs("div",{className:"card-body p-4",children:[h.jsx("hr",{}),h.jsx(Zh,{transfer:"true",onBankSelected:d}),h.jsxs("div",{className:"form-control",children:[h.jsx("label",{className:"label",children:h.jsx("span",{className:"label-text",children:"  "})}),h.jsx("input",{type:"text",value:t,onChange:N=>e(N.target.value),placeholder:"9~13  .",className:"input input-bordered input-primary"})]}),h.jsxs("div",{className:"form-control",children:[h.jsx("label",{className:"label",children:h.jsx("span",{className:"label-text",children:" ?"})}),h.jsx("input",{type:"number",value:i,onChange:N=>s(N.target.value),placeholder:"",className:`input input-bordered ${Number(i)>n.balance?"input-error":"input-primary"}`}),Number(i)>n.balance&&h.jsxs("span",{className:"password-error text-sm text-error ml-1 mt-1",children:["  .   ",n.balance.toLocaleString()," ."]})]}),h.jsxs("div",{className:"form-control",children:[h.jsx("label",{className:"label",children:h.jsx("span",{className:"label-text",children:" !"})}),h.jsx("input",{type:"text",value:l,onChange:N=>u(N.target.value),placeholder:"(option)",className:"input input-bordered w-full input-primary"})]}),h.jsxs("div",{className:"form-control",children:[h.jsx("label",{className:"label",children:h.jsx("span",{className:"label-text",children:" "})}),h.jsx(Oy,{})]}),h.jsx("div",{className:"form-control my-6",children:h.jsx("button",{className:`btn btn-primary w-full text-base-100 ${!c||!t||!i||!f||Number(i)>n.balance?"btn-disabled":""}`,onClick:A,disabled:!c||!t||!i||!f||Number(i)>n.balance,children:"  "})})]})})},lB=()=>{const[t,e]=M(gn),[n,r]=M(Fi),i=()=>{r(0)};return h.jsx("div",{className:"container min-h-screen",children:h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("div",{className:"text-center",children:h.jsx("p",{className:"py-3",children:""})}),h.jsx("div",{className:"card w-96 bg-accent shadow-xl",children:h.jsxs("div",{className:"m-3 rounded-xl bg-base-100",children:[h.jsx("button",{onClick:i,className:"px-4 pt-4 text-sm link-primary underline",children:""}),t&&h.jsx(h.Fragment,{children:h.jsx("div",{className:"user-account px-4 pt-4 text-sm flex justify-between",children:h.jsxs("div",{children:[h.jsx("span",{children:"  |"}),h.jsx("span",{className:"p-1",children:t.bankName}),h.jsx("span",{className:"p-1",children:t.account})]})})}),h.jsx(aB,{})]})})]})})},uB=()=>{const t=new Date,e=t.getMonth()+1,n=t.getFullYear(),[r,i]=M(tl),[s,o]=M(mg),[a,l]=M(pg);M(_h);const[u,c]=R.useState(0),[d,f]=R.useState(0),[g,y]=R.useState(0),_=()=>{const m=r.filter(A=>{const C=new Date(A.date);return C.getFullYear()===n&&C.getMonth()===e-1}),p=m.reduce((A,C)=>C.isWithdrawal===0?A+Number(C.amount):A,0),v=m.reduce((A,C)=>C.isWithdrawal===1?A+Number(C.amount):A,0),T=m.reduce((A,C)=>C.isWithdrawal===2?A+Number(C.amount):A,0);c(p),f(v),y(T)},E=()=>{l(e),o(n)};return R.useEffect(()=>{_(),console.log("?")}),h.jsx(h.Fragment,{children:h.jsx("div",{className:"container min-h-screen",children:h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("div",{className:"text-center",children:h.jsx("p",{className:"py-3",children:"  "})}),h.jsx("div",{className:"card flex-shrink-0 w-full max-w-sm shadow-2xl bg-base-100",children:h.jsxs("div",{className:"card-body text-md",children:[h.jsxs("div",{className:"category",children:[h.jsx("div",{className:"edit flex gap-2 justify-end",children:h.jsx(pr,{to:"/detail",children:h.jsx("button",{onClick:E,className:"link link-primary pb-2 ",children:""})})}),h.jsxs("div",{className:"category-content flex justify-between p-4",children:[h.jsx("span",{children:""}),h.jsxs("span",{children:[u.toLocaleString(),""]})]}),h.jsx("hr",{})]}),h.jsxs("div",{className:"category",children:[h.jsxs("div",{className:"category-content flex justify-between p-4",children:[h.jsx("span",{children:""}),h.jsxs("span",{children:[d.toLocaleString(),""]})]}),h.jsx("hr",{})]}),h.jsxs("div",{className:"category",children:[h.jsxs("div",{className:"category-content flex justify-between p-4",children:[h.jsx("span",{children:""}),h.jsxs("span",{children:[g.toLocaleString(),""]})]}),h.jsx("hr",{})]})]})})]})})})},cB=()=>{const[t,e]=R.useState(""),[n,r]=M(gn),[i,s]=R.useState(""),[o,a]=R.useState(""),[l,u]=M(fg),[c,d]=M(_h),[f,g]=M(tl),[y,_]=M(Fi),[E,m]=R.useState(!1),[p,v]=R.useState("");R.useEffect(()=>{d(!1)},[]);const T=async()=>{try{const C=Wr(ut,"users"),N=YR(C,Nc("bankName","==",l),Nc("account","==",t)),L=await xy(N);if(L.empty)console.log("        .");else{const Z=Nn.currentUser,H=nn(ut,"users",Z.uid),ae=(await Al(H)).data(),X=L.docs[0],ye=nn(ut,"users",X.id);if(X&&X.data().balance&&X.data().balance>=Number(i)){const Oe=Wr(ut,"users",X.id,"details");await Pc(Oe,{amount:i,description:o,isWithdrawal:0,category:`  : ${n.bankName} ${n.account}`,date:new Date}),await xc(ye,{balance:X.data().balance-Number(i)});const Ce=Wr(ut,"users",Z.uid,"details"),Be={amount:i,description:o,isWithdrawal:2,category:`  : ${n.bankName} ${n.account}`,date:new Date};await Pc(Ce,Be),g(O=>[...O,Be]),await xc(H,{balance:ae.balance+Number(i)}),e(""),s(""),v(""),m(!0),a(""),console.log(" !   .")}else alert("   !")}}catch(C){console.log(" :",C)}},A=()=>{m(!1),_(0)};return h.jsx(h.Fragment,{children:E?h.jsxs("div",{className:"card-body",children:[h.jsx("hr",{}),h.jsx("div",{className:"text-center p-4",children:"  ! "}),h.jsx("div",{className:"btn-banking p-4 flex justify-around gap-1",children:h.jsx("button",{onClick:A,className:"btn btn-outline btn-primary w-1/2 btn-hover",children:""})})]}):h.jsxs("div",{className:"card-body p-4",children:[h.jsx("hr",{}),h.jsx(Zh,{transfer:"true",onBankSelected:u}),h.jsxs("div",{className:"form-control",children:[h.jsx("label",{className:"label",children:h.jsx("span",{className:"label-text",children:" ?"})}),h.jsx("input",{type:"text",value:t,onChange:C=>e(C.target.value),placeholder:"9~13  .",className:"input input-bordered w-full input-primary"})]}),h.jsxs("div",{className:"form-control",children:[h.jsx("label",{className:"label",children:h.jsx("span",{className:"label-text",children:" ?"})}),h.jsx("input",{type:"number",value:i,onChange:C=>s(C.target.value),placeholder:"",className:"input input-primary w-full input-bordered"})]}),h.jsxs("div",{className:"form-control",children:[h.jsx("label",{className:"label",children:h.jsx("span",{className:"label-text",children:" !"})}),h.jsx("input",{type:"text",value:o,onChange:C=>a(C.target.value),placeholder:"(option)",className:"input input-bordered w-full input-primary"})]}),h.jsxs("div",{className:"form-control",children:[h.jsx("label",{className:"label",children:h.jsx("span",{className:"label-text",children:" "})}),h.jsx(Oy,{})]}),h.jsx("div",{className:"form-control my-6",children:h.jsx("button",{className:`btn btn-primary w-full text-base-100 ${!l||!t||!i||!c?"btn-disabled":""}`,onClick:T,disabled:!l||!t||!i||!c,children:"  "})})]})})},hB=()=>{const[t,e]=M(gn),[n,r]=M(Fi),i=()=>{r(0)};return h.jsx("div",{className:"container min-h-screen",children:h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("div",{className:"text-center",children:h.jsx("p",{className:"py-3",children:""})}),h.jsx("div",{className:"card w-96 bg-accent shadow-xl",children:h.jsxs("div",{className:"m-3 rounded-xl bg-base-100",children:[h.jsx("button",{onClick:i,className:"px-4 pt-4 text-sm link-primary underline",children:""}),t&&h.jsx(h.Fragment,{children:h.jsx("div",{className:"user-account px-4 pt-4 text-sm flex justify-between",children:h.jsxs("div",{children:[h.jsx("span",{children:"  |"}),h.jsx("span",{className:"p-1",children:t.bankName}),h.jsx("span",{className:"p-1",children:t.account})]})})}),h.jsx(cB,{})]})})]})})},dB=()=>{const[t,e]=M(Fi),[n,r]=M(gn);return h.jsx(h.Fragment,{children:h.jsx("div",{className:"container min-h-screen",children:n?h.jsxs(h.Fragment,{children:[h.jsx(Dy,{}),h.jsxs("div",{className:"flex",children:[h.jsx(uB,{}),t==0?h.jsx(oB,{}):t==1?h.jsx(lB,{}):h.jsx(hB,{})]})]}):h.jsxs("div",{className:"flex flex-col p-10 items-center",children:[h.jsx("span",{children:"  ."}),h.jsx(pr,{to:"/login",children:h.jsx("button",{className:"btn btn-primary  w-40 text-base-100 m-6",children:""})})]})})})},fB=()=>{M(lg),M(ug),M(cg);const[t,e]=M(yh);M(hg),M(dg),M(gh),M(nl);const[n,r]=M(vh),[i,s]=M(ag);R.useEffect(()=>{console.log(n,t,i)},[n,t,i]);const o=async()=>{try{const a=Nn.currentUser;if(a){const l={account:n,bankName:t,accountPassword:i,balance:0},u=nn(ut,"users",a.uid);await Py(u,l),console.log("")}}catch(a){console.log(" ",a)}};return h.jsx(h.Fragment,{children:h.jsx("div",{className:"form-control my-6",children:h.jsx(pr,{to:"/home",children:h.jsx("button",{className:"btn btn-primary w-full",onClick:o,children:""})})})})},pB=()=>{const[t,e]=M(gn);return h.jsx(h.Fragment,{children:h.jsx("div",{className:"container min-h-screen",children:h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("span",{children:""}),h.jsx("span",{children:t.email}),h.jsxs("div",{className:"text-center",children:[h.jsx(pr,{to:"/home",children:h.jsx("h1",{className:"text-5xl font-bold",children:"Tikul"})}),h.jsx("p",{className:"py-3 mt-8",children:""})]}),h.jsx("div",{className:"card flex-shrink-0 w-full max-w-sm shadow-2xl bg-base-100",children:h.jsxs("div",{className:"card-body",children:[h.jsx(nA,{}),h.jsx(Zh,{transfer:!1}),h.jsx(rA,{}),h.jsx(fB,{})]})})]})})})};function mB(){const{pathname:t}=Zs();return R.useEffect(()=>{window.scrollTo(0,0),console.log("scrolltotop : useEffect !")},[t]),null}const gB=()=>{const[t,e]=M(Fi),n=()=>{e(0)};return h.jsxs("div",{className:"card-body",children:[h.jsx("hr",{}),h.jsx("div",{className:"text-center p-4",children:"  ! "}),h.jsx("div",{className:"btn-banking p-4 flex justify-around gap-1",children:h.jsx("button",{onClick:n,className:"btn btn-outline btn-primary w-1/2 btn-hover",children:""})})]})},yB=()=>{const t=new Date,[e,n]=M(mg),[r,i]=M(pg);console.log(e);const s=()=>{r===1?(i(12),n(e-1)):i(r-1)},o=()=>{r===12?(i(1),n(e+1)):i(r+1)};return h.jsx(h.Fragment,{children:h.jsxs("div",{className:"container min-h-screen",children:[h.jsx(Dy,{}),h.jsx("div",{className:"flex",children:h.jsx("div",{className:"card-body w-full",children:h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsxs("div",{className:"flex gap-2 items-center p-2",children:[h.jsx("button",{className:"flex btn btn-primary text-base-100",onClick:s,children:h.jsx("i",{className:"bx bxs-left-arrow"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-center w-48 flex justify-center",children:`${e}`}),h.jsx("div",{className:"text-center w-48 flex justify-center",children:`${r}   `})]}),h.jsx("button",{className:`flex btn btn-primary text-base-100 ${r==t.getMonth()+1&&e===t.getFullYear()?"btn-disabled":""}`,onClick:o,children:h.jsx("i",{className:"bx bxs-right-arrow"})})]}),h.jsx("div",{className:"card w-full shadow-2xl bg-base-100",children:h.jsx("div",{className:"card-body w-full",children:h.jsx(fA,{detail:!0})})})]})})})]})})},vB=()=>h.jsx(h.Fragment,{children:h.jsxs("footer",{className:"footer p-10 bg-neutral text-neutral-content ",children:[h.jsxs("div",{children:[h.jsx("svg",{width:"50",height:"50",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",className:"fill-current",children:h.jsx("path",{d:"M22.672 15.226l-2.432.811.841 2.515c.33 1.019-.209 2.127-1.23 2.456-1.15.325-2.148-.321-2.463-1.226l-.84-2.518-5.013 1.677.84 2.517c.391 1.203-.434 2.542-1.831 2.542-.88 0-1.601-.564-1.86-1.314l-.842-2.516-2.431.809c-1.135.328-2.145-.317-2.463-1.229-.329-1.018.211-2.127 1.231-2.456l2.432-.809-1.621-4.823-2.432.808c-1.355.384-2.558-.59-2.558-1.839 0-.817.509-1.582 1.327-1.846l2.433-.809-.842-2.515c-.33-1.02.211-2.129 1.232-2.458 1.02-.329 2.13.209 2.461 1.229l.842 2.515 5.011-1.677-.839-2.517c-.403-1.238.484-2.553 1.843-2.553.819 0 1.585.509 1.85 1.326l.841 2.517 2.431-.81c1.02-.33 2.131.211 2.461 1.229.332 1.018-.21 2.126-1.23 2.456l-2.433.809 1.622 4.823 2.433-.809c1.242-.401 2.557.484 2.557 1.838 0 .819-.51 1.583-1.328 1.847m-8.992-6.428l-5.01 1.675 1.619 4.828 5.011-1.674-1.62-4.829z"})}),h.jsxs("p",{children:["TIKUL",h.jsx("br",{}),"2023 Fintech-Project"]})]}),h.jsxs("div",{children:[h.jsx("span",{className:"footer-title",children:"Social"}),h.jsxs("div",{className:"grid grid-flow-col gap-4",children:[h.jsx("a",{href:"https://github.com/kjewt/tikul-project",target:"_blank",rel:"noopener noreferrer",children:h.jsx("button",{children:h.jsx("i",{className:"bx bxl-github text-2xl"})})}),h.jsx("button",{children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"fill-current",children:h.jsx("path",{d:"M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"})})})]})]})]})}),_B=()=>h.jsxs(h.Fragment,{children:[h.jsx(Dy,{}),h.jsxs("div",{className:"flex flex-col p-10 items-center",children:[h.jsx("span",{children:"  ."}),h.jsx(pr,{to:"/login",children:h.jsx("button",{className:"btn btn-primary  w-40 text-base-100 m-6",children:""})})]})]}),wB=()=>h.jsxs(OL,{children:[h.jsx(mB,{}),h.jsx("section",{children:h.jsxs(xL,{children:[h.jsx(Pn,{path:"/",element:h.jsx(b3,{})}),h.jsx(Pn,{path:"/join",element:h.jsx(M3,{})}),h.jsx(Pn,{path:"/home",element:h.jsx(dB,{})}),h.jsx(Pn,{path:"/add",element:h.jsx(pB,{})}),h.jsx(Pn,{path:"/complete",element:h.jsx(gB,{})}),h.jsx(Pn,{path:"/keypad",element:h.jsx(Oy,{})}),h.jsx(Pn,{path:"/detail",element:h.jsx(yB,{})}),h.jsx(Pn,{path:"/not-a-user",element:h.jsx(_B,{})}),h.jsx(Pn,{path:"/*",element:h.jsx(kL,{to:"/"})})]})}),h.jsx(vB,{})]}),EB=document.getElementById("root"),TB=dT(EB);TB.render(h.jsx(FV,{children:h.jsx(wB,{})}));
